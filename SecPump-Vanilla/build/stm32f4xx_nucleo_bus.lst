ARM GAS  /tmp/ccXOUYDs.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f4xx_nucleo_bus.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.BSP_SPI1_DeInit,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.global	BSP_SPI1_DeInit
  21              		.arch armv7e-m
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  25              		.fpu fpv4-sp-d16
  27              	BSP_SPI1_DeInit:
  28              	.LFB131:
  29              		.file 1 "Src/stm32f4xx_nucleo_bus.c"
   1:Src/stm32f4xx_nucleo_bus.c **** /**
   2:Src/stm32f4xx_nucleo_bus.c ****   ******************************************************************************
   3:Src/stm32f4xx_nucleo_bus.c ****   * @file           : stm32f4xx_nucleo_bus.c
   4:Src/stm32f4xx_nucleo_bus.c ****   * @brief          : source file for the BSP BUS IO driver
   5:Src/stm32f4xx_nucleo_bus.c ****   ******************************************************************************
   6:Src/stm32f4xx_nucleo_bus.c ****   * @attention
   7:Src/stm32f4xx_nucleo_bus.c ****   *
   8:Src/stm32f4xx_nucleo_bus.c ****   * <h2><center>&copy; Copyright (c) 2020 STMicroelectronics.
   9:Src/stm32f4xx_nucleo_bus.c ****   * All rights reserved.</center></h2>
  10:Src/stm32f4xx_nucleo_bus.c ****   *
  11:Src/stm32f4xx_nucleo_bus.c ****   * This software component is licensed by ST under Ultimate Liberty license
  12:Src/stm32f4xx_nucleo_bus.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  13:Src/stm32f4xx_nucleo_bus.c ****   * the License. You may obtain a copy of the License at:
  14:Src/stm32f4xx_nucleo_bus.c ****   *                             www.st.com/SLA0044
  15:Src/stm32f4xx_nucleo_bus.c ****   *
  16:Src/stm32f4xx_nucleo_bus.c ****   ******************************************************************************
  17:Src/stm32f4xx_nucleo_bus.c **** */
  18:Src/stm32f4xx_nucleo_bus.c **** 
  19:Src/stm32f4xx_nucleo_bus.c **** /* Includes ------------------------------------------------------------------*/
  20:Src/stm32f4xx_nucleo_bus.c **** #include "stm32f4xx_nucleo_bus.h"
  21:Src/stm32f4xx_nucleo_bus.c **** 
  22:Src/stm32f4xx_nucleo_bus.c **** __weak HAL_StatusTypeDef MX_SPI1_Init(SPI_HandleTypeDef* hspi);
  23:Src/stm32f4xx_nucleo_bus.c **** 
  24:Src/stm32f4xx_nucleo_bus.c **** /** @addtogroup BSP
  25:Src/stm32f4xx_nucleo_bus.c ****   * @{
  26:Src/stm32f4xx_nucleo_bus.c ****   */
  27:Src/stm32f4xx_nucleo_bus.c **** 
  28:Src/stm32f4xx_nucleo_bus.c **** /** @addtogroup STM32F4XX_NUCLEO
  29:Src/stm32f4xx_nucleo_bus.c ****   * @{
ARM GAS  /tmp/ccXOUYDs.s 			page 2


  30:Src/stm32f4xx_nucleo_bus.c ****   */
  31:Src/stm32f4xx_nucleo_bus.c **** 
  32:Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_BUS STM32F4XX_NUCLEO BUS
  33:Src/stm32f4xx_nucleo_bus.c ****   * @{
  34:Src/stm32f4xx_nucleo_bus.c ****   */
  35:Src/stm32f4xx_nucleo_bus.c ****   
  36:Src/stm32f4xx_nucleo_bus.c **** 
  37:Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_BUS_Exported_Variables BUS Exported Variables
  38:Src/stm32f4xx_nucleo_bus.c ****   * @{
  39:Src/stm32f4xx_nucleo_bus.c ****   */
  40:Src/stm32f4xx_nucleo_bus.c **** 
  41:Src/stm32f4xx_nucleo_bus.c **** SPI_HandleTypeDef hspi1;						
  42:Src/stm32f4xx_nucleo_bus.c **** /**
  43:Src/stm32f4xx_nucleo_bus.c ****   * @}
  44:Src/stm32f4xx_nucleo_bus.c ****   */
  45:Src/stm32f4xx_nucleo_bus.c **** 
  46:Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_BUS_Private_Variables BUS Private Variables
  47:Src/stm32f4xx_nucleo_bus.c ****   * @{
  48:Src/stm32f4xx_nucleo_bus.c ****   */
  49:Src/stm32f4xx_nucleo_bus.c **** 
  50:Src/stm32f4xx_nucleo_bus.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)						
  51:Src/stm32f4xx_nucleo_bus.c **** static uint32_t IsSPI1MspCbValid = 0;	
  52:Src/stm32f4xx_nucleo_bus.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
  53:Src/stm32f4xx_nucleo_bus.c **** static uint32_t SPI1InitCounter = 0;	
  54:Src/stm32f4xx_nucleo_bus.c **** 
  55:Src/stm32f4xx_nucleo_bus.c **** /**
  56:Src/stm32f4xx_nucleo_bus.c ****   * @}
  57:Src/stm32f4xx_nucleo_bus.c ****   */
  58:Src/stm32f4xx_nucleo_bus.c **** 
  59:Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_BUS_Private_FunctionPrototypes  BUS Private Function
  60:Src/stm32f4xx_nucleo_bus.c ****   * @{
  61:Src/stm32f4xx_nucleo_bus.c ****   */  
  62:Src/stm32f4xx_nucleo_bus.c **** 
  63:Src/stm32f4xx_nucleo_bus.c **** static void SPI1_MspInit(SPI_HandleTypeDef* hSPI); 
  64:Src/stm32f4xx_nucleo_bus.c **** static void SPI1_MspDeInit(SPI_HandleTypeDef* hSPI);
  65:Src/stm32f4xx_nucleo_bus.c **** #if (USE_CUBEMX_BSP_V2 == 1)
  66:Src/stm32f4xx_nucleo_bus.c **** static uint32_t SPI_GetPrescaler( uint32_t clk_src_hz, uint32_t baudrate_mbps );
  67:Src/stm32f4xx_nucleo_bus.c **** #endif
  68:Src/stm32f4xx_nucleo_bus.c **** 
  69:Src/stm32f4xx_nucleo_bus.c **** /**
  70:Src/stm32f4xx_nucleo_bus.c ****   * @}
  71:Src/stm32f4xx_nucleo_bus.c ****   */
  72:Src/stm32f4xx_nucleo_bus.c **** 
  73:Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_LOW_LEVEL_Private_Functions STM32F4XX_NUCLEO LOW LEVEL Private Funct
  74:Src/stm32f4xx_nucleo_bus.c ****   * @{
  75:Src/stm32f4xx_nucleo_bus.c ****   */ 
  76:Src/stm32f4xx_nucleo_bus.c ****   
  77:Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_BUS_Exported_Functions STM32F4XX_NUCLEO_BUS Exported Functions
  78:Src/stm32f4xx_nucleo_bus.c ****   * @{
  79:Src/stm32f4xx_nucleo_bus.c ****   */   
  80:Src/stm32f4xx_nucleo_bus.c **** 
  81:Src/stm32f4xx_nucleo_bus.c **** /* BUS IO driver over SPI Peripheral */
  82:Src/stm32f4xx_nucleo_bus.c **** /*******************************************************************************
  83:Src/stm32f4xx_nucleo_bus.c ****                             BUS OPERATIONS OVER SPI
  84:Src/stm32f4xx_nucleo_bus.c **** *******************************************************************************/
  85:Src/stm32f4xx_nucleo_bus.c **** /**
  86:Src/stm32f4xx_nucleo_bus.c ****   * @brief  Initializes SPI HAL. 
ARM GAS  /tmp/ccXOUYDs.s 			page 3


  87:Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
  88:Src/stm32f4xx_nucleo_bus.c ****   */
  89:Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_SPI1_Init(void) 
  90:Src/stm32f4xx_nucleo_bus.c **** {
  91:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
  92:Src/stm32f4xx_nucleo_bus.c ****   
  93:Src/stm32f4xx_nucleo_bus.c ****   hspi1.Instance  = SPI1;
  94:Src/stm32f4xx_nucleo_bus.c ****   
  95:Src/stm32f4xx_nucleo_bus.c ****   if(SPI1InitCounter++ == 0)
  96:Src/stm32f4xx_nucleo_bus.c ****   {    
  97:Src/stm32f4xx_nucleo_bus.c **** 	if (HAL_SPI_GetState(&hspi1) == HAL_SPI_STATE_RESET) 
  98:Src/stm32f4xx_nucleo_bus.c **** 	{ 
  99:Src/stm32f4xx_nucleo_bus.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 0U)
 100:Src/stm32f4xx_nucleo_bus.c **** 		/* Init the SPI Msp */
 101:Src/stm32f4xx_nucleo_bus.c **** 		SPI1_MspInit(&hspi1);
 102:Src/stm32f4xx_nucleo_bus.c **** #else
 103:Src/stm32f4xx_nucleo_bus.c **** 		if(IsSPI1MspCbValid == 0U)
 104:Src/stm32f4xx_nucleo_bus.c **** 		{
 105:Src/stm32f4xx_nucleo_bus.c **** 			if(BSP_SPI1_RegisterDefaultMspCallbacks() != BSP_ERROR_NONE)
 106:Src/stm32f4xx_nucleo_bus.c **** 			{
 107:Src/stm32f4xx_nucleo_bus.c **** 				return BSP_ERROR_MSP_FAILURE;
 108:Src/stm32f4xx_nucleo_bus.c **** 			}
 109:Src/stm32f4xx_nucleo_bus.c **** 		}	
 110:Src/stm32f4xx_nucleo_bus.c **** #endif   
 111:Src/stm32f4xx_nucleo_bus.c **** 		if(ret == BSP_ERROR_NONE)
 112:Src/stm32f4xx_nucleo_bus.c **** 		{
 113:Src/stm32f4xx_nucleo_bus.c **** 			/* Init the SPI */
 114:Src/stm32f4xx_nucleo_bus.c **** 			if (MX_SPI1_Init(&hspi1) != HAL_OK)
 115:Src/stm32f4xx_nucleo_bus.c **** 			{
 116:Src/stm32f4xx_nucleo_bus.c **** 				ret = BSP_ERROR_BUS_FAILURE;
 117:Src/stm32f4xx_nucleo_bus.c **** 			}
 118:Src/stm32f4xx_nucleo_bus.c **** 		}
 119:Src/stm32f4xx_nucleo_bus.c **** 	}
 120:Src/stm32f4xx_nucleo_bus.c ****   }	
 121:Src/stm32f4xx_nucleo_bus.c **** 
 122:Src/stm32f4xx_nucleo_bus.c ****   return ret;
 123:Src/stm32f4xx_nucleo_bus.c **** }
 124:Src/stm32f4xx_nucleo_bus.c **** 
 125:Src/stm32f4xx_nucleo_bus.c **** /**
 126:Src/stm32f4xx_nucleo_bus.c ****   * @brief  DeInitializes SPI HAL.
 127:Src/stm32f4xx_nucleo_bus.c ****   * @retval None
 128:Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 129:Src/stm32f4xx_nucleo_bus.c ****   */
 130:Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_SPI1_DeInit(void) 
 131:Src/stm32f4xx_nucleo_bus.c **** {
  30              		.loc 1 131 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
 132:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_BUS_FAILURE;
  34              		.loc 1 132 3 view .LVU1
  35              	.LVL0:
 133:Src/stm32f4xx_nucleo_bus.c ****   if (SPI1InitCounter > 0)
  36              		.loc 1 133 3 view .LVU2
  37              		.loc 1 133 23 is_stmt 0 view .LVU3
  38 0000 0D4A     		ldr	r2, .L7
 131:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_BUS_FAILURE;
ARM GAS  /tmp/ccXOUYDs.s 			page 4


  39              		.loc 1 131 1 view .LVU4
  40 0002 08B5     		push	{r3, lr}
  41              	.LCFI0:
  42              		.cfi_def_cfa_offset 8
  43              		.cfi_offset 3, -8
  44              		.cfi_offset 14, -4
  45              		.loc 1 133 23 view .LVU5
  46 0004 1368     		ldr	r3, [r2]
  47              		.loc 1 133 6 view .LVU6
  48 0006 A3B1     		cbz	r3, .L4
 134:Src/stm32f4xx_nucleo_bus.c ****   {    
 135:Src/stm32f4xx_nucleo_bus.c ****     if (--SPI1InitCounter == 0)
  49              		.loc 1 135 5 is_stmt 1 view .LVU7
  50              		.loc 1 135 9 is_stmt 0 view .LVU8
  51 0008 013B     		subs	r3, r3, #1
  52              		.loc 1 135 8 view .LVU9
  53 000a 1360     		str	r3, [r2]
  54 000c 8BB9     		cbnz	r3, .L4
 136:Src/stm32f4xx_nucleo_bus.c ****     {   
 137:Src/stm32f4xx_nucleo_bus.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 0U)
 138:Src/stm32f4xx_nucleo_bus.c **** 	  SPI1_MspDeInit(&hspi1);
  55              		.loc 1 138 4 is_stmt 1 view .LVU10
  56              	.LBB7:
  57              	.LBI7:
 139:Src/stm32f4xx_nucleo_bus.c **** #endif  
 140:Src/stm32f4xx_nucleo_bus.c **** 	  /* DeInit the SPI*/
 141:Src/stm32f4xx_nucleo_bus.c **** 	  if (HAL_SPI_DeInit(&hspi1) == HAL_OK) 
 142:Src/stm32f4xx_nucleo_bus.c **** 	  {
 143:Src/stm32f4xx_nucleo_bus.c **** 		ret = BSP_ERROR_NONE;		
 144:Src/stm32f4xx_nucleo_bus.c **** 	  }
 145:Src/stm32f4xx_nucleo_bus.c **** 	}
 146:Src/stm32f4xx_nucleo_bus.c ****   }
 147:Src/stm32f4xx_nucleo_bus.c ****   return ret;
 148:Src/stm32f4xx_nucleo_bus.c **** }
 149:Src/stm32f4xx_nucleo_bus.c **** 
 150:Src/stm32f4xx_nucleo_bus.c **** /**
 151:Src/stm32f4xx_nucleo_bus.c ****   * @brief  Write Data through SPI BUS.
 152:Src/stm32f4xx_nucleo_bus.c ****   * @param  pData: Pointer to data buffer to send
 153:Src/stm32f4xx_nucleo_bus.c ****   * @param  Length: Length of data in byte
 154:Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 155:Src/stm32f4xx_nucleo_bus.c ****   */
 156:Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_SPI1_Send(uint8_t *pData, uint16_t Length)
 157:Src/stm32f4xx_nucleo_bus.c **** {
 158:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 159:Src/stm32f4xx_nucleo_bus.c ****   
 160:Src/stm32f4xx_nucleo_bus.c ****   if(HAL_SPI_Transmit(&hspi1, pData, Length, BUS_SPI1_POLL_TIMEOUT) != HAL_OK)
 161:Src/stm32f4xx_nucleo_bus.c ****   {
 162:Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_UNKNOWN_FAILURE;
 163:Src/stm32f4xx_nucleo_bus.c ****   }
 164:Src/stm32f4xx_nucleo_bus.c ****   return ret;
 165:Src/stm32f4xx_nucleo_bus.c **** }
 166:Src/stm32f4xx_nucleo_bus.c **** 
 167:Src/stm32f4xx_nucleo_bus.c **** /**
 168:Src/stm32f4xx_nucleo_bus.c ****   * @brief  Receive Data from SPI BUS
 169:Src/stm32f4xx_nucleo_bus.c ****   * @param  pData: Pointer to data buffer to receive
 170:Src/stm32f4xx_nucleo_bus.c ****   * @param  Length: Length of data in byte
 171:Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
ARM GAS  /tmp/ccXOUYDs.s 			page 5


 172:Src/stm32f4xx_nucleo_bus.c ****   */
 173:Src/stm32f4xx_nucleo_bus.c **** int32_t  BSP_SPI1_Recv(uint8_t *pData, uint16_t Length)
 174:Src/stm32f4xx_nucleo_bus.c **** {
 175:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 176:Src/stm32f4xx_nucleo_bus.c ****   
 177:Src/stm32f4xx_nucleo_bus.c ****   if(HAL_SPI_Receive(&hspi1, pData, Length, BUS_SPI1_POLL_TIMEOUT) != HAL_OK)
 178:Src/stm32f4xx_nucleo_bus.c ****   {
 179:Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_UNKNOWN_FAILURE;
 180:Src/stm32f4xx_nucleo_bus.c ****   }
 181:Src/stm32f4xx_nucleo_bus.c ****   return ret;
 182:Src/stm32f4xx_nucleo_bus.c **** }
 183:Src/stm32f4xx_nucleo_bus.c **** 
 184:Src/stm32f4xx_nucleo_bus.c **** /**
 185:Src/stm32f4xx_nucleo_bus.c ****   * @brief  Send and Receive data to/from SPI BUS (Full duplex)
 186:Src/stm32f4xx_nucleo_bus.c ****   * @param  pData: Pointer to data buffer to send/receive
 187:Src/stm32f4xx_nucleo_bus.c ****   * @param  Length: Length of data in byte
 188:Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 189:Src/stm32f4xx_nucleo_bus.c ****   */
 190:Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_SPI1_SendRecv(uint8_t *pTxData, uint8_t *pRxData, uint16_t Length)
 191:Src/stm32f4xx_nucleo_bus.c **** {
 192:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 193:Src/stm32f4xx_nucleo_bus.c ****   
 194:Src/stm32f4xx_nucleo_bus.c ****   if(HAL_SPI_TransmitReceive(&hspi1, pTxData, pRxData, Length, BUS_SPI1_POLL_TIMEOUT) != HAL_OK)
 195:Src/stm32f4xx_nucleo_bus.c ****   {
 196:Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_UNKNOWN_FAILURE;
 197:Src/stm32f4xx_nucleo_bus.c ****   }
 198:Src/stm32f4xx_nucleo_bus.c ****   return ret;
 199:Src/stm32f4xx_nucleo_bus.c **** }
 200:Src/stm32f4xx_nucleo_bus.c **** 
 201:Src/stm32f4xx_nucleo_bus.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)  
 202:Src/stm32f4xx_nucleo_bus.c **** /**
 203:Src/stm32f4xx_nucleo_bus.c ****   * @brief Register Default BSP SPI1 Bus Msp Callbacks
 204:Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 205:Src/stm32f4xx_nucleo_bus.c ****   */
 206:Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_SPI1_RegisterDefaultMspCallbacks (void)
 207:Src/stm32f4xx_nucleo_bus.c **** {
 208:Src/stm32f4xx_nucleo_bus.c **** 
 209:Src/stm32f4xx_nucleo_bus.c ****   __HAL_SPI_RESET_HANDLE_STATE(&hspi1);
 210:Src/stm32f4xx_nucleo_bus.c ****   
 211:Src/stm32f4xx_nucleo_bus.c ****   /* Register MspInit Callback */
 212:Src/stm32f4xx_nucleo_bus.c ****   if (HAL_SPI_RegisterCallback(&hspi1, HAL_SPI_MSPINIT_CB_ID, SPI1_MspInit)  != HAL_OK)
 213:Src/stm32f4xx_nucleo_bus.c ****   {
 214:Src/stm32f4xx_nucleo_bus.c ****     return BSP_ERROR_PERIPH_FAILURE;
 215:Src/stm32f4xx_nucleo_bus.c ****   }
 216:Src/stm32f4xx_nucleo_bus.c ****   
 217:Src/stm32f4xx_nucleo_bus.c ****   /* Register MspDeInit Callback */
 218:Src/stm32f4xx_nucleo_bus.c ****   if (HAL_SPI_RegisterCallback(&hspi1, HAL_SPI_MSPDEINIT_CB_ID, SPI1_MspDeInit) != HAL_OK)
 219:Src/stm32f4xx_nucleo_bus.c ****   {
 220:Src/stm32f4xx_nucleo_bus.c ****     return BSP_ERROR_PERIPH_FAILURE;
 221:Src/stm32f4xx_nucleo_bus.c ****   }
 222:Src/stm32f4xx_nucleo_bus.c ****   IsSPI1MspCbValid = 1;
 223:Src/stm32f4xx_nucleo_bus.c ****   
 224:Src/stm32f4xx_nucleo_bus.c ****   return BSP_ERROR_NONE;  
 225:Src/stm32f4xx_nucleo_bus.c **** }
 226:Src/stm32f4xx_nucleo_bus.c **** 
 227:Src/stm32f4xx_nucleo_bus.c **** /**
 228:Src/stm32f4xx_nucleo_bus.c ****   * @brief BSP SPI1 Bus Msp Callback registering
ARM GAS  /tmp/ccXOUYDs.s 			page 6


 229:Src/stm32f4xx_nucleo_bus.c ****   * @param Callbacks     pointer to SPI1 MspInit/MspDeInit callback functions
 230:Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 231:Src/stm32f4xx_nucleo_bus.c ****   */
 232:Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_SPI1_RegisterMspCallbacks (BSP_SPI_Cb_t *Callbacks)
 233:Src/stm32f4xx_nucleo_bus.c **** {
 234:Src/stm32f4xx_nucleo_bus.c ****   /* Prevent unused argument(s) compilation warning */
 235:Src/stm32f4xx_nucleo_bus.c ****   __HAL_SPI_RESET_HANDLE_STATE(&hspi1);  
 236:Src/stm32f4xx_nucleo_bus.c ****  
 237:Src/stm32f4xx_nucleo_bus.c ****    /* Register MspInit Callback */
 238:Src/stm32f4xx_nucleo_bus.c ****   if (HAL_SPI_RegisterCallback(&hspi1, HAL_SPI_MSPINIT_CB_ID, Callbacks->pMspInitCb)  != HAL_OK)
 239:Src/stm32f4xx_nucleo_bus.c ****   {
 240:Src/stm32f4xx_nucleo_bus.c ****     return BSP_ERROR_PERIPH_FAILURE;
 241:Src/stm32f4xx_nucleo_bus.c ****   }
 242:Src/stm32f4xx_nucleo_bus.c ****   
 243:Src/stm32f4xx_nucleo_bus.c ****   /* Register MspDeInit Callback */
 244:Src/stm32f4xx_nucleo_bus.c ****   if (HAL_SPI_RegisterCallback(&hspi1, HAL_SPI_MSPDEINIT_CB_ID, Callbacks->pMspDeInitCb) != HAL_OK)
 245:Src/stm32f4xx_nucleo_bus.c ****   {
 246:Src/stm32f4xx_nucleo_bus.c ****     return BSP_ERROR_PERIPH_FAILURE;
 247:Src/stm32f4xx_nucleo_bus.c ****   }
 248:Src/stm32f4xx_nucleo_bus.c ****   
 249:Src/stm32f4xx_nucleo_bus.c ****   IsSPI1MspCbValid = 1;
 250:Src/stm32f4xx_nucleo_bus.c ****   
 251:Src/stm32f4xx_nucleo_bus.c ****   return BSP_ERROR_NONE;  
 252:Src/stm32f4xx_nucleo_bus.c **** }
 253:Src/stm32f4xx_nucleo_bus.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 254:Src/stm32f4xx_nucleo_bus.c **** 
 255:Src/stm32f4xx_nucleo_bus.c **** /**
 256:Src/stm32f4xx_nucleo_bus.c ****   * @brief  Return system tick in ms
 257:Src/stm32f4xx_nucleo_bus.c ****   * @retval Current HAL time base time stamp
 258:Src/stm32f4xx_nucleo_bus.c ****   */
 259:Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_GetTick(void) {
 260:Src/stm32f4xx_nucleo_bus.c ****   return HAL_GetTick();
 261:Src/stm32f4xx_nucleo_bus.c **** }
 262:Src/stm32f4xx_nucleo_bus.c **** 
 263:Src/stm32f4xx_nucleo_bus.c **** /* SPI1 init function */ 
 264:Src/stm32f4xx_nucleo_bus.c **** 
 265:Src/stm32f4xx_nucleo_bus.c **** __weak HAL_StatusTypeDef MX_SPI1_Init(SPI_HandleTypeDef* hspi)
 266:Src/stm32f4xx_nucleo_bus.c **** {
 267:Src/stm32f4xx_nucleo_bus.c ****   HAL_StatusTypeDef ret = HAL_OK;
 268:Src/stm32f4xx_nucleo_bus.c ****   hspi->Instance = SPI1;
 269:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.Mode = SPI_MODE_MASTER;
 270:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.Direction = SPI_DIRECTION_2LINES;
 271:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.DataSize = SPI_DATASIZE_8BIT;
 272:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.CLKPolarity = SPI_POLARITY_LOW;
 273:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.CLKPhase = SPI_PHASE_1EDGE;
 274:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.NSS = SPI_NSS_SOFT;
 275:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_16;
 276:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.FirstBit = SPI_FIRSTBIT_MSB;
 277:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.TIMode = SPI_TIMODE_DISABLE;
 278:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 279:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.CRCPolynomial = 10;
 280:Src/stm32f4xx_nucleo_bus.c ****   if (HAL_SPI_Init(hspi) != HAL_OK)
 281:Src/stm32f4xx_nucleo_bus.c ****   {
 282:Src/stm32f4xx_nucleo_bus.c ****     ret = HAL_ERROR;
 283:Src/stm32f4xx_nucleo_bus.c ****   }
 284:Src/stm32f4xx_nucleo_bus.c **** 
 285:Src/stm32f4xx_nucleo_bus.c ****   return ret;
ARM GAS  /tmp/ccXOUYDs.s 			page 7


 286:Src/stm32f4xx_nucleo_bus.c **** }
 287:Src/stm32f4xx_nucleo_bus.c **** 
 288:Src/stm32f4xx_nucleo_bus.c **** static void SPI1_MspInit(SPI_HandleTypeDef* spiHandle)
 289:Src/stm32f4xx_nucleo_bus.c **** {
 290:Src/stm32f4xx_nucleo_bus.c ****   GPIO_InitTypeDef GPIO_InitStruct;
 291:Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE BEGIN SPI1_MspInit 0 */
 292:Src/stm32f4xx_nucleo_bus.c **** 
 293:Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE END SPI1_MspInit 0 */
 294:Src/stm32f4xx_nucleo_bus.c ****     /* Enable Peripheral clock */
 295:Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_SPI1_CLK_ENABLE();
 296:Src/stm32f4xx_nucleo_bus.c ****   
 297:Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 298:Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
 299:Src/stm32f4xx_nucleo_bus.c ****     /**SPI1 GPIO Configuration    
 300:Src/stm32f4xx_nucleo_bus.c ****     PA6     ------> SPI1_MISO
 301:Src/stm32f4xx_nucleo_bus.c ****     PA7     ------> SPI1_MOSI
 302:Src/stm32f4xx_nucleo_bus.c ****     PB3     ------> SPI1_SCK 
 303:Src/stm32f4xx_nucleo_bus.c ****     */
 304:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pin = GPIO_PIN_6|GPIO_PIN_7;
 305:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 306:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 307:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 308:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 309:Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 310:Src/stm32f4xx_nucleo_bus.c **** 
 311:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pin = GPIO_PIN_3;
 312:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 313:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 314:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 315:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 316:Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 317:Src/stm32f4xx_nucleo_bus.c **** 
 318:Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE BEGIN SPI1_MspInit 1 */
 319:Src/stm32f4xx_nucleo_bus.c **** 
 320:Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE END SPI1_MspInit 1 */
 321:Src/stm32f4xx_nucleo_bus.c **** }
 322:Src/stm32f4xx_nucleo_bus.c **** 
 323:Src/stm32f4xx_nucleo_bus.c **** static void SPI1_MspDeInit(SPI_HandleTypeDef* spiHandle)
  58              		.loc 1 323 13 view .LVU11
  59              	.LVL1:
  60              	.LBB8:
 324:Src/stm32f4xx_nucleo_bus.c **** {
 325:Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE BEGIN SPI1_MspDeInit 0 */
 326:Src/stm32f4xx_nucleo_bus.c **** 
 327:Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE END SPI1_MspDeInit 0 */
 328:Src/stm32f4xx_nucleo_bus.c ****     /* Peripheral clock disable */
 329:Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_SPI1_CLK_DISABLE();
  61              		.loc 1 329 5 view .LVU12
  62 000e 0B4A     		ldr	r2, .L7+4
 330:Src/stm32f4xx_nucleo_bus.c ****   
 331:Src/stm32f4xx_nucleo_bus.c ****     /**SPI1 GPIO Configuration    
 332:Src/stm32f4xx_nucleo_bus.c ****     PA6     ------> SPI1_MISO
 333:Src/stm32f4xx_nucleo_bus.c ****     PA7     ------> SPI1_MOSI
 334:Src/stm32f4xx_nucleo_bus.c ****     PB3     ------> SPI1_SCK 
 335:Src/stm32f4xx_nucleo_bus.c ****     */
 336:Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_DeInit(GPIOA, GPIO_PIN_6|GPIO_PIN_7);
  63              		.loc 1 336 5 is_stmt 0 view .LVU13
ARM GAS  /tmp/ccXOUYDs.s 			page 8


  64 0010 0B48     		ldr	r0, .L7+8
 329:Src/stm32f4xx_nucleo_bus.c ****   
  65              		.loc 1 329 5 view .LVU14
  66 0012 536C     		ldr	r3, [r2, #68]
  67 0014 23F48053 		bic	r3, r3, #4096
  68 0018 5364     		str	r3, [r2, #68]
  69              		.loc 1 336 5 is_stmt 1 view .LVU15
  70 001a C021     		movs	r1, #192
  71 001c FFF7FEFF 		bl	HAL_GPIO_DeInit
  72              	.LVL2:
 337:Src/stm32f4xx_nucleo_bus.c **** 
 338:Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_DeInit(GPIOB, GPIO_PIN_3);
  73              		.loc 1 338 5 view .LVU16
  74 0020 0848     		ldr	r0, .L7+12
  75 0022 0821     		movs	r1, #8
  76 0024 FFF7FEFF 		bl	HAL_GPIO_DeInit
  77              	.LVL3:
  78              	.LBE8:
  79              	.LBE7:
 141:Src/stm32f4xx_nucleo_bus.c **** 	  {
  80              		.loc 1 141 4 view .LVU17
 141:Src/stm32f4xx_nucleo_bus.c **** 	  {
  81              		.loc 1 141 8 is_stmt 0 view .LVU18
  82 0028 0748     		ldr	r0, .L7+16
  83 002a FFF7FEFF 		bl	HAL_SPI_DeInit
  84              	.LVL4:
 141:Src/stm32f4xx_nucleo_bus.c **** 	  {
  85              		.loc 1 141 7 view .LVU19
  86 002e 00B9     		cbnz	r0, .L4
 148:Src/stm32f4xx_nucleo_bus.c **** 
  87              		.loc 1 148 1 view .LVU20
  88 0030 08BD     		pop	{r3, pc}
  89              	.LVL5:
  90              	.L4:
 132:Src/stm32f4xx_nucleo_bus.c ****   if (SPI1InitCounter > 0)
  91              		.loc 1 132 11 view .LVU21
  92 0032 6FF00700 		mvn	r0, #7
 148:Src/stm32f4xx_nucleo_bus.c **** 
  93              		.loc 1 148 1 view .LVU22
  94 0036 08BD     		pop	{r3, pc}
  95              	.L8:
  96              		.align	2
  97              	.L7:
  98 0038 00000000 		.word	.LANCHOR0
  99 003c 00380240 		.word	1073887232
 100 0040 00000240 		.word	1073872896
 101 0044 00040240 		.word	1073873920
 102 0048 00000000 		.word	hspi1
 103              		.cfi_endproc
 104              	.LFE131:
 106              		.section	.text.BSP_SPI1_Send,"ax",%progbits
 107              		.align	1
 108              		.p2align 2,,3
 109              		.global	BSP_SPI1_Send
 110              		.syntax unified
 111              		.thumb
 112              		.thumb_func
ARM GAS  /tmp/ccXOUYDs.s 			page 9


 113              		.fpu fpv4-sp-d16
 115              	BSP_SPI1_Send:
 116              	.LVL6:
 117              	.LFB132:
 157:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 118              		.loc 1 157 1 is_stmt 1 view -0
 119              		.cfi_startproc
 120              		@ args = 0, pretend = 0, frame = 0
 121              		@ frame_needed = 0, uses_anonymous_args = 0
 158:Src/stm32f4xx_nucleo_bus.c ****   
 122              		.loc 1 158 3 view .LVU24
 160:Src/stm32f4xx_nucleo_bus.c ****   {
 123              		.loc 1 160 3 view .LVU25
 157:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 124              		.loc 1 157 1 is_stmt 0 view .LVU26
 125 0000 08B5     		push	{r3, lr}
 126              	.LCFI1:
 127              		.cfi_def_cfa_offset 8
 128              		.cfi_offset 3, -8
 129              		.cfi_offset 14, -4
 157:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 130              		.loc 1 157 1 view .LVU27
 131 0002 0A46     		mov	r2, r1
 160:Src/stm32f4xx_nucleo_bus.c ****   {
 132              		.loc 1 160 6 view .LVU28
 133 0004 4FF48053 		mov	r3, #4096
 134 0008 0146     		mov	r1, r0
 135              	.LVL7:
 160:Src/stm32f4xx_nucleo_bus.c ****   {
 136              		.loc 1 160 6 view .LVU29
 137 000a 0448     		ldr	r0, .L13
 138              	.LVL8:
 160:Src/stm32f4xx_nucleo_bus.c ****   {
 139              		.loc 1 160 6 view .LVU30
 140 000c FFF7FEFF 		bl	HAL_SPI_Transmit
 141              	.LVL9:
 160:Src/stm32f4xx_nucleo_bus.c ****   {
 142              		.loc 1 160 5 view .LVU31
 143 0010 0028     		cmp	r0, #0
 165:Src/stm32f4xx_nucleo_bus.c **** 
 144              		.loc 1 165 1 view .LVU32
 145 0012 14BF     		ite	ne
 146 0014 6FF00500 		mvnne	r0, #5
 147 0018 0020     		moveq	r0, #0
 148 001a 08BD     		pop	{r3, pc}
 149              	.L14:
 150              		.align	2
 151              	.L13:
 152 001c 00000000 		.word	hspi1
 153              		.cfi_endproc
 154              	.LFE132:
 156              		.section	.text.BSP_SPI1_Recv,"ax",%progbits
 157              		.align	1
 158              		.p2align 2,,3
 159              		.global	BSP_SPI1_Recv
 160              		.syntax unified
 161              		.thumb
ARM GAS  /tmp/ccXOUYDs.s 			page 10


 162              		.thumb_func
 163              		.fpu fpv4-sp-d16
 165              	BSP_SPI1_Recv:
 166              	.LVL10:
 167              	.LFB133:
 174:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 168              		.loc 1 174 1 is_stmt 1 view -0
 169              		.cfi_startproc
 170              		@ args = 0, pretend = 0, frame = 0
 171              		@ frame_needed = 0, uses_anonymous_args = 0
 175:Src/stm32f4xx_nucleo_bus.c ****   
 172              		.loc 1 175 3 view .LVU34
 177:Src/stm32f4xx_nucleo_bus.c ****   {
 173              		.loc 1 177 3 view .LVU35
 174:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 174              		.loc 1 174 1 is_stmt 0 view .LVU36
 175 0000 08B5     		push	{r3, lr}
 176              	.LCFI2:
 177              		.cfi_def_cfa_offset 8
 178              		.cfi_offset 3, -8
 179              		.cfi_offset 14, -4
 174:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 180              		.loc 1 174 1 view .LVU37
 181 0002 0A46     		mov	r2, r1
 177:Src/stm32f4xx_nucleo_bus.c ****   {
 182              		.loc 1 177 6 view .LVU38
 183 0004 4FF48053 		mov	r3, #4096
 184 0008 0146     		mov	r1, r0
 185              	.LVL11:
 177:Src/stm32f4xx_nucleo_bus.c ****   {
 186              		.loc 1 177 6 view .LVU39
 187 000a 0448     		ldr	r0, .L19
 188              	.LVL12:
 177:Src/stm32f4xx_nucleo_bus.c ****   {
 189              		.loc 1 177 6 view .LVU40
 190 000c FFF7FEFF 		bl	HAL_SPI_Receive
 191              	.LVL13:
 177:Src/stm32f4xx_nucleo_bus.c ****   {
 192              		.loc 1 177 5 view .LVU41
 193 0010 0028     		cmp	r0, #0
 182:Src/stm32f4xx_nucleo_bus.c **** 
 194              		.loc 1 182 1 view .LVU42
 195 0012 14BF     		ite	ne
 196 0014 6FF00500 		mvnne	r0, #5
 197 0018 0020     		moveq	r0, #0
 198 001a 08BD     		pop	{r3, pc}
 199              	.L20:
 200              		.align	2
 201              	.L19:
 202 001c 00000000 		.word	hspi1
 203              		.cfi_endproc
 204              	.LFE133:
 206              		.section	.text.BSP_SPI1_SendRecv,"ax",%progbits
 207              		.align	1
 208              		.p2align 2,,3
 209              		.global	BSP_SPI1_SendRecv
 210              		.syntax unified
ARM GAS  /tmp/ccXOUYDs.s 			page 11


 211              		.thumb
 212              		.thumb_func
 213              		.fpu fpv4-sp-d16
 215              	BSP_SPI1_SendRecv:
 216              	.LVL14:
 217              	.LFB134:
 191:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 218              		.loc 1 191 1 is_stmt 1 view -0
 219              		.cfi_startproc
 220              		@ args = 0, pretend = 0, frame = 0
 221              		@ frame_needed = 0, uses_anonymous_args = 0
 192:Src/stm32f4xx_nucleo_bus.c ****   
 222              		.loc 1 192 3 view .LVU44
 194:Src/stm32f4xx_nucleo_bus.c ****   {
 223              		.loc 1 194 3 view .LVU45
 191:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 224              		.loc 1 191 1 is_stmt 0 view .LVU46
 225 0000 30B5     		push	{r4, r5, lr}
 226              	.LCFI3:
 227              		.cfi_def_cfa_offset 12
 228              		.cfi_offset 4, -12
 229              		.cfi_offset 5, -8
 230              		.cfi_offset 14, -4
 231 0002 83B0     		sub	sp, sp, #12
 232              	.LCFI4:
 233              		.cfi_def_cfa_offset 24
 191:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 234              		.loc 1 191 1 view .LVU47
 235 0004 0D46     		mov	r5, r1
 194:Src/stm32f4xx_nucleo_bus.c ****   {
 236              		.loc 1 194 6 view .LVU48
 237 0006 4FF48054 		mov	r4, #4096
 191:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 238              		.loc 1 191 1 view .LVU49
 239 000a 1346     		mov	r3, r2
 194:Src/stm32f4xx_nucleo_bus.c ****   {
 240              		.loc 1 194 6 view .LVU50
 241 000c 0146     		mov	r1, r0
 242              	.LVL15:
 194:Src/stm32f4xx_nucleo_bus.c ****   {
 243              		.loc 1 194 6 view .LVU51
 244 000e 2A46     		mov	r2, r5
 245              	.LVL16:
 194:Src/stm32f4xx_nucleo_bus.c ****   {
 246              		.loc 1 194 6 view .LVU52
 247 0010 0094     		str	r4, [sp]
 248 0012 0548     		ldr	r0, .L25
 249              	.LVL17:
 194:Src/stm32f4xx_nucleo_bus.c ****   {
 250              		.loc 1 194 6 view .LVU53
 251 0014 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 252              	.LVL18:
 194:Src/stm32f4xx_nucleo_bus.c ****   {
 253              		.loc 1 194 5 view .LVU54
 254 0018 0028     		cmp	r0, #0
 199:Src/stm32f4xx_nucleo_bus.c **** 
 255              		.loc 1 199 1 view .LVU55
ARM GAS  /tmp/ccXOUYDs.s 			page 12


 256 001a 14BF     		ite	ne
 257 001c 6FF00500 		mvnne	r0, #5
 258 0020 0020     		moveq	r0, #0
 259 0022 03B0     		add	sp, sp, #12
 260              	.LCFI5:
 261              		.cfi_def_cfa_offset 12
 262              		@ sp needed
 263 0024 30BD     		pop	{r4, r5, pc}
 264              	.LVL19:
 265              	.L26:
 199:Src/stm32f4xx_nucleo_bus.c **** 
 266              		.loc 1 199 1 view .LVU56
 267 0026 00BF     		.align	2
 268              	.L25:
 269 0028 00000000 		.word	hspi1
 270              		.cfi_endproc
 271              	.LFE134:
 273              		.section	.text.BSP_GetTick,"ax",%progbits
 274              		.align	1
 275              		.p2align 2,,3
 276              		.global	BSP_GetTick
 277              		.syntax unified
 278              		.thumb
 279              		.thumb_func
 280              		.fpu fpv4-sp-d16
 282              	BSP_GetTick:
 283              	.LFB135:
 259:Src/stm32f4xx_nucleo_bus.c ****   return HAL_GetTick();
 284              		.loc 1 259 27 is_stmt 1 view -0
 285              		.cfi_startproc
 286              		@ args = 0, pretend = 0, frame = 0
 287              		@ frame_needed = 0, uses_anonymous_args = 0
 288              		@ link register save eliminated.
 260:Src/stm32f4xx_nucleo_bus.c **** }
 289              		.loc 1 260 3 view .LVU58
 260:Src/stm32f4xx_nucleo_bus.c **** }
 290              		.loc 1 260 10 is_stmt 0 view .LVU59
 291 0000 FFF7FEBF 		b	HAL_GetTick
 292              	.LVL20:
 293              		.cfi_endproc
 294              	.LFE135:
 296              		.section	.text.MX_SPI1_Init,"ax",%progbits
 297              		.align	1
 298              		.p2align 2,,3
 299              		.weak	MX_SPI1_Init
 300              		.syntax unified
 301              		.thumb
 302              		.thumb_func
 303              		.fpu fpv4-sp-d16
 305              	MX_SPI1_Init:
 306              	.LVL21:
 307              	.LFB136:
 266:Src/stm32f4xx_nucleo_bus.c ****   HAL_StatusTypeDef ret = HAL_OK;
 308              		.loc 1 266 1 is_stmt 1 view -0
 309              		.cfi_startproc
 310              		@ args = 0, pretend = 0, frame = 0
 311              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccXOUYDs.s 			page 13


 267:Src/stm32f4xx_nucleo_bus.c ****   hspi->Instance = SPI1;
 312              		.loc 1 267 3 view .LVU61
 268:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.Mode = SPI_MODE_MASTER;
 313              		.loc 1 268 3 view .LVU62
 268:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.Mode = SPI_MODE_MASTER;
 314              		.loc 1 268 18 is_stmt 0 view .LVU63
 315 0000 0D4A     		ldr	r2, .L30
 266:Src/stm32f4xx_nucleo_bus.c ****   HAL_StatusTypeDef ret = HAL_OK;
 316              		.loc 1 266 1 view .LVU64
 317 0002 38B5     		push	{r3, r4, r5, lr}
 318              	.LCFI6:
 319              		.cfi_def_cfa_offset 16
 320              		.cfi_offset 3, -16
 321              		.cfi_offset 4, -12
 322              		.cfi_offset 5, -8
 323              		.cfi_offset 14, -4
 268:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.Mode = SPI_MODE_MASTER;
 324              		.loc 1 268 18 view .LVU65
 325 0004 0260     		str	r2, [r0]
 269:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.Direction = SPI_DIRECTION_2LINES;
 326              		.loc 1 269 3 is_stmt 1 view .LVU66
 269:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.Direction = SPI_DIRECTION_2LINES;
 327              		.loc 1 269 19 is_stmt 0 view .LVU67
 328 0006 4FF48272 		mov	r2, #260
 279:Src/stm32f4xx_nucleo_bus.c ****   if (HAL_SPI_Init(hspi) != HAL_OK)
 329              		.loc 1 279 28 view .LVU68
 330 000a 0A21     		movs	r1, #10
 274:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_16;
 331              		.loc 1 274 18 view .LVU69
 332 000c 4FF40075 		mov	r5, #512
 275:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.FirstBit = SPI_FIRSTBIT_MSB;
 333              		.loc 1 275 32 view .LVU70
 334 0010 1824     		movs	r4, #24
 269:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.Direction = SPI_DIRECTION_2LINES;
 335              		.loc 1 269 19 view .LVU71
 336 0012 4260     		str	r2, [r0, #4]
 270:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.DataSize = SPI_DATASIZE_8BIT;
 337              		.loc 1 270 3 is_stmt 1 view .LVU72
 270:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.DataSize = SPI_DATASIZE_8BIT;
 338              		.loc 1 270 24 is_stmt 0 view .LVU73
 339 0014 0022     		movs	r2, #0
 275:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.FirstBit = SPI_FIRSTBIT_MSB;
 340              		.loc 1 275 32 view .LVU74
 341 0016 C0E90654 		strd	r5, r4, [r0, #24]
 271:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.CLKPolarity = SPI_POLARITY_LOW;
 342              		.loc 1 271 23 view .LVU75
 343 001a C0E90222 		strd	r2, r2, [r0, #8]
 272:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.CLKPhase = SPI_PHASE_1EDGE;
 344              		.loc 1 272 3 is_stmt 1 view .LVU76
 273:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.NSS = SPI_NSS_SOFT;
 345              		.loc 1 273 23 is_stmt 0 view .LVU77
 346 001e C0E90422 		strd	r2, r2, [r0, #16]
 274:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_16;
 347              		.loc 1 274 3 is_stmt 1 view .LVU78
 275:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.FirstBit = SPI_FIRSTBIT_MSB;
 348              		.loc 1 275 3 view .LVU79
 276:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.TIMode = SPI_TIMODE_DISABLE;
ARM GAS  /tmp/ccXOUYDs.s 			page 14


 349              		.loc 1 276 3 view .LVU80
 277:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 350              		.loc 1 277 21 is_stmt 0 view .LVU81
 351 0022 C0E90822 		strd	r2, r2, [r0, #32]
 278:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.CRCPolynomial = 10;
 352              		.loc 1 278 3 is_stmt 1 view .LVU82
 279:Src/stm32f4xx_nucleo_bus.c ****   if (HAL_SPI_Init(hspi) != HAL_OK)
 353              		.loc 1 279 28 is_stmt 0 view .LVU83
 354 0026 C162     		str	r1, [r0, #44]
 278:Src/stm32f4xx_nucleo_bus.c ****   hspi->Init.CRCPolynomial = 10;
 355              		.loc 1 278 29 view .LVU84
 356 0028 8262     		str	r2, [r0, #40]
 279:Src/stm32f4xx_nucleo_bus.c ****   if (HAL_SPI_Init(hspi) != HAL_OK)
 357              		.loc 1 279 3 is_stmt 1 view .LVU85
 280:Src/stm32f4xx_nucleo_bus.c ****   {
 358              		.loc 1 280 3 view .LVU86
 280:Src/stm32f4xx_nucleo_bus.c ****   {
 359              		.loc 1 280 7 is_stmt 0 view .LVU87
 360 002a FFF7FEFF 		bl	HAL_SPI_Init
 361              	.LVL22:
 285:Src/stm32f4xx_nucleo_bus.c **** }
 362              		.loc 1 285 3 is_stmt 1 view .LVU88
 286:Src/stm32f4xx_nucleo_bus.c **** 
 363              		.loc 1 286 1 is_stmt 0 view .LVU89
 364 002e 0038     		subs	r0, r0, #0
 365              	.LVL23:
 286:Src/stm32f4xx_nucleo_bus.c **** 
 366              		.loc 1 286 1 view .LVU90
 367 0030 18BF     		it	ne
 368 0032 0120     		movne	r0, #1
 369 0034 38BD     		pop	{r3, r4, r5, pc}
 370              	.L31:
 371 0036 00BF     		.align	2
 372              	.L30:
 373 0038 00300140 		.word	1073819648
 374              		.cfi_endproc
 375              	.LFE136:
 377              		.section	.text.BSP_SPI1_Init,"ax",%progbits
 378              		.align	1
 379              		.p2align 2,,3
 380              		.global	BSP_SPI1_Init
 381              		.syntax unified
 382              		.thumb
 383              		.thumb_func
 384              		.fpu fpv4-sp-d16
 386              	BSP_SPI1_Init:
 387              	.LFB130:
  90:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 388              		.loc 1 90 1 is_stmt 1 view -0
 389              		.cfi_startproc
 390              		@ args = 0, pretend = 0, frame = 32
 391              		@ frame_needed = 0, uses_anonymous_args = 0
  91:Src/stm32f4xx_nucleo_bus.c ****   
 392              		.loc 1 91 3 view .LVU92
 393              	.LVL24:
  93:Src/stm32f4xx_nucleo_bus.c ****   
 394              		.loc 1 93 3 view .LVU93
ARM GAS  /tmp/ccXOUYDs.s 			page 15


  90:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 395              		.loc 1 90 1 is_stmt 0 view .LVU94
 396 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 397              	.LCFI7:
 398              		.cfi_def_cfa_offset 24
 399              		.cfi_offset 4, -24
 400              		.cfi_offset 5, -20
 401              		.cfi_offset 6, -16
 402              		.cfi_offset 7, -12
 403              		.cfi_offset 8, -8
 404              		.cfi_offset 14, -4
  95:Src/stm32f4xx_nucleo_bus.c ****   {    
 405              		.loc 1 95 21 view .LVU95
 406 0004 294A     		ldr	r2, .L40
  93:Src/stm32f4xx_nucleo_bus.c ****   
 407              		.loc 1 93 19 view .LVU96
 408 0006 2A4C     		ldr	r4, .L40+4
  95:Src/stm32f4xx_nucleo_bus.c ****   {    
 409              		.loc 1 95 21 view .LVU97
 410 0008 1368     		ldr	r3, [r2]
  93:Src/stm32f4xx_nucleo_bus.c ****   
 411              		.loc 1 93 19 view .LVU98
 412 000a 2A49     		ldr	r1, .L40+8
 413 000c 2160     		str	r1, [r4]
  95:Src/stm32f4xx_nucleo_bus.c ****   {    
 414              		.loc 1 95 3 is_stmt 1 view .LVU99
  95:Src/stm32f4xx_nucleo_bus.c ****   {    
 415              		.loc 1 95 21 is_stmt 0 view .LVU100
 416 000e 591C     		adds	r1, r3, #1
  90:Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 417              		.loc 1 90 1 view .LVU101
 418 0010 88B0     		sub	sp, sp, #32
 419              	.LCFI8:
 420              		.cfi_def_cfa_offset 56
  95:Src/stm32f4xx_nucleo_bus.c ****   {    
 421              		.loc 1 95 21 view .LVU102
 422 0012 1160     		str	r1, [r2]
  95:Src/stm32f4xx_nucleo_bus.c ****   {    
 423              		.loc 1 95 5 view .LVU103
 424 0014 1BB1     		cbz	r3, .L33
 425              	.L35:
  91:Src/stm32f4xx_nucleo_bus.c ****   
 426              		.loc 1 91 11 view .LVU104
 427 0016 0020     		movs	r0, #0
 428              	.LVL25:
 429              	.L32:
 123:Src/stm32f4xx_nucleo_bus.c **** 
 430              		.loc 1 123 1 view .LVU105
 431 0018 08B0     		add	sp, sp, #32
 432              	.LCFI9:
 433              		.cfi_remember_state
 434              		.cfi_def_cfa_offset 24
 435              		@ sp needed
 436 001a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 437              	.LVL26:
 438              	.L33:
 439              	.LCFI10:
ARM GAS  /tmp/ccXOUYDs.s 			page 16


 440              		.cfi_restore_state
  97:Src/stm32f4xx_nucleo_bus.c **** 	{ 
 441              		.loc 1 97 2 is_stmt 1 view .LVU106
  97:Src/stm32f4xx_nucleo_bus.c **** 	{ 
 442              		.loc 1 97 6 is_stmt 0 view .LVU107
 443 001e 2046     		mov	r0, r4
 444 0020 FFF7FEFF 		bl	HAL_SPI_GetState
 445              	.LVL27:
  97:Src/stm32f4xx_nucleo_bus.c **** 	{ 
 446              		.loc 1 97 5 view .LVU108
 447 0024 0546     		mov	r5, r0
 448 0026 0028     		cmp	r0, #0
 449 0028 F5D1     		bne	.L35
 101:Src/stm32f4xx_nucleo_bus.c **** #else
 450              		.loc 1 101 3 is_stmt 1 view .LVU109
 451              	.LBB14:
 452              	.LBI14:
 288:Src/stm32f4xx_nucleo_bus.c **** {
 453              		.loc 1 288 13 view .LVU110
 454              	.LVL28:
 455              	.LBB15:
 290:Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE BEGIN SPI1_MspInit 0 */
 456              		.loc 1 290 3 view .LVU111
 295:Src/stm32f4xx_nucleo_bus.c ****   
 457              		.loc 1 295 5 view .LVU112
 458              	.LBB16:
 295:Src/stm32f4xx_nucleo_bus.c ****   
 459              		.loc 1 295 5 view .LVU113
 460 002a 234B     		ldr	r3, .L40+12
 461 002c 0090     		str	r0, [sp]
 295:Src/stm32f4xx_nucleo_bus.c ****   
 462              		.loc 1 295 5 view .LVU114
 463 002e 5A6C     		ldr	r2, [r3, #68]
 464              	.LBE16:
 309:Src/stm32f4xx_nucleo_bus.c **** 
 465              		.loc 1 309 5 is_stmt 0 view .LVU115
 466 0030 2248     		ldr	r0, .L40+16
 467              	.LBB17:
 295:Src/stm32f4xx_nucleo_bus.c ****   
 468              		.loc 1 295 5 view .LVU116
 469 0032 42F48052 		orr	r2, r2, #4096
 470 0036 5A64     		str	r2, [r3, #68]
 295:Src/stm32f4xx_nucleo_bus.c ****   
 471              		.loc 1 295 5 is_stmt 1 view .LVU117
 472 0038 5A6C     		ldr	r2, [r3, #68]
 473 003a 02F48052 		and	r2, r2, #4096
 474 003e 0092     		str	r2, [sp]
 295:Src/stm32f4xx_nucleo_bus.c ****   
 475              		.loc 1 295 5 view .LVU118
 476 0040 009A     		ldr	r2, [sp]
 477              	.LBE17:
 295:Src/stm32f4xx_nucleo_bus.c ****   
 478              		.loc 1 295 5 view .LVU119
 297:Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
 479              		.loc 1 297 5 view .LVU120
 480              	.LBB18:
 297:Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
ARM GAS  /tmp/ccXOUYDs.s 			page 17


 481              		.loc 1 297 5 view .LVU121
 482 0042 0195     		str	r5, [sp, #4]
 297:Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
 483              		.loc 1 297 5 view .LVU122
 484 0044 1A6B     		ldr	r2, [r3, #48]
 485 0046 42F00102 		orr	r2, r2, #1
 486 004a 1A63     		str	r2, [r3, #48]
 297:Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
 487              		.loc 1 297 5 view .LVU123
 488 004c 1A6B     		ldr	r2, [r3, #48]
 489 004e 02F00102 		and	r2, r2, #1
 490 0052 0192     		str	r2, [sp, #4]
 297:Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
 491              		.loc 1 297 5 view .LVU124
 492 0054 019A     		ldr	r2, [sp, #4]
 493              	.LBE18:
 297:Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
 494              		.loc 1 297 5 view .LVU125
 298:Src/stm32f4xx_nucleo_bus.c ****     /**SPI1 GPIO Configuration    
 495              		.loc 1 298 5 view .LVU126
 496              	.LBB19:
 298:Src/stm32f4xx_nucleo_bus.c ****     /**SPI1 GPIO Configuration    
 497              		.loc 1 298 5 view .LVU127
 498 0056 0295     		str	r5, [sp, #8]
 298:Src/stm32f4xx_nucleo_bus.c ****     /**SPI1 GPIO Configuration    
 499              		.loc 1 298 5 view .LVU128
 500 0058 1A6B     		ldr	r2, [r3, #48]
 501 005a 42F00202 		orr	r2, r2, #2
 502 005e 1A63     		str	r2, [r3, #48]
 298:Src/stm32f4xx_nucleo_bus.c ****     /**SPI1 GPIO Configuration    
 503              		.loc 1 298 5 view .LVU129
 504 0060 1B6B     		ldr	r3, [r3, #48]
 505              	.LBE19:
 306:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 506              		.loc 1 306 26 is_stmt 0 view .LVU130
 507 0062 0595     		str	r5, [sp, #20]
 508              	.LBB20:
 298:Src/stm32f4xx_nucleo_bus.c ****     /**SPI1 GPIO Configuration    
 509              		.loc 1 298 5 view .LVU131
 510 0064 03F00203 		and	r3, r3, #2
 511 0068 0293     		str	r3, [sp, #8]
 298:Src/stm32f4xx_nucleo_bus.c ****     /**SPI1 GPIO Configuration    
 512              		.loc 1 298 5 is_stmt 1 view .LVU132
 513              	.LBE20:
 309:Src/stm32f4xx_nucleo_bus.c **** 
 514              		.loc 1 309 5 is_stmt 0 view .LVU133
 515 006a 03A9     		add	r1, sp, #12
 304:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 516              		.loc 1 304 25 view .LVU134
 517 006c C023     		movs	r3, #192
 305:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 518              		.loc 1 305 26 view .LVU135
 519 006e 4FF00208 		mov	r8, #2
 307:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 520              		.loc 1 307 27 view .LVU136
 521 0072 0327     		movs	r7, #3
 308:Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
ARM GAS  /tmp/ccXOUYDs.s 			page 18


 522              		.loc 1 308 31 view .LVU137
 523 0074 0526     		movs	r6, #5
 305:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 524              		.loc 1 305 26 view .LVU138
 525 0076 CDE90338 		strd	r3, r8, [sp, #12]
 526              	.LBB21:
 298:Src/stm32f4xx_nucleo_bus.c ****     /**SPI1 GPIO Configuration    
 527              		.loc 1 298 5 view .LVU139
 528 007a 029A     		ldr	r2, [sp, #8]
 529              	.LBE21:
 298:Src/stm32f4xx_nucleo_bus.c ****     /**SPI1 GPIO Configuration    
 530              		.loc 1 298 5 is_stmt 1 view .LVU140
 304:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 531              		.loc 1 304 5 view .LVU141
 306:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 532              		.loc 1 306 5 view .LVU142
 307:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 533              		.loc 1 307 5 view .LVU143
 308:Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 534              		.loc 1 308 31 is_stmt 0 view .LVU144
 535 007c CDE90676 		strd	r7, r6, [sp, #24]
 309:Src/stm32f4xx_nucleo_bus.c **** 
 536              		.loc 1 309 5 is_stmt 1 view .LVU145
 537 0080 FFF7FEFF 		bl	HAL_GPIO_Init
 538              	.LVL29:
 311:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 539              		.loc 1 311 5 view .LVU146
 316:Src/stm32f4xx_nucleo_bus.c **** 
 540              		.loc 1 316 5 is_stmt 0 view .LVU147
 541 0084 0E48     		ldr	r0, .L40+20
 312:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 542              		.loc 1 312 26 view .LVU148
 543 0086 CDF81080 		str	r8, [sp, #16]
 311:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 544              		.loc 1 311 25 view .LVU149
 545 008a 0823     		movs	r3, #8
 316:Src/stm32f4xx_nucleo_bus.c **** 
 546              		.loc 1 316 5 view .LVU150
 547 008c 03A9     		add	r1, sp, #12
 315:Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 548              		.loc 1 315 31 view .LVU151
 549 008e CDE90676 		strd	r7, r6, [sp, #24]
 313:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 550              		.loc 1 313 26 view .LVU152
 551 0092 0595     		str	r5, [sp, #20]
 311:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 552              		.loc 1 311 25 view .LVU153
 553 0094 0393     		str	r3, [sp, #12]
 312:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 554              		.loc 1 312 5 is_stmt 1 view .LVU154
 313:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 555              		.loc 1 313 5 view .LVU155
 314:Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 556              		.loc 1 314 5 view .LVU156
 315:Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 557              		.loc 1 315 5 view .LVU157
 316:Src/stm32f4xx_nucleo_bus.c **** 
ARM GAS  /tmp/ccXOUYDs.s 			page 19


 558              		.loc 1 316 5 view .LVU158
 559 0096 FFF7FEFF 		bl	HAL_GPIO_Init
 560              	.LVL30:
 561              	.LBE15:
 562              	.LBE14:
 111:Src/stm32f4xx_nucleo_bus.c **** 		{
 563              		.loc 1 111 3 view .LVU159
 114:Src/stm32f4xx_nucleo_bus.c **** 			{
 564              		.loc 1 114 4 view .LVU160
 114:Src/stm32f4xx_nucleo_bus.c **** 			{
 565              		.loc 1 114 8 is_stmt 0 view .LVU161
 566 009a 2046     		mov	r0, r4
 567 009c FFF7FEFF 		bl	MX_SPI1_Init
 568              	.LVL31:
 114:Src/stm32f4xx_nucleo_bus.c **** 			{
 569              		.loc 1 114 7 view .LVU162
 570 00a0 0028     		cmp	r0, #0
 571 00a2 B8D0     		beq	.L35
 116:Src/stm32f4xx_nucleo_bus.c **** 			}
 572              		.loc 1 116 9 view .LVU163
 573 00a4 6FF00700 		mvn	r0, #7
 574              	.LVL32:
 122:Src/stm32f4xx_nucleo_bus.c **** }
 575              		.loc 1 122 3 is_stmt 1 view .LVU164
 122:Src/stm32f4xx_nucleo_bus.c **** }
 576              		.loc 1 122 10 is_stmt 0 view .LVU165
 577 00a8 B6E7     		b	.L32
 578              	.L41:
 579 00aa 00BF     		.align	2
 580              	.L40:
 581 00ac 00000000 		.word	.LANCHOR0
 582 00b0 00000000 		.word	hspi1
 583 00b4 00300140 		.word	1073819648
 584 00b8 00380240 		.word	1073887232
 585 00bc 00000240 		.word	1073872896
 586 00c0 00040240 		.word	1073873920
 587              		.cfi_endproc
 588              	.LFE130:
 590              		.comm	hspi1,88,4
 591              		.section	.bss.SPI1InitCounter,"aw",%nobits
 592              		.align	2
 593              		.set	.LANCHOR0,. + 0
 596              	SPI1InitCounter:
 597 0000 00000000 		.space	4
 598              		.text
 599              	.Letext0:
 600              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 601              		.file 3 "Drivers/CMSIS/Include/core_cm4.h"
 602              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 603              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 604              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 605              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 606              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 607              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 608              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 609              		.file 11 "Inc/stm32f4xx_nucleo_bus.h"
ARM GAS  /tmp/ccXOUYDs.s 			page 20


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_nucleo_bus.c
     /tmp/ccXOUYDs.s:18     .text.BSP_SPI1_DeInit:0000000000000000 $t
     /tmp/ccXOUYDs.s:27     .text.BSP_SPI1_DeInit:0000000000000000 BSP_SPI1_DeInit
     /tmp/ccXOUYDs.s:98     .text.BSP_SPI1_DeInit:0000000000000038 $d
                            *COM*:0000000000000058 hspi1
     /tmp/ccXOUYDs.s:107    .text.BSP_SPI1_Send:0000000000000000 $t
     /tmp/ccXOUYDs.s:115    .text.BSP_SPI1_Send:0000000000000000 BSP_SPI1_Send
     /tmp/ccXOUYDs.s:152    .text.BSP_SPI1_Send:000000000000001c $d
     /tmp/ccXOUYDs.s:157    .text.BSP_SPI1_Recv:0000000000000000 $t
     /tmp/ccXOUYDs.s:165    .text.BSP_SPI1_Recv:0000000000000000 BSP_SPI1_Recv
     /tmp/ccXOUYDs.s:202    .text.BSP_SPI1_Recv:000000000000001c $d
     /tmp/ccXOUYDs.s:207    .text.BSP_SPI1_SendRecv:0000000000000000 $t
     /tmp/ccXOUYDs.s:215    .text.BSP_SPI1_SendRecv:0000000000000000 BSP_SPI1_SendRecv
     /tmp/ccXOUYDs.s:269    .text.BSP_SPI1_SendRecv:0000000000000028 $d
     /tmp/ccXOUYDs.s:274    .text.BSP_GetTick:0000000000000000 $t
     /tmp/ccXOUYDs.s:282    .text.BSP_GetTick:0000000000000000 BSP_GetTick
     /tmp/ccXOUYDs.s:297    .text.MX_SPI1_Init:0000000000000000 $t
     /tmp/ccXOUYDs.s:305    .text.MX_SPI1_Init:0000000000000000 MX_SPI1_Init
     /tmp/ccXOUYDs.s:373    .text.MX_SPI1_Init:0000000000000038 $d
     /tmp/ccXOUYDs.s:378    .text.BSP_SPI1_Init:0000000000000000 $t
     /tmp/ccXOUYDs.s:386    .text.BSP_SPI1_Init:0000000000000000 BSP_SPI1_Init
     /tmp/ccXOUYDs.s:581    .text.BSP_SPI1_Init:00000000000000ac $d
     /tmp/ccXOUYDs.s:592    .bss.SPI1InitCounter:0000000000000000 $d
     /tmp/ccXOUYDs.s:596    .bss.SPI1InitCounter:0000000000000000 SPI1InitCounter

UNDEFINED SYMBOLS
HAL_GPIO_DeInit
HAL_SPI_DeInit
HAL_SPI_Transmit
HAL_SPI_Receive
HAL_SPI_TransmitReceive
HAL_GetTick
HAL_SPI_Init
HAL_SPI_GetState
HAL_GPIO_Init
