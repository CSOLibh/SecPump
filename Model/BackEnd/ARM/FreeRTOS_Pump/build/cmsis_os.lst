ARM GAS  /tmp/ccUoPQL6.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m7
   3              		.eabi_attribute 28, 1
   4              		.fpu fpv5-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"cmsis_os.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.makeFreeRtosPriority,"ax",%progbits
  20              		.align	2
  21              		.thumb
  22              		.thumb_func
  24              	makeFreeRtosPriority:
  25              	.LFB140:
  26              		.file 1 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c"
   1:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* ----------------------------------------------------------------------
   2:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * $Date:        5. February 2013
   3:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * $Revision:    V1.02
   4:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
   5:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Project:      CMSIS-RTOS API
   6:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Title:        cmsis_os.c
   7:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
   8:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 0.02
   9:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Initial Proposal Phase
  10:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 0.03
  11:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osKernelStart added, optional feature: main started as thread
  12:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osSemaphores have standard behavior
  13:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osTimerCreate does not start the timer, added osTimerStart
  14:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osThreadPass is renamed to osThreadYield
  15:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 1.01
  16:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Support for C++ interface
  17:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *     - const attribute removed from the osXxxxDef_t typedef's
  18:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *     - const attribute added to the osXxxxDef macros
  19:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osTimerDelete, osMutexDelete, osSemaphoreDelete
  20:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osKernelInitialize
  21:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 1.02
  22:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Control functions for short timeouts in microsecond resolution:
  23:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osKernelSysTick, osKernelSysTickFrequency, osKernelSysTickMicroSec
  24:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Removed: osSignalGet 
  25:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    
  26:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  
  27:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *----------------------------------------------------------------------------
  28:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
  29:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Portions Copyright © 2016 STMicroelectronics International N.V. All rights reserved.
  30:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Portions Copyright (c) 2013 ARM LIMITED
  31:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * All rights reserved.
  32:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Redistribution and use in source and binary forms, with or without
ARM GAS  /tmp/ccUoPQL6.s 			page 2


  33:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * modification, are permitted provided that the following conditions are met:
  34:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Redistributions of source code must retain the above copyright
  35:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    notice, this list of conditions and the following disclaimer.
  36:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Redistributions in binary form must reproduce the above copyright
  37:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    notice, this list of conditions and the following disclaimer in the
  38:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    documentation and/or other materials provided with the distribution.
  39:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Neither the name of ARM  nor the names of its contributors may be used
  40:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    to endorse or promote products derived from this software without
  41:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    specific prior written permission.
  42:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
  43:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  44:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  45:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  46:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  47:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  48:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  49:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  50:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  51:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  52:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  53:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * POSSIBILITY OF SUCH DAMAGE.
  54:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *---------------------------------------------------------------------------*/
  55:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  56:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  /**
  57:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ******************************************************************************
  58:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @file    cmsis_os.c
  59:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @author  MCD Application Team
  60:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @date    13-July-2017
  61:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @brief   CMSIS-RTOS API implementation for FreeRTOS V9.0.0
  62:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ******************************************************************************
  63:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @attention
  64:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  65:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * Redistribution and use in source and binary forms, with or without 
  66:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * modification, are permitted, provided that the following conditions are met:
  67:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  68:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 1. Redistribution of source code must retain the above copyright notice, 
  69:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this list of conditions and the following disclaimer.
  70:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 2. Redistributions in binary form must reproduce the above copyright notice,
  71:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this list of conditions and the following disclaimer in the documentation
  72:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    and/or other materials provided with the distribution.
  73:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 3. Neither the name of STMicroelectronics nor the names of other 
  74:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    contributors to this software may be used to endorse or promote products 
  75:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    derived from this software without specific written permission.
  76:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 4. This software, including modifications and/or derivative works of this 
  77:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    software, must execute solely and exclusively on microcontroller or
  78:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    microprocessor devices manufactured by or for STMicroelectronics.
  79:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 5. Redistribution and use of this software other than as permitted under 
  80:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this license is void and will automatically terminate your rights under 
  81:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this license. 
  82:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  83:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS" 
  84:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT 
  85:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
  86:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
  87:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT 
  88:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
  89:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
ARM GAS  /tmp/ccUoPQL6.s 			page 3


  90:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, 
  91:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF 
  92:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING 
  93:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  94:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  95:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  96:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ******************************************************************************
  97:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   */ 
  98:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  99:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #include <string.h>
 100:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #include "stm32f7xx_hal.h"
 101:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #include "cmsis_os.h"
 102:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 103:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
 104:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARM Compiler 4/5
 105:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
 106:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if   defined ( __CC_ARM )
 107:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 108:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __ASM            __asm                                      
 109:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __INLINE         __inline                                     
 110:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __STATIC_INLINE  static __inline
 111:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 112:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include "cmsis_armcc.h"
 113:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 114:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
 115:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * GNU Compiler
 116:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
 117:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif defined ( __GNUC__ )
 118:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 119:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __ASM            __asm                                      /*!< asm keyword for GNU Comp
 120:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __INLINE         inline                                     /*!< inline keyword for GNU C
 121:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __STATIC_INLINE  static inline
 122:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 123:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include "cmsis_gcc.h"
 124:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 125:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 126:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
 127:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * IAR Compiler
 128:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
 129:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif defined ( __ICCARM__ )
 130:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 131:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __ASM
 132:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __ASM                     __asm
 133:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
 134:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __INLINE
 135:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __INLINE                  inline
 136:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
 137:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __STATIC_INLINE
 138:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __STATIC_INLINE           static inline
 139:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
 140:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 141:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include <cmsis_iar.h>
 142:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 143:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 144:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** extern void xPortSysTickHandler(void);
 145:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 146:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Convert from CMSIS type osPriority to FreeRTOS priority number */
ARM GAS  /tmp/ccUoPQL6.s 			page 4


 147:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static unsigned portBASE_TYPE makeFreeRtosPriority (osPriority priority)
 148:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
  27              		.loc 1 148 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
 149:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   unsigned portBASE_TYPE fpriority = tskIDLE_PRIORITY;
 150:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 151:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (priority != osPriorityError) {
  33              		.loc 1 151 0
  34 0000 8428     		cmp	r0, #132
  35 0002 01D0     		beq	.L3
 152:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     fpriority += (priority - osPriorityIdle);
  36              		.loc 1 152 0
  37 0004 0330     		adds	r0, r0, #3
  38              	.LVL1:
  39 0006 7047     		bx	lr
  40              	.LVL2:
  41              	.L3:
 149:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   unsigned portBASE_TYPE fpriority = tskIDLE_PRIORITY;
  42              		.loc 1 149 0
  43 0008 0020     		movs	r0, #0
  44              	.LVL3:
 153:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 154:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 155:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return fpriority;
 156:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
  45              		.loc 1 156 0
  46 000a 7047     		bx	lr
  47              		.cfi_endproc
  48              	.LFE140:
  50              		.section	.text.makeCmsisPriority,"ax",%progbits
  51              		.align	2
  52              		.thumb
  53              		.thumb_func
  55              	makeCmsisPriority:
  56              	.LFB141:
 157:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 158:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_uxTaskPriorityGet == 1)
 159:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Convert from FreeRTOS priority number to CMSIS type osPriority */
 160:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static osPriority makeCmsisPriority (unsigned portBASE_TYPE fpriority)
 161:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
  57              		.loc 1 161 0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 0
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  61              		@ link register save eliminated.
  62              	.LVL4:
 162:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPriority priority = osPriorityError;
 163:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 164:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((fpriority - tskIDLE_PRIORITY) <= (osPriorityRealtime - osPriorityIdle)) {
  63              		.loc 1 164 0
  64 0000 0628     		cmp	r0, #6
  65 0002 02D8     		bhi	.L6
 165:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     priority = (osPriority)((int)osPriorityIdle + (int)(fpriority - tskIDLE_PRIORITY));
ARM GAS  /tmp/ccUoPQL6.s 			page 5


  66              		.loc 1 165 0
  67 0004 0338     		subs	r0, r0, #3
  68              	.LVL5:
  69 0006 80B2     		uxth	r0, r0
  70              	.LVL6:
  71 0008 00E0     		b	.L5
  72              	.LVL7:
  73              	.L6:
 162:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPriority priority = osPriorityError;
  74              		.loc 1 162 0
  75 000a 8420     		movs	r0, #132
  76              	.LVL8:
  77              	.L5:
 166:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 167:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 168:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return priority;
 169:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
  78              		.loc 1 169 0
  79 000c 00B2     		sxth	r0, r0
  80 000e 7047     		bx	lr
  81              		.cfi_endproc
  82              	.LFE141:
  84              		.section	.text.inHandlerMode,"ax",%progbits
  85              		.align	2
  86              		.thumb
  87              		.thumb_func
  89              	inHandlerMode:
  90              	.LFB142:
 170:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 171:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 172:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 173:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Determine whether we are in thread mode or handler mode. */
 174:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static int inHandlerMode (void)
 175:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
  91              		.loc 1 175 0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              		@ link register save eliminated.
  96              	.LBB8:
  97              	.LBB9:
  98              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS Cortex-M Core Function/Instruction Header File
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V4.30
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     20. October 2015
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Copyright (c) 2009 - 2015 ARM LIMITED
   8:Drivers/CMSIS/Include/cmsis_gcc.h **** 
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****    All rights reserved.
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****    Redistribution and use in source and binary forms, with or without
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****    modification, are permitted provided that the following conditions are met:
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Redistributions of source code must retain the above copyright
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****      notice, this list of conditions and the following disclaimer.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Redistributions in binary form must reproduce the above copyright
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****      notice, this list of conditions and the following disclaimer in the
ARM GAS  /tmp/ccUoPQL6.s 			page 6


  16:Drivers/CMSIS/Include/cmsis_gcc.h ****      documentation and/or other materials provided with the distribution.
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Neither the name of ARM nor the names of its contributors may be used
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****      to endorse or promote products derived from this software without
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****      specific prior written permission.
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****    *
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  24:Drivers/CMSIS/Include/cmsis_gcc.h ****    ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  25:Drivers/CMSIS/Include/cmsis_gcc.h ****    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  26:Drivers/CMSIS/Include/cmsis_gcc.h ****    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  27:Drivers/CMSIS/Include/cmsis_gcc.h ****    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Drivers/CMSIS/Include/cmsis_gcc.h ****    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Drivers/CMSIS/Include/cmsis_gcc.h ****    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  30:Drivers/CMSIS/Include/cmsis_gcc.h ****    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  31:Drivers/CMSIS/Include/cmsis_gcc.h ****    POSSIBILITY OF SUCH DAMAGE.
  32:Drivers/CMSIS/Include/cmsis_gcc.h ****    ---------------------------------------------------------------------------*/
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  36:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** #if defined ( __GNUC__ )
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  41:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  44:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  47:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
  49:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
  51:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  53:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  54:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
  55:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
  57:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __enable_irq(void)
  59:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  60:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  62:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
  66:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
  67:Drivers/CMSIS/Include/cmsis_gcc.h ****   Can only be executed in Privileged modes.
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __disable_irq(void)
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
  72:Drivers/CMSIS/Include/cmsis_gcc.h **** }
ARM GAS  /tmp/ccUoPQL6.s 			page 7


  73:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  74:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  75:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register
  77:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
  78:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Control Register value
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  80:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_CONTROL(void)
  81:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
  83:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
  85:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  87:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  88:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  89:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
  93:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __set_CONTROL(uint32_t control)
  95:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
  97:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  98:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  99:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 100:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 101:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 102:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               IPSR Register value
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 105:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_IPSR(void)
 106:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 108:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 109:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
  99              		.loc 2 109 0
 100              	@ 109 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 101 0000 EFF30580 		MRS r0, ipsr
 102              	@ 0 "" 2
 103              	.LVL9:
 104              		.thumb
 105              	.LBE9:
 106              	.LBE8:
 176:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return __get_IPSR() != 0;
 177:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 107              		.loc 1 177 0
 108 0004 0030     		adds	r0, r0, #0
 109 0006 18BF     		it	ne
 110 0008 0120     		movne	r0, #1
 111              	.LVL10:
 112 000a 7047     		bx	lr
 113              		.cfi_endproc
 114              	.LFE142:
 116              		.section	.text.osKernelStart,"ax",%progbits
 117              		.align	2
ARM GAS  /tmp/ccUoPQL6.s 			page 8


 118              		.global	osKernelStart
 119              		.thumb
 120              		.thumb_func
 122              	osKernelStart:
 123              	.LFB143:
 178:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 179:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Kernel Control Functions *****************************/
 180:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 181:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Initialize the RTOS Kernel for creating objects.
 182:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
 183:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelInitialize shall be consistent in every CMSIS-RTOS.
 184:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 185:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osKernelInitialize (void);
 186:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 187:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 188:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Start the RTOS Kernel with executing the specified thread.
 189:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_def    thread definition referenced with \ref osThread.
 190:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      pointer that is passed to the thread function as start argument.
 191:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function
 192:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelStart shall be consistent in every CMSIS-RTOS.
 193:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 194:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osKernelStart (void)
 195:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 124              		.loc 1 195 0
 125              		.cfi_startproc
 126              		@ args = 0, pretend = 0, frame = 0
 127              		@ frame_needed = 0, uses_anonymous_args = 0
 128 0000 08B5     		push	{r3, lr}
 129              	.LCFI0:
 130              		.cfi_def_cfa_offset 8
 131              		.cfi_offset 3, -8
 132              		.cfi_offset 14, -4
 196:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskStartScheduler();
 133              		.loc 1 196 0
 134 0002 FFF7FEFF 		bl	vTaskStartScheduler
 135              	.LVL11:
 197:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 198:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 199:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 136              		.loc 1 199 0
 137 0006 0020     		movs	r0, #0
 138 0008 08BD     		pop	{r3, pc}
 139              		.cfi_endproc
 140              	.LFE143:
 142 000a 00BF     		.section	.text.osKernelRunning,"ax",%progbits
 143              		.align	2
 144              		.global	osKernelRunning
 145              		.thumb
 146              		.thumb_func
 148              	osKernelRunning:
 149              	.LFB144:
 200:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 201:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 202:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Check if the RTOS kernel is already started
 203:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  None
 204:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval (0) RTOS is not started
 205:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *         (1) RTOS is started
ARM GAS  /tmp/ccUoPQL6.s 			page 9


 206:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *         (-1) if this feature is disabled in FreeRTOSConfig.h 
 207:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note  MUST REMAIN UNCHANGED: \b osKernelRunning shall be consistent in every CMSIS-RTOS.
 208:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 209:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osKernelRunning(void)
 210:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 150              		.loc 1 210 0
 151              		.cfi_startproc
 152              		@ args = 0, pretend = 0, frame = 0
 153              		@ frame_needed = 0, uses_anonymous_args = 0
 154 0000 08B5     		push	{r3, lr}
 155              	.LCFI1:
 156              		.cfi_def_cfa_offset 8
 157              		.cfi_offset 3, -8
 158              		.cfi_offset 14, -4
 211:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( INCLUDE_xTaskGetSchedulerState == 1 ) || ( configUSE_TIMERS == 1 ) )
 212:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskGetSchedulerState() == taskSCHEDULER_NOT_STARTED)
 159              		.loc 1 212 0
 160 0002 FFF7FEFF 		bl	xTaskGetSchedulerState
 161              	.LVL12:
 162 0006 0128     		cmp	r0, #1
 163 0008 01D1     		bne	.L12
 213:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0;
 164              		.loc 1 213 0
 165 000a 0020     		movs	r0, #0
 166 000c 08BD     		pop	{r3, pc}
 167              	.L12:
 214:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 215:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 1;
 168              		.loc 1 215 0
 169 000e 0120     		movs	r0, #1
 216:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 217:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return (-1);
 218:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif	
 219:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 170              		.loc 1 219 0
 171 0010 08BD     		pop	{r3, pc}
 172              		.cfi_endproc
 173              	.LFE144:
 175 0012 00BF     		.section	.text.osKernelSysTick,"ax",%progbits
 176              		.align	2
 177              		.global	osKernelSysTick
 178              		.thumb
 179              		.thumb_func
 181              	osKernelSysTick:
 182              	.LFB145:
 220:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 221:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_SysTick)  &&  (osFeature_SysTick != 0))     // System Timer available
 222:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 223:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the value of the Kernel SysTick timer
 224:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  None
 225:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval None
 226:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelSysTick shall be consistent in every CMSIS-RTOS.
 227:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 228:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osKernelSysTick(void)
 229:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 183              		.loc 1 229 0
 184              		.cfi_startproc
ARM GAS  /tmp/ccUoPQL6.s 			page 10


 185              		@ args = 0, pretend = 0, frame = 0
 186              		@ frame_needed = 0, uses_anonymous_args = 0
 187 0000 08B5     		push	{r3, lr}
 188              	.LCFI2:
 189              		.cfi_def_cfa_offset 8
 190              		.cfi_offset 3, -8
 191              		.cfi_offset 14, -4
 230:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 192              		.loc 1 230 0
 193 0002 FFF7FEFF 		bl	inHandlerMode
 194              	.LVL13:
 195 0006 10B1     		cbz	r0, .L15
 231:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTaskGetTickCountFromISR();
 196              		.loc 1 231 0
 197 0008 FFF7FEFF 		bl	xTaskGetTickCountFromISR
 198              	.LVL14:
 199 000c 08BD     		pop	{r3, pc}
 200              	.L15:
 232:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 233:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 234:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTaskGetTickCount();
 201              		.loc 1 234 0
 202 000e FFF7FEFF 		bl	xTaskGetTickCount
 203              	.LVL15:
 235:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 236:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 204              		.loc 1 236 0
 205 0012 08BD     		pop	{r3, pc}
 206              		.cfi_endproc
 207              	.LFE145:
 209              		.section	.text.osThreadCreate,"ax",%progbits
 210              		.align	2
 211              		.global	osThreadCreate
 212              		.thumb
 213              		.thumb_func
 215              	osThreadCreate:
 216              	.LFB146:
 237:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    // System Timer available
 238:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Thread Management *****************************/
 239:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 240:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create a thread and add it to Active Threads and set it to state READY.
 241:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_def    thread definition referenced with \ref osThread.
 242:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      pointer that is passed to the thread function as start argument.
 243:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval thread ID for reference by other functions or NULL in case of error.
 244:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadCreate shall be consistent in every CMSIS-RTOS.
 245:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 246:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadId osThreadCreate (const osThreadDef_t *thread_def, void *argument)
 247:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 217              		.loc 1 247 0
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 8
 220              		@ frame_needed = 0, uses_anonymous_args = 0
 221              	.LVL16:
 222 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 223              	.LCFI3:
 224              		.cfi_def_cfa_offset 20
 225              		.cfi_offset 4, -20
ARM GAS  /tmp/ccUoPQL6.s 			page 11


 226              		.cfi_offset 5, -16
 227              		.cfi_offset 6, -12
 228              		.cfi_offset 7, -8
 229              		.cfi_offset 14, -4
 230 0002 85B0     		sub	sp, sp, #20
 231              	.LCFI4:
 232              		.cfi_def_cfa_offset 40
 233 0004 0C46     		mov	r4, r1
 248:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TaskHandle_t handle;
 249:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 250:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) &&  ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 251:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if((thread_def->buffer != NULL) && (thread_def->controlblock != NULL)) {
 252:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     handle = xTaskCreateStatic((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->na
 253:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 254:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->buffer, thread_def->controlblock);
 255:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 256:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 257:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTaskCreate((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->name,
 258:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 259:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               &handle) != pdPASS)  {
 260:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 261:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     } 
 262:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 263:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif( configSUPPORT_STATIC_ALLOCATION == 1 )
 264:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 265:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     handle = xTaskCreateStatic((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->na
 266:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 267:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->buffer, thread_def->controlblock);
 268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 269:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskCreate((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->name,
 234              		.loc 1 269 0
 235 0006 4768     		ldr	r7, [r0, #4]
 236 0008 0668     		ldr	r6, [r0]
 270:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 237              		.loc 1 270 0
 238 000a 0569     		ldr	r5, [r0, #16]
 269:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 239              		.loc 1 269 0
 240 000c B0F90800 		ldrsh	r0, [r0, #8]
 241              	.LVL17:
 242 0010 FFF7FEFF 		bl	makeFreeRtosPriority
 243              	.LVL18:
 244 0014 0090     		str	r0, [sp]
 245 0016 03AB     		add	r3, sp, #12
 246 0018 0193     		str	r3, [sp, #4]
 247 001a 3846     		mov	r0, r7
 248 001c 3146     		mov	r1, r6
 249 001e AAB2     		uxth	r2, r5
 250 0020 2346     		mov	r3, r4
 251 0022 FFF7FEFF 		bl	xTaskCreate
 252              	.LVL19:
 253 0026 0128     		cmp	r0, #1
 254 0028 01D1     		bne	.L20
 271:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    &handle) != pdPASS)  {
 272:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 273:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }     
 274:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
ARM GAS  /tmp/ccUoPQL6.s 			page 12


 275:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 276:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return handle;
 255              		.loc 1 276 0
 256 002a 0398     		ldr	r0, [sp, #12]
 257 002c 00E0     		b	.L19
 258              	.L20:
 272:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }     
 259              		.loc 1 272 0
 260 002e 0020     		movs	r0, #0
 261              	.L19:
 277:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 262              		.loc 1 277 0
 263 0030 05B0     		add	sp, sp, #20
 264              	.LCFI5:
 265              		.cfi_def_cfa_offset 20
 266              		@ sp needed
 267 0032 F0BD     		pop	{r4, r5, r6, r7, pc}
 268              		.cfi_endproc
 269              	.LFE146:
 271              		.section	.text.osThreadGetId,"ax",%progbits
 272              		.align	2
 273              		.global	osThreadGetId
 274              		.thumb
 275              		.thumb_func
 277              	osThreadGetId:
 278              	.LFB147:
 278:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 279:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 280:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Return the thread ID of the current running thread.
 281:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval thread ID for reference by other functions or NULL in case of error.
 282:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadGetId shall be consistent in every CMSIS-RTOS.
 283:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 284:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadId osThreadGetId (void)
 285:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 279              		.loc 1 285 0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 0
 282              		@ frame_needed = 0, uses_anonymous_args = 0
 283 0000 08B5     		push	{r3, lr}
 284              	.LCFI6:
 285              		.cfi_def_cfa_offset 8
 286              		.cfi_offset 3, -8
 287              		.cfi_offset 14, -4
 286:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( INCLUDE_xTaskGetCurrentTaskHandle == 1 ) || ( configUSE_MUTEXES == 1 ) )
 287:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTaskGetCurrentTaskHandle();
 288              		.loc 1 287 0
 289 0002 FFF7FEFF 		bl	xTaskGetCurrentTaskHandle
 290              	.LVL20:
 288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 289:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return NULL;
 290:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 291:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 291              		.loc 1 291 0
 292 0006 08BD     		pop	{r3, pc}
 293              		.cfi_endproc
 294              	.LFE147:
 296              		.section	.text.osThreadTerminate,"ax",%progbits
ARM GAS  /tmp/ccUoPQL6.s 			page 13


 297              		.align	2
 298              		.global	osThreadTerminate
 299              		.thumb
 300              		.thumb_func
 302              	osThreadTerminate:
 303              	.LFB148:
 292:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 293:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 294:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Terminate execution of a thread and remove it from Active Threads.
 295:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 296:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 297:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadTerminate shall be consistent in every CMSIS-RTOS.
 298:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 299:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadTerminate (osThreadId thread_id)
 300:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 304              		.loc 1 300 0
 305              		.cfi_startproc
 306              		@ args = 0, pretend = 0, frame = 0
 307              		@ frame_needed = 0, uses_anonymous_args = 0
 308              	.LVL21:
 309 0000 08B5     		push	{r3, lr}
 310              	.LCFI7:
 311              		.cfi_def_cfa_offset 8
 312              		.cfi_offset 3, -8
 313              		.cfi_offset 14, -4
 301:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskDelete == 1)
 302:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelete(thread_id);
 314              		.loc 1 302 0
 315 0002 FFF7FEFF 		bl	vTaskDelete
 316              	.LVL22:
 303:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 304:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 305:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorOS;
 306:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 307:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 317              		.loc 1 307 0
 318 0006 0020     		movs	r0, #0
 319 0008 08BD     		pop	{r3, pc}
 320              		.cfi_endproc
 321              	.LFE148:
 323 000a 00BF     		.section	.text.osThreadYield,"ax",%progbits
 324              		.align	2
 325              		.global	osThreadYield
 326              		.thumb
 327              		.thumb_func
 329              	osThreadYield:
 330              	.LFB149:
 308:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 309:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 310:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Pass control to next thread that is in state \b READY.
 311:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
 312:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadYield shall be consistent in every CMSIS-RTOS.
 313:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 314:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadYield (void)
 315:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 331              		.loc 1 315 0
 332              		.cfi_startproc
ARM GAS  /tmp/ccUoPQL6.s 			page 14


 333              		@ args = 0, pretend = 0, frame = 0
 334              		@ frame_needed = 0, uses_anonymous_args = 0
 335              		@ link register save eliminated.
 316:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskYIELD();
 336              		.loc 1 316 0
 337 0000 4FF08052 		mov	r2, #268435456
 338 0004 034B     		ldr	r3, .L27
 339 0006 1A60     		str	r2, [r3]
 340              	@ 316 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 341 0008 BFF34F8F 		dsb
 342              	@ 0 "" 2
 343              	@ 316 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 344 000c BFF36F8F 		isb
 345              	@ 0 "" 2
 317:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 318:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 319:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 346              		.loc 1 319 0
 347              		.thumb
 348 0010 0020     		movs	r0, #0
 349 0012 7047     		bx	lr
 350              	.L28:
 351              		.align	2
 352              	.L27:
 353 0014 04ED00E0 		.word	-536810236
 354              		.cfi_endproc
 355              	.LFE149:
 357              		.section	.text.osThreadSetPriority,"ax",%progbits
 358              		.align	2
 359              		.global	osThreadSetPriority
 360              		.thumb
 361              		.thumb_func
 363              	osThreadSetPriority:
 364              	.LFB150:
 320:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 321:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 322:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Change priority of an active thread.
 323:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 324:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   priority      new priority value for the thread function.
 325:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 326:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadSetPriority shall be consistent in every CMSIS-RTOS.
 327:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 328:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSetPriority (osThreadId thread_id, osPriority priority)
 329:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 365              		.loc 1 329 0
 366              		.cfi_startproc
 367              		@ args = 0, pretend = 0, frame = 0
 368              		@ frame_needed = 0, uses_anonymous_args = 0
 369              	.LVL23:
 370 0000 10B5     		push	{r4, lr}
 371              	.LCFI8:
 372              		.cfi_def_cfa_offset 8
 373              		.cfi_offset 4, -8
 374              		.cfi_offset 14, -4
 375 0002 0446     		mov	r4, r0
 330:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskPrioritySet == 1)
 331:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskPrioritySet(thread_id, makeFreeRtosPriority(priority));
ARM GAS  /tmp/ccUoPQL6.s 			page 15


 376              		.loc 1 331 0
 377 0004 0846     		mov	r0, r1
 378              	.LVL24:
 379 0006 FFF7FEFF 		bl	makeFreeRtosPriority
 380              	.LVL25:
 381 000a 0146     		mov	r1, r0
 382 000c 2046     		mov	r0, r4
 383 000e FFF7FEFF 		bl	vTaskPrioritySet
 384              	.LVL26:
 332:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 333:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 334:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorOS;
 335:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 336:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 385              		.loc 1 336 0
 386 0012 0020     		movs	r0, #0
 387 0014 10BD     		pop	{r4, pc}
 388              		.cfi_endproc
 389              	.LFE150:
 391 0016 00BF     		.section	.text.osThreadGetPriority,"ax",%progbits
 392              		.align	2
 393              		.global	osThreadGetPriority
 394              		.thumb
 395              		.thumb_func
 397              	osThreadGetPriority:
 398              	.LFB151:
 337:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 338:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 339:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Get current priority of an active thread.
 340:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 341:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  current priority value of the thread function.
 342:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadGetPriority shall be consistent in every CMSIS-RTOS.
 343:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 344:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osPriority osThreadGetPriority (osThreadId thread_id)
 345:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 399              		.loc 1 345 0
 400              		.cfi_startproc
 401              		@ args = 0, pretend = 0, frame = 0
 402              		@ frame_needed = 0, uses_anonymous_args = 0
 403              	.LVL27:
 404 0000 10B5     		push	{r4, lr}
 405              	.LCFI9:
 406              		.cfi_def_cfa_offset 8
 407              		.cfi_offset 4, -8
 408              		.cfi_offset 14, -4
 409 0002 0446     		mov	r4, r0
 346:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_uxTaskPriorityGet == 1)
 347:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 410              		.loc 1 347 0
 411 0004 FFF7FEFF 		bl	inHandlerMode
 412              	.LVL28:
 413 0008 28B1     		cbz	r0, .L32
 348:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 349:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return makeCmsisPriority(uxTaskPriorityGetFromISR(thread_id));  
 414              		.loc 1 349 0
 415 000a 2046     		mov	r0, r4
 416 000c FFF7FEFF 		bl	uxTaskPriorityGetFromISR
ARM GAS  /tmp/ccUoPQL6.s 			page 16


 417              	.LVL29:
 418 0010 FFF7FEFF 		bl	makeCmsisPriority
 419              	.LVL30:
 420 0014 04E0     		b	.L33
 421              	.L32:
 350:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 351:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 352:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {  
 353:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return makeCmsisPriority(uxTaskPriorityGet(thread_id));
 422              		.loc 1 353 0
 423 0016 2046     		mov	r0, r4
 424 0018 FFF7FEFF 		bl	uxTaskPriorityGet
 425              	.LVL31:
 426 001c FFF7FEFF 		bl	makeCmsisPriority
 427              	.LVL32:
 428              	.L33:
 354:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 355:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 356:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osPriorityError;
 357:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 358:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 429              		.loc 1 358 0
 430 0020 00B2     		sxth	r0, r0
 431 0022 10BD     		pop	{r4, pc}
 432              		.cfi_endproc
 433              	.LFE151:
 435              		.section	.text.osDelay,"ax",%progbits
 436              		.align	2
 437              		.global	osDelay
 438              		.thumb
 439              		.thumb_func
 441              	osDelay:
 442              	.LFB152:
 359:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 360:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Generic Wait Functions *******************************/
 361:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 362:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Wait for Timeout (Time Delay)
 363:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec      time delay value
 364:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 365:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 366:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osDelay (uint32_t millisec)
 367:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 443              		.loc 1 367 0
 444              		.cfi_startproc
 445              		@ args = 0, pretend = 0, frame = 0
 446              		@ frame_needed = 0, uses_anonymous_args = 0
 447              	.LVL33:
 448 0000 08B5     		push	{r3, lr}
 449              	.LCFI10:
 450              		.cfi_def_cfa_offset 8
 451              		.cfi_offset 3, -8
 452              		.cfi_offset 14, -4
 453              	.LVL34:
 368:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_vTaskDelay
 369:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = millisec / portTICK_PERIOD_MS;
 370:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 371:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelay(ticks ? ticks : 1);          /* Minimum delay = 1 tick */
ARM GAS  /tmp/ccUoPQL6.s 			page 17


 454              		.loc 1 371 0
 455 0002 08B9     		cbnz	r0, .L37
 456 0004 0120     		movs	r0, #1
 457              	.LVL35:
 458 0006 FFE7     		b	.L36
 459              	.LVL36:
 460              	.L37:
 461              	.L36:
 462              		.loc 1 371 0 is_stmt 0 discriminator 4
 463 0008 FFF7FEFF 		bl	vTaskDelay
 464              	.LVL37:
 372:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 373:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 374:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 375:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
 376:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 377:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
 378:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 379:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 465              		.loc 1 379 0 is_stmt 1 discriminator 4
 466 000c 0020     		movs	r0, #0
 467 000e 08BD     		pop	{r3, pc}
 468              		.cfi_endproc
 469              	.LFE152:
 471              		.section	.text.osTimerCreate,"ax",%progbits
 472              		.align	2
 473              		.global	osTimerCreate
 474              		.thumb
 475              		.thumb_func
 477              	osTimerCreate:
 478              	.LFB153:
 380:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 381:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Wait)  &&  (osFeature_Wait != 0)) /* Generic Wait available */
 382:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 383:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Wait for Signal, Message, Mail, or Timeout
 384:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec  timeout value or 0 in case of no time-out
 385:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  event that contains signal, message, or mail information or error code.
 386:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osWait shall be consistent in every CMSIS-RTOS.
 387:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 388:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osWait (uint32_t millisec);
 389:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 390:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* Generic Wait available */
 391:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 392:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /***********************  Timer Management Functions ***************************/
 393:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 394:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create a timer.
 395:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_def     timer object referenced with \ref osTimer.
 396:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  type          osTimerOnce for one-shot or osTimerPeriodic for periodic behavior.
 397:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      argument to the timer call back function.
 398:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  timer ID for reference by other functions or NULL in case of error.
 399:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerCreate shall be consistent in every CMSIS-RTOS.
 400:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 401:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osTimerId osTimerCreate (const osTimerDef_t *timer_def, os_timer_type type, void *argument)
 402:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 479              		.loc 1 402 0
 480              		.cfi_startproc
 481              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccUoPQL6.s 			page 18


 482              		@ frame_needed = 0, uses_anonymous_args = 0
 483              		@ link register save eliminated.
 484              	.LVL38:
 403:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)
 404:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 405:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( ( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) ) 
 406:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(timer_def->controlblock != NULL) {
 407:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTimerCreateStatic((const char *)"",
 408:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 409:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 410:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 411:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer,
 412:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (StaticTimer_t *)timer_def->controlblock);
 413:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 414:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 415:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTimerCreate((const char *)"",
 416:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 417:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 418:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 419:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer);
 420:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  }
 421:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif( configSUPPORT_STATIC_ALLOCATION == 1 )
 422:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTimerCreateStatic((const char *)"",
 423:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 424:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 425:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 426:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer,
 427:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (StaticTimer_t *)timer_def->controlblock);  
 428:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 429:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTimerCreate((const char *)"",
 430:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 431:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 432:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 433:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer);
 434:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 435:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 436:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 437:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return NULL;
 438:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 439:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 485              		.loc 1 439 0
 486 0000 0020     		movs	r0, #0
 487              	.LVL39:
 488 0002 7047     		bx	lr
 489              		.cfi_endproc
 490              	.LFE153:
 492              		.section	.text.osTimerStart,"ax",%progbits
 493              		.align	2
 494              		.global	osTimerStart
 495              		.thumb
 496              		.thumb_func
 498              	osTimerStart:
 499              	.LFB154:
 440:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 441:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 442:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Start or restart a timer.
 443:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate.
ARM GAS  /tmp/ccUoPQL6.s 			page 19


 444:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      time delay value of the timer.
 445:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function
 446:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerStart shall be consistent in every CMSIS-RTOS.
 447:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 448:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerStart (osTimerId timer_id, uint32_t millisec)
 449:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 500              		.loc 1 449 0
 501              		.cfi_startproc
 502              		@ args = 0, pretend = 0, frame = 0
 503              		@ frame_needed = 0, uses_anonymous_args = 0
 504              		@ link register save eliminated.
 505              	.LVL40:
 450:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 451:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)  
 452:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 453:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = millisec / portTICK_PERIOD_MS;
 454:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 455:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (ticks == 0)
 456:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = 1;
 457:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 458:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) 
 459:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 460:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerChangePeriodFromISR(timer_id, ticks, &taskWoken) != pdPASS)
 461:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 462:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 463:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 464:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else
 465:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 466:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       portEND_SWITCHING_ISR(taskWoken);     
 467:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 468:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 469:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else 
 470:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 471:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerChangePeriod(timer_id, ticks, 0) != pdPASS)
 472:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 473:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 474:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 475:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 476:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 477:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 478:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 479:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 506              		.loc 1 479 0
 507 0000 FF20     		movs	r0, #255
 508              	.LVL41:
 509 0002 7047     		bx	lr
 510              		.cfi_endproc
 511              	.LFE154:
 513              		.section	.text.osTimerStop,"ax",%progbits
 514              		.align	2
 515              		.global	osTimerStop
 516              		.thumb
 517              		.thumb_func
 519              	osTimerStop:
 520              	.LFB155:
 480:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 481:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
ARM GAS  /tmp/ccUoPQL6.s 			page 20


 482:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Stop a timer.
 483:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate
 484:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 485:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerStop shall be consistent in every CMSIS-RTOS.
 486:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 487:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerStop (osTimerId timer_id)
 488:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 521              		.loc 1 488 0
 522              		.cfi_startproc
 523              		@ args = 0, pretend = 0, frame = 0
 524              		@ frame_needed = 0, uses_anonymous_args = 0
 525              		@ link register save eliminated.
 526              	.LVL42:
 489:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 490:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)  
 491:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 492:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 493:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 494:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerStopFromISR(timer_id, &taskWoken) != pdPASS) {
 495:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 496:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 497:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 498:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 499:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 500:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerStop(timer_id, 0) != pdPASS) {
 501:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 502:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 503:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 504:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 505:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 506:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif 
 507:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 508:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 527              		.loc 1 508 0
 528 0000 FF20     		movs	r0, #255
 529              	.LVL43:
 530 0002 7047     		bx	lr
 531              		.cfi_endproc
 532              	.LFE155:
 534              		.section	.text.osTimerDelete,"ax",%progbits
 535              		.align	2
 536              		.global	osTimerDelete
 537              		.thumb
 538              		.thumb_func
 540              	osTimerDelete:
 541              	.LFB156:
 509:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 510:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 511:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Delete a timer.
 512:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate
 513:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 514:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerDelete shall be consistent in every CMSIS-RTOS.
 515:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 516:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerDelete (osTimerId timer_id)
 517:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 542              		.loc 1 517 0
 543              		.cfi_startproc
ARM GAS  /tmp/ccUoPQL6.s 			page 21


 544              		@ args = 0, pretend = 0, frame = 0
 545              		@ frame_needed = 0, uses_anonymous_args = 0
 546              		@ link register save eliminated.
 547              	.LVL44:
 518:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus result = osOK;
 519:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 520:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)
 521:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 522:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****    if (inHandlerMode()) {
 523:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      return osErrorISR;
 524:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 525:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else { 
 526:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if ((xTimerDelete(timer_id, osWaitForever )) != pdPASS) {
 527:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 528:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 529:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
 530:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 531:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 532:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 533:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif 
 534:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 535:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 536:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 548              		.loc 1 536 0
 549 0000 FF20     		movs	r0, #255
 550              	.LVL45:
 551 0002 7047     		bx	lr
 552              		.cfi_endproc
 553              	.LFE156:
 555              		.section	.text.osSignalSet,"ax",%progbits
 556              		.align	2
 557              		.global	osSignalSet
 558              		.thumb
 559              		.thumb_func
 561              	osSignalSet:
 562              	.LFB157:
 537:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 538:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /***************************  Signal Management ********************************/
 539:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 540:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Set the specified Signal Flags of an active thread.
 541:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 542:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals       specifies the signal flags of the thread that should be set.
 543:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval previous signal flags of the specified thread or 0x80000000 in case of incorrect paramete
 544:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalSet shall be consistent in every CMSIS-RTOS.
 545:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 546:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSignalSet (osThreadId thread_id, int32_t signal)
 547:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 563              		.loc 1 547 0
 564              		.cfi_startproc
 565              		@ args = 0, pretend = 0, frame = 8
 566              		@ frame_needed = 0, uses_anonymous_args = 0
 567              	.LVL46:
 568 0000 30B5     		push	{r4, r5, lr}
 569              	.LCFI11:
 570              		.cfi_def_cfa_offset 12
 571              		.cfi_offset 4, -12
 572              		.cfi_offset 5, -8
ARM GAS  /tmp/ccUoPQL6.s 			page 22


 573              		.cfi_offset 14, -4
 574 0002 85B0     		sub	sp, sp, #20
 575              	.LCFI12:
 576              		.cfi_def_cfa_offset 32
 577 0004 0546     		mov	r5, r0
 578 0006 0C46     		mov	r4, r1
 548:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )	
 549:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   BaseType_t xHigherPriorityTaskWoken = pdFALSE;
 579              		.loc 1 549 0
 580 0008 0023     		movs	r3, #0
 581 000a 0393     		str	r3, [sp, #12]
 550:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t ulPreviousNotificationValue = 0;
 582              		.loc 1 550 0
 583 000c 0293     		str	r3, [sp, #8]
 551:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 552:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 584              		.loc 1 552 0
 585 000e FFF7FEFF 		bl	inHandlerMode
 586              	.LVL47:
 587 0012 A0B1     		cbz	r0, .L44
 553:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 554:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if(xTaskGenericNotifyFromISR( thread_id , (uint32_t)signal, eSetBits, &ulPreviousNotificationVa
 588              		.loc 1 554 0
 589 0014 03AB     		add	r3, sp, #12
 590 0016 0093     		str	r3, [sp]
 591 0018 2846     		mov	r0, r5
 592 001a 2146     		mov	r1, r4
 593 001c 0122     		movs	r2, #1
 594 001e 02AB     		add	r3, sp, #8
 595 0020 FFF7FEFF 		bl	xTaskGenericNotifyFromISR
 596              	.LVL48:
 597 0024 0128     		cmp	r0, #1
 598 0026 14D1     		bne	.L47
 555:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return 0x80000000;
 556:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 557:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portYIELD_FROM_ISR( xHigherPriorityTaskWoken );
 599              		.loc 1 557 0
 600 0028 039B     		ldr	r3, [sp, #12]
 601 002a 83B1     		cbz	r3, .L46
 602              		.loc 1 557 0 is_stmt 0 discriminator 1
 603 002c 4FF08052 		mov	r2, #268435456
 604 0030 0B4B     		ldr	r3, .L50
 605 0032 1A60     		str	r2, [r3]
 606              	@ 557 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 607 0034 BFF34F8F 		dsb
 608              	@ 0 "" 2
 609              	@ 557 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 610 0038 BFF36F8F 		isb
 611              	@ 0 "" 2
 612              		.thumb
 613 003c 07E0     		b	.L46
 614              	.L44:
 558:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 559:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if(xTaskGenericNotify( thread_id , (uint32_t)signal, eSetBits, &ulPreviousNotificationValue)
 615              		.loc 1 559 0 is_stmt 1
 616 003e 2846     		mov	r0, r5
 617 0040 2146     		mov	r1, r4
ARM GAS  /tmp/ccUoPQL6.s 			page 23


 618 0042 0122     		movs	r2, #1
 619 0044 02AB     		add	r3, sp, #8
 620 0046 FFF7FEFF 		bl	xTaskGenericNotify
 621              	.LVL49:
 622 004a 0128     		cmp	r0, #1
 623 004c 04D1     		bne	.L48
 624              	.L46:
 560:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0x80000000;
 561:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 562:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return ulPreviousNotificationValue;
 625              		.loc 1 562 0
 626 004e 0298     		ldr	r0, [sp, #8]
 627 0050 04E0     		b	.L45
 628              	.L47:
 555:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 629              		.loc 1 555 0
 630 0052 4FF00040 		mov	r0, #-2147483648
 631 0056 01E0     		b	.L45
 632              	.L48:
 560:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0x80000000;
 633              		.loc 1 560 0
 634 0058 4FF00040 		mov	r0, #-2147483648
 635              	.L45:
 563:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 564:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
 565:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) signal;
 566:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 567:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return 0x80000000; /* Task Notification not supported */ 	
 568:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 569:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 636              		.loc 1 569 0
 637 005c 05B0     		add	sp, sp, #20
 638              	.LCFI13:
 639              		.cfi_def_cfa_offset 12
 640              		@ sp needed
 641 005e 30BD     		pop	{r4, r5, pc}
 642              	.LVL50:
 643              	.L51:
 644              		.align	2
 645              	.L50:
 646 0060 04ED00E0 		.word	-536810236
 647              		.cfi_endproc
 648              	.LFE157:
 650              		.section	.text.osSignalWait,"ax",%progbits
 651              		.align	2
 652              		.global	osSignalWait
 653              		.thumb
 654              		.thumb_func
 656              	osSignalWait:
 657              	.LFB158:
 570:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 571:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 572:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Clear the specified Signal Flags of an active thread.
 573:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id  thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 574:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals    specifies the signal flags of the thread that shall be cleared.
 575:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  previous signal flags of the specified thread or 0x80000000 in case of incorrect paramet
 576:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalClear shall be consistent in every CMSIS-RTOS.
ARM GAS  /tmp/ccUoPQL6.s 			page 24


 577:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 578:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSignalClear (osThreadId thread_id, int32_t signal);
 579:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 580:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 581:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Wait for one or more Signal Flags to become signaled for the current \b RUNNING thread.
 582:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals   wait until all specified signal flags set or 0 for any single signal flag.
 583:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
 584:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  event flag information or error code.
 585:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalWait shall be consistent in every CMSIS-RTOS.
 586:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 587:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osSignalWait (int32_t signals, uint32_t millisec)
 588:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 658              		.loc 1 588 0
 659              		.cfi_startproc
 660              		@ args = 0, pretend = 0, frame = 16
 661              		@ frame_needed = 0, uses_anonymous_args = 0
 662              	.LVL51:
 663 0000 70B5     		push	{r4, r5, r6, lr}
 664              	.LCFI14:
 665              		.cfi_def_cfa_offset 16
 666              		.cfi_offset 4, -16
 667              		.cfi_offset 5, -12
 668              		.cfi_offset 6, -8
 669              		.cfi_offset 14, -4
 670 0002 84B0     		sub	sp, sp, #16
 671              	.LCFI15:
 672              		.cfi_def_cfa_offset 32
 673 0004 0446     		mov	r4, r0
 674 0006 0E46     		mov	r6, r1
 675 0008 1546     		mov	r5, r2
 589:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent ret;
 590:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 591:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )
 592:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	
 593:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 594:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 595:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ret.value.signals = 0;  
 676              		.loc 1 595 0
 677 000a 0023     		movs	r3, #0
 678 000c 0293     		str	r3, [sp, #8]
 679              	.LVL52:
 596:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 597:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 680              		.loc 1 597 0
 681 000e B2F1FF3F 		cmp	r2, #-1
 682 0012 02D0     		beq	.L53
 598:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 599:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 600:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 683              		.loc 1 600 0
 684 0014 0AB1     		cbz	r2, .L53
 685              	.LVL53:
 601:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 602:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 686              		.loc 1 602 0
 687 0016 02B9     		cbnz	r2, .L53
 603:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
ARM GAS  /tmp/ccUoPQL6.s 			page 25


 688              		.loc 1 603 0
 689 0018 0125     		movs	r5, #1
 690              	.LVL54:
 691              	.L53:
 604:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 605:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 606:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 607:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 692              		.loc 1 607 0
 693 001a FFF7FEFF 		bl	inHandlerMode
 694              	.LVL55:
 695 001e 10B1     		cbz	r0, .L54
 608:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 609:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ret.status = osErrorISR;  /*Not allowed in ISR*/
 696              		.loc 1 609 0
 697 0020 8223     		movs	r3, #130
 698 0022 0193     		str	r3, [sp, #4]
 699 0024 16E0     		b	.L55
 700              	.L54:
 610:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 611:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 612:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 613:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if(xTaskNotifyWait( 0,(uint32_t) signals, (uint32_t *)&ret.value.signals, ticks) != pdTRUE)
 701              		.loc 1 613 0
 702 0026 0020     		movs	r0, #0
 703 0028 3146     		mov	r1, r6
 704 002a 02AA     		add	r2, sp, #8
 705 002c 2B46     		mov	r3, r5
 706 002e FFF7FEFF 		bl	xTaskNotifyWait
 707              	.LVL56:
 708 0032 0128     		cmp	r0, #1
 709 0034 06D0     		beq	.L56
 614:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 615:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       if(ticks == 0)  ret.status = osOK;
 710              		.loc 1 615 0
 711 0036 15B9     		cbnz	r5, .L57
 712              		.loc 1 615 0 is_stmt 0 discriminator 1
 713 0038 0023     		movs	r3, #0
 714 003a 0193     		str	r3, [sp, #4]
 715 003c 0AE0     		b	.L55
 716              	.L57:
 616:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       else  ret.status = osEventTimeout;
 717              		.loc 1 616 0 is_stmt 1
 718 003e 4023     		movs	r3, #64
 719 0040 0193     		str	r3, [sp, #4]
 720 0042 07E0     		b	.L55
 721              	.L56:
 617:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 618:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else if(ret.value.signals < 0)
 722              		.loc 1 618 0
 723 0044 029B     		ldr	r3, [sp, #8]
 724 0046 002B     		cmp	r3, #0
 725 0048 02DA     		bge	.L58
 619:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 620:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ret.status =  osErrorValue;     
 726              		.loc 1 620 0
 727 004a 8623     		movs	r3, #134
ARM GAS  /tmp/ccUoPQL6.s 			page 26


 728 004c 0193     		str	r3, [sp, #4]
 729 004e 01E0     		b	.L55
 730              	.L58:
 621:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 622:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else  ret.status =  osEventSignal;
 731              		.loc 1 622 0
 732 0050 0823     		movs	r3, #8
 733 0052 0193     		str	r3, [sp, #4]
 734              	.L55:
 623:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 624:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 625:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) signals;
 626:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
 627:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	
 628:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ret.status =  osErrorOS;	/* Task Notification not supported */
 629:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 630:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 631:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return ret;
 735              		.loc 1 631 0
 736 0054 04AB     		add	r3, sp, #16
 737 0056 13E90700 		ldmdb	r3, {r0, r1, r2}
 738 005a 84E80700 		stmia	r4, {r0, r1, r2}
 632:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 739              		.loc 1 632 0
 740 005e 2046     		mov	r0, r4
 741 0060 04B0     		add	sp, sp, #16
 742              	.LCFI16:
 743              		.cfi_def_cfa_offset 16
 744              		@ sp needed
 745 0062 70BD     		pop	{r4, r5, r6, pc}
 746              		.cfi_endproc
 747              	.LFE158:
 749              		.section	.text.osMutexCreate,"ax",%progbits
 750              		.align	2
 751              		.global	osMutexCreate
 752              		.thumb
 753              		.thumb_func
 755              	osMutexCreate:
 756              	.LFB159:
 633:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 634:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /****************************  Mutex Management ********************************/
 635:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 636:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create and Initialize a Mutex object
 637:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mutex_def     mutex definition referenced with \ref osMutex.
 638:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  mutex ID for reference by other functions or NULL in case of error.
 639:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexCreate shall be consistent in every CMSIS-RTOS.
 640:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 641:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMutexId osMutexCreate (const osMutexDef_t *mutex_def)
 642:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 757              		.loc 1 642 0
 758              		.cfi_startproc
 759              		@ args = 0, pretend = 0, frame = 0
 760              		@ frame_needed = 0, uses_anonymous_args = 0
 761              	.LVL57:
 762 0000 08B5     		push	{r3, lr}
 763              	.LCFI17:
 764              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccUoPQL6.s 			page 27


 765              		.cfi_offset 3, -8
 766              		.cfi_offset 14, -4
 643:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( configUSE_MUTEXES == 1)
 644:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 645:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 646:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 647:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_def->controlblock != NULL) {
 648:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutexStatic( mutex_def->controlblock );
 649:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      }
 650:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 651:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutex(); 
 652:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 653:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
 654:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateMutexStatic( mutex_def->controlblock );
 655:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  
 656:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutex(); 
 767              		.loc 1 656 0
 768 0002 0120     		movs	r0, #1
 769              	.LVL58:
 770 0004 FFF7FEFF 		bl	xQueueCreateMutex
 771              	.LVL59:
 657:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 658:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 659:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
 660:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 661:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 772              		.loc 1 661 0
 773 0008 08BD     		pop	{r3, pc}
 774              		.cfi_endproc
 775              	.LFE159:
 777 000a 00BF     		.section	.text.osMutexWait,"ax",%progbits
 778              		.align	2
 779              		.global	osMutexWait
 780              		.thumb
 781              		.thumb_func
 783              	osMutexWait:
 784              	.LFB160:
 662:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 663:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 664:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Wait until a Mutex becomes available
 665:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id      mutex ID obtained by \ref osMutexCreate.
 666:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec      timeout value or 0 in case of no time-out.
 667:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 668:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexWait shall be consistent in every CMSIS-RTOS.
 669:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 670:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexWait (osMutexId mutex_id, uint32_t millisec)
 671:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 785              		.loc 1 671 0
 786              		.cfi_startproc
 787              		@ args = 0, pretend = 0, frame = 8
 788              		@ frame_needed = 0, uses_anonymous_args = 0
 789              	.LVL60:
 790 0000 30B5     		push	{r4, r5, lr}
 791              	.LCFI18:
 792              		.cfi_def_cfa_offset 12
 793              		.cfi_offset 4, -12
 794              		.cfi_offset 5, -8
ARM GAS  /tmp/ccUoPQL6.s 			page 28


 795              		.cfi_offset 14, -4
 796 0002 83B0     		sub	sp, sp, #12
 797              	.LCFI19:
 798              		.cfi_def_cfa_offset 24
 672:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 673:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;  
 799              		.loc 1 673 0
 800 0004 0023     		movs	r3, #0
 801 0006 0193     		str	r3, [sp, #4]
 674:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 675:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 676:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_id == NULL) {
 802              		.loc 1 676 0
 803 0008 38B3     		cbz	r0, .L67
 804 000a 0C46     		mov	r4, r1
 805 000c 0546     		mov	r5, r0
 806              	.LVL61:
 677:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 678:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 679:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 680:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 681:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 807              		.loc 1 681 0
 808 000e B1F1FF3F 		cmp	r1, #-1
 809 0012 02D0     		beq	.L65
 682:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 683:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 684:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 810              		.loc 1 684 0
 811 0014 09B1     		cbz	r1, .L65
 812              	.LVL62:
 685:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 686:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 813              		.loc 1 686 0
 814 0016 01B9     		cbnz	r1, .L65
 687:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 815              		.loc 1 687 0
 816 0018 0124     		movs	r4, #1
 817              	.LVL63:
 818              	.L65:
 688:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 689:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 690:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 691:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 819              		.loc 1 691 0
 820 001a FFF7FEFF 		bl	inHandlerMode
 821              	.LVL64:
 822 001e 90B1     		cbz	r0, .L66
 692:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreTakeFromISR(mutex_id, &taskWoken) != pdTRUE) {
 823              		.loc 1 692 0
 824 0020 2846     		mov	r0, r5
 825 0022 0021     		movs	r1, #0
 826 0024 01AA     		add	r2, sp, #4
 827 0026 FFF7FEFF 		bl	xQueueReceiveFromISR
 828              	.LVL65:
 829 002a 0128     		cmp	r0, #1
 830 002c 17D1     		bne	.L69
ARM GAS  /tmp/ccUoPQL6.s 			page 29


 693:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 694:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 695:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	portEND_SWITCHING_ISR(taskWoken);
 831              		.loc 1 695 0
 832 002e 019B     		ldr	r3, [sp, #4]
 833 0030 BBB1     		cbz	r3, .L70
 834              		.loc 1 695 0 is_stmt 0 discriminator 1
 835 0032 4FF08052 		mov	r2, #268435456
 836 0036 0D4B     		ldr	r3, .L73
 837 0038 1A60     		str	r2, [r3]
 838              	@ 695 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 839 003a BFF34F8F 		dsb
 840              	@ 0 "" 2
 841              	@ 695 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 842 003e BFF36F8F 		isb
 843              	@ 0 "" 2
 696:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
 697:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreTake(mutex_id, ticks) != pdTRUE) {
 698:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 699:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 700:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 701:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 844              		.loc 1 701 0 is_stmt 1 discriminator 1
 845              		.thumb
 846 0042 0020     		movs	r0, #0
 847 0044 10E0     		b	.L64
 848              	.L66:
 697:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 849              		.loc 1 697 0
 850 0046 2846     		mov	r0, r5
 851 0048 0021     		movs	r1, #0
 852 004a 2246     		mov	r2, r4
 853 004c 0B46     		mov	r3, r1
 854 004e FFF7FEFF 		bl	xQueueGenericReceive
 855              	.LVL66:
 856 0052 0128     		cmp	r0, #1
 857 0054 07D0     		beq	.L71
 698:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 858              		.loc 1 698 0
 859 0056 FF20     		movs	r0, #255
 860 0058 06E0     		b	.L64
 861              	.LVL67:
 862              	.L67:
 677:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 863              		.loc 1 677 0
 864 005a 8020     		movs	r0, #128
 865              	.LVL68:
 866 005c 04E0     		b	.L64
 867              	.LVL69:
 868              	.L69:
 693:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 869              		.loc 1 693 0
 870 005e FF20     		movs	r0, #255
 871 0060 02E0     		b	.L64
 872              	.L70:
 873              		.loc 1 701 0
 874 0062 0020     		movs	r0, #0
ARM GAS  /tmp/ccUoPQL6.s 			page 30


 875 0064 00E0     		b	.L64
 876              	.L71:
 877 0066 0020     		movs	r0, #0
 878              	.LVL70:
 879              	.L64:
 702:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 880              		.loc 1 702 0
 881 0068 03B0     		add	sp, sp, #12
 882              	.LCFI20:
 883              		.cfi_def_cfa_offset 12
 884              		@ sp needed
 885 006a 30BD     		pop	{r4, r5, pc}
 886              	.L74:
 887              		.align	2
 888              	.L73:
 889 006c 04ED00E0 		.word	-536810236
 890              		.cfi_endproc
 891              	.LFE160:
 893              		.section	.text.osMutexRelease,"ax",%progbits
 894              		.align	2
 895              		.global	osMutexRelease
 896              		.thumb
 897              		.thumb_func
 899              	osMutexRelease:
 900              	.LFB161:
 703:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 704:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 705:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Release a Mutex that was obtained by \ref osMutexWait
 706:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id      mutex ID obtained by \ref osMutexCreate.
 707:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 708:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexRelease shall be consistent in every CMSIS-RTOS.
 709:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 710:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexRelease (osMutexId mutex_id)
 711:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 901              		.loc 1 711 0
 902              		.cfi_startproc
 903              		@ args = 0, pretend = 0, frame = 8
 904              		@ frame_needed = 0, uses_anonymous_args = 0
 905              	.LVL71:
 906 0000 10B5     		push	{r4, lr}
 907              	.LCFI21:
 908              		.cfi_def_cfa_offset 8
 909              		.cfi_offset 4, -8
 910              		.cfi_offset 14, -4
 911 0002 82B0     		sub	sp, sp, #8
 912              	.LCFI22:
 913              		.cfi_def_cfa_offset 16
 914 0004 0446     		mov	r4, r0
 915              	.LVL72:
 712:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 713:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 916              		.loc 1 713 0
 917 0006 0023     		movs	r3, #0
 918 0008 0193     		str	r3, [sp, #4]
 714:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 715:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 919              		.loc 1 715 0
ARM GAS  /tmp/ccUoPQL6.s 			page 31


 920 000a FFF7FEFF 		bl	inHandlerMode
 921              	.LVL73:
 922 000e 88B1     		cbz	r0, .L76
 716:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGiveFromISR(mutex_id, &taskWoken) != pdTRUE) {
 923              		.loc 1 716 0
 924 0010 2046     		mov	r0, r4
 925 0012 01A9     		add	r1, sp, #4
 926 0014 FFF7FEFF 		bl	xQueueGiveFromISR
 927              	.LVL74:
 928 0018 0128     		cmp	r0, #1
 929 001a 19D1     		bne	.L79
 717:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 718:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 719:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 930              		.loc 1 719 0
 931 001c 019B     		ldr	r3, [sp, #4]
 932 001e 9BB1     		cbz	r3, .L80
 933              		.loc 1 719 0 is_stmt 0 discriminator 1
 934 0020 4FF08052 		mov	r2, #268435456
 935 0024 0C4B     		ldr	r3, .L83
 936 0026 1A60     		str	r2, [r3]
 937              	@ 719 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 938 0028 BFF34F8F 		dsb
 939              	@ 0 "" 2
 940              	@ 719 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 941 002c BFF36F8F 		isb
 942              	@ 0 "" 2
 712:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 943              		.loc 1 712 0 is_stmt 1 discriminator 1
 944              		.thumb
 945 0030 0020     		movs	r0, #0
 946 0032 0EE0     		b	.L77
 947              	.L76:
 720:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 721:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreGive(mutex_id) != pdTRUE) 
 948              		.loc 1 721 0
 949 0034 2046     		mov	r0, r4
 950 0036 0021     		movs	r1, #0
 951 0038 0A46     		mov	r2, r1
 952 003a 0B46     		mov	r3, r1
 953 003c FFF7FEFF 		bl	xQueueGenericSend
 954              	.LVL75:
 955 0040 0128     		cmp	r0, #1
 956 0042 03D1     		bne	.L81
 712:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 957              		.loc 1 712 0
 958 0044 0020     		movs	r0, #0
 959 0046 04E0     		b	.L77
 960              	.L80:
 961 0048 0020     		movs	r0, #0
 962 004a 02E0     		b	.L77
 963              	.L81:
 722:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 723:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osErrorOS;
 964              		.loc 1 723 0
 965 004c FF20     		movs	r0, #255
 966              	.LVL76:
ARM GAS  /tmp/ccUoPQL6.s 			page 32


 724:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 725:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 967              		.loc 1 725 0
 968 004e 00E0     		b	.L77
 969              	.LVL77:
 970              	.L79:
 717:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 971              		.loc 1 717 0
 972 0050 FF20     		movs	r0, #255
 973              	.LVL78:
 974              	.L77:
 726:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 975              		.loc 1 726 0
 976 0052 02B0     		add	sp, sp, #8
 977              	.LCFI23:
 978              		.cfi_def_cfa_offset 8
 979              		@ sp needed
 980 0054 10BD     		pop	{r4, pc}
 981              	.LVL79:
 982              	.L84:
 983 0056 00BF     		.align	2
 984              	.L83:
 985 0058 04ED00E0 		.word	-536810236
 986              		.cfi_endproc
 987              	.LFE161:
 989              		.section	.text.osMutexDelete,"ax",%progbits
 990              		.align	2
 991              		.global	osMutexDelete
 992              		.thumb
 993              		.thumb_func
 995              	osMutexDelete:
 996              	.LFB162:
 727:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 728:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 729:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Mutex
 730:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id  mutex ID obtained by \ref osMutexCreate.
 731:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 732:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexDelete shall be consistent in every CMSIS-RTOS.
 733:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 734:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexDelete (osMutexId mutex_id)
 735:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 997              		.loc 1 735 0
 998              		.cfi_startproc
 999              		@ args = 0, pretend = 0, frame = 0
 1000              		@ frame_needed = 0, uses_anonymous_args = 0
 1001              	.LVL80:
 1002 0000 10B5     		push	{r4, lr}
 1003              	.LCFI24:
 1004              		.cfi_def_cfa_offset 8
 1005              		.cfi_offset 4, -8
 1006              		.cfi_offset 14, -4
 1007 0002 0446     		mov	r4, r0
 736:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1008              		.loc 1 736 0
 1009 0004 FFF7FEFF 		bl	inHandlerMode
 1010              	.LVL81:
 1011 0008 20B9     		cbnz	r0, .L87
ARM GAS  /tmp/ccUoPQL6.s 			page 33


 737:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 738:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 739:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 740:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vQueueDelete(mutex_id);
 1012              		.loc 1 740 0
 1013 000a 2046     		mov	r0, r4
 1014 000c FFF7FEFF 		bl	vQueueDelete
 1015              	.LVL82:
 741:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 742:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1016              		.loc 1 742 0
 1017 0010 0020     		movs	r0, #0
 1018 0012 10BD     		pop	{r4, pc}
 1019              	.LVL83:
 1020              	.L87:
 737:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 1021              		.loc 1 737 0
 1022 0014 8220     		movs	r0, #130
 743:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1023              		.loc 1 743 0
 1024 0016 10BD     		pop	{r4, pc}
 1025              		.cfi_endproc
 1026              	.LFE162:
 1028              		.section	.text.osSemaphoreCreate,"ax",%progbits
 1029              		.align	2
 1030              		.global	osSemaphoreCreate
 1031              		.thumb
 1032              		.thumb_func
 1034              	osSemaphoreCreate:
 1035              	.LFB163:
 744:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 745:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /********************  Semaphore Management Functions **************************/
 746:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 747:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Semaphore)  &&  (osFeature_Semaphore != 0))
 748:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 749:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 750:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a Semaphore object used for managing resources
 751:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param semaphore_def semaphore definition referenced with \ref osSemaphore.
 752:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param count         number of available resources.
 753:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  semaphore ID for reference by other functions or NULL in case of error.
 754:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreCreate shall be consistent in every CMSIS-RTOS.
 755:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 756:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osSemaphoreId osSemaphoreCreate (const osSemaphoreDef_t *semaphore_def, int32_t count)
 757:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** { 
 1036              		.loc 1 757 0
 1037              		.cfi_startproc
 1038              		@ args = 0, pretend = 0, frame = 0
 1039              		@ frame_needed = 0, uses_anonymous_args = 0
 1040              	.LVL84:
 758:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 759:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 760:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osSemaphoreId sema;
 761:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 762:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (semaphore_def->controlblock != NULL){
 763:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (count == 1) {
 764:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateBinaryStatic( semaphore_def->controlblock );
 765:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
ARM GAS  /tmp/ccUoPQL6.s 			page 34


 766:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 767:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )
 768:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCountingStatic( count, count, semaphore_def->controlblock );
 769:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 770:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 771:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 772:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 773:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 774:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 775:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (count == 1) {
 776:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       vSemaphoreCreateBinary(sema);
 777:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return sema;
 778:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 779:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 780:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )	
 781:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCounting(count, count);
 782:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 783:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 784:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    
 785:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 786:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 787:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 ) // configSUPPORT_DYNAMIC_ALLOCATION == 0
 788:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(count == 1) {
 789:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateBinaryStatic( semaphore_def->controlblock );
 790:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 791:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 792:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 793:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )
 794:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCountingStatic( count, count, semaphore_def->controlblock );
 795:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 796:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 797:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    
 798:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 799:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  // configSUPPORT_STATIC_ALLOCATION == 0  && configSUPPORT_DYNAMIC_ALLOCATION == 1
 800:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osSemaphoreId sema;
 801:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 802:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (count == 1) {
 1041              		.loc 1 802 0
 1042 0000 0129     		cmp	r1, #1
 1043 0002 0ED1     		bne	.L92
 757:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 1044              		.loc 1 757 0
 1045 0004 10B5     		push	{r4, lr}
 1046              	.LCFI25:
 1047              		.cfi_def_cfa_offset 8
 1048              		.cfi_offset 4, -8
 1049              		.cfi_offset 14, -4
 803:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vSemaphoreCreateBinary(sema);
 1050              		.loc 1 803 0
 1051 0006 0120     		movs	r0, #1
 1052              	.LVL85:
 1053 0008 0021     		movs	r1, #0
 1054              	.LVL86:
 1055 000a 0322     		movs	r2, #3
 1056 000c FFF7FEFF 		bl	xQueueGenericCreate
 1057              	.LVL87:
 1058 0010 0446     		mov	r4, r0
ARM GAS  /tmp/ccUoPQL6.s 			page 35


 1059 0012 20B1     		cbz	r0, .L91
 1060              		.loc 1 803 0 is_stmt 0 discriminator 1
 1061 0014 0021     		movs	r1, #0
 1062 0016 0A46     		mov	r2, r1
 1063 0018 0B46     		mov	r3, r1
 1064 001a FFF7FEFF 		bl	xQueueGenericSend
 1065              	.LVL88:
 1066              	.L91:
 804:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return sema;
 1067              		.loc 1 804 0 is_stmt 1
 1068 001e 2046     		mov	r0, r4
 1069 0020 10BD     		pop	{r4, pc}
 1070              	.LVL89:
 1071              	.L92:
 1072              	.LCFI26:
 1073              		.cfi_def_cfa_offset 0
 1074              		.cfi_restore 4
 1075              		.cfi_restore 14
 805:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 806:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 807:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )	
 808:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateCounting(count, count);
 809:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 810:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 1076              		.loc 1 810 0
 1077 0022 0020     		movs	r0, #0
 1078              	.LVL90:
 1079 0024 7047     		bx	lr
 1080              		.cfi_endproc
 1081              	.LFE163:
 1083 0026 00BF     		.section	.text.osSemaphoreWait,"ax",%progbits
 1084              		.align	2
 1085              		.global	osSemaphoreWait
 1086              		.thumb
 1087              		.thumb_func
 1089              	osSemaphoreWait:
 1090              	.LFB164:
 811:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 812:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 813:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 814:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 815:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 816:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 817:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Wait until a Semaphore token becomes available
 818:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 819:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
 820:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  number of available tokens, or -1 in case of incorrect parameters.
 821:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreWait shall be consistent in every CMSIS-RTOS.
 822:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 823:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSemaphoreWait (osSemaphoreId semaphore_id, uint32_t millisec)
 824:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1091              		.loc 1 824 0
 1092              		.cfi_startproc
 1093              		@ args = 0, pretend = 0, frame = 8
 1094              		@ frame_needed = 0, uses_anonymous_args = 0
 1095              	.LVL91:
 1096 0000 30B5     		push	{r4, r5, lr}
ARM GAS  /tmp/ccUoPQL6.s 			page 36


 1097              	.LCFI27:
 1098              		.cfi_def_cfa_offset 12
 1099              		.cfi_offset 4, -12
 1100              		.cfi_offset 5, -8
 1101              		.cfi_offset 14, -4
 1102 0002 83B0     		sub	sp, sp, #12
 1103              	.LCFI28:
 1104              		.cfi_def_cfa_offset 24
 825:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 826:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;  
 1105              		.loc 1 826 0
 1106 0004 0023     		movs	r3, #0
 1107 0006 0193     		str	r3, [sp, #4]
 827:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 828:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 829:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (semaphore_id == NULL) {
 1108              		.loc 1 829 0
 1109 0008 38B3     		cbz	r0, .L99
 1110 000a 0C46     		mov	r4, r1
 1111 000c 0546     		mov	r5, r0
 1112              	.LVL92:
 830:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 831:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 832:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 833:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 834:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 1113              		.loc 1 834 0
 1114 000e B1F1FF3F 		cmp	r1, #-1
 1115 0012 02D0     		beq	.L97
 835:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 836:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 837:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 1116              		.loc 1 837 0
 1117 0014 09B1     		cbz	r1, .L97
 1118              	.LVL93:
 838:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 839:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 1119              		.loc 1 839 0
 1120 0016 01B9     		cbnz	r1, .L97
 840:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 1121              		.loc 1 840 0
 1122 0018 0124     		movs	r4, #1
 1123              	.LVL94:
 1124              	.L97:
 841:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 842:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 843:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 844:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1125              		.loc 1 844 0
 1126 001a FFF7FEFF 		bl	inHandlerMode
 1127              	.LVL95:
 1128 001e 90B1     		cbz	r0, .L98
 845:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreTakeFromISR(semaphore_id, &taskWoken) != pdTRUE) {
 1129              		.loc 1 845 0
 1130 0020 2846     		mov	r0, r5
 1131 0022 0021     		movs	r1, #0
 1132 0024 01AA     		add	r2, sp, #4
ARM GAS  /tmp/ccUoPQL6.s 			page 37


 1133 0026 FFF7FEFF 		bl	xQueueReceiveFromISR
 1134              	.LVL96:
 1135 002a 0128     		cmp	r0, #1
 1136 002c 17D1     		bne	.L101
 846:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 847:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 848:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	portEND_SWITCHING_ISR(taskWoken);
 1137              		.loc 1 848 0
 1138 002e 0198     		ldr	r0, [sp, #4]
 1139 0030 C0B1     		cbz	r0, .L96
 1140              		.loc 1 848 0 is_stmt 0 discriminator 1
 1141 0032 4FF08052 		mov	r2, #268435456
 1142 0036 0C4B     		ldr	r3, .L104
 1143 0038 1A60     		str	r2, [r3]
 1144              	@ 848 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1145 003a BFF34F8F 		dsb
 1146              	@ 0 "" 2
 1147              	@ 848 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1148 003e BFF36F8F 		isb
 1149              	@ 0 "" 2
 849:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 850:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreTake(semaphore_id, ticks) != pdTRUE) {
 851:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 852:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 853:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 854:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1150              		.loc 1 854 0 is_stmt 1 discriminator 1
 1151              		.thumb
 1152 0042 0020     		movs	r0, #0
 1153 0044 0EE0     		b	.L96
 1154              	.L98:
 850:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 1155              		.loc 1 850 0
 1156 0046 2846     		mov	r0, r5
 1157 0048 0021     		movs	r1, #0
 1158 004a 2246     		mov	r2, r4
 1159 004c 0B46     		mov	r3, r1
 1160 004e FFF7FEFF 		bl	xQueueGenericReceive
 1161              	.LVL97:
 1162 0052 0128     		cmp	r0, #1
 1163 0054 05D0     		beq	.L102
 851:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1164              		.loc 1 851 0
 1165 0056 FF20     		movs	r0, #255
 1166 0058 04E0     		b	.L96
 1167              	.LVL98:
 1168              	.L99:
 830:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1169              		.loc 1 830 0
 1170 005a 8020     		movs	r0, #128
 1171              	.LVL99:
 1172 005c 02E0     		b	.L96
 1173              	.LVL100:
 1174              	.L101:
 846:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 1175              		.loc 1 846 0
 1176 005e FF20     		movs	r0, #255
ARM GAS  /tmp/ccUoPQL6.s 			page 38


 1177 0060 00E0     		b	.L96
 1178              	.L102:
 1179              		.loc 1 854 0
 1180 0062 0020     		movs	r0, #0
 1181              	.LVL101:
 1182              	.L96:
 855:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1183              		.loc 1 855 0
 1184 0064 03B0     		add	sp, sp, #12
 1185              	.LCFI29:
 1186              		.cfi_def_cfa_offset 12
 1187              		@ sp needed
 1188 0066 30BD     		pop	{r4, r5, pc}
 1189              	.L105:
 1190              		.align	2
 1191              	.L104:
 1192 0068 04ED00E0 		.word	-536810236
 1193              		.cfi_endproc
 1194              	.LFE164:
 1196              		.section	.text.osSemaphoreRelease,"ax",%progbits
 1197              		.align	2
 1198              		.global	osSemaphoreRelease
 1199              		.thumb
 1200              		.thumb_func
 1202              	osSemaphoreRelease:
 1203              	.LFB165:
 856:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 857:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 858:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Release a Semaphore token
 859:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 860:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 861:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreRelease shall be consistent in every CMSIS-RTOS.
 862:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 863:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osSemaphoreRelease (osSemaphoreId semaphore_id)
 864:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1204              		.loc 1 864 0
 1205              		.cfi_startproc
 1206              		@ args = 0, pretend = 0, frame = 8
 1207              		@ frame_needed = 0, uses_anonymous_args = 0
 1208              	.LVL102:
 1209 0000 10B5     		push	{r4, lr}
 1210              	.LCFI30:
 1211              		.cfi_def_cfa_offset 8
 1212              		.cfi_offset 4, -8
 1213              		.cfi_offset 14, -4
 1214 0002 82B0     		sub	sp, sp, #8
 1215              	.LCFI31:
 1216              		.cfi_def_cfa_offset 16
 1217 0004 0446     		mov	r4, r0
 1218              	.LVL103:
 865:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 866:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1219              		.loc 1 866 0
 1220 0006 0023     		movs	r3, #0
 1221 0008 0193     		str	r3, [sp, #4]
 867:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 868:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
ARM GAS  /tmp/ccUoPQL6.s 			page 39


 869:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1222              		.loc 1 869 0
 1223 000a FFF7FEFF 		bl	inHandlerMode
 1224              	.LVL104:
 1225 000e 88B1     		cbz	r0, .L107
 870:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGiveFromISR(semaphore_id, &taskWoken) != pdTRUE) {
 1226              		.loc 1 870 0
 1227 0010 2046     		mov	r0, r4
 1228 0012 01A9     		add	r1, sp, #4
 1229 0014 FFF7FEFF 		bl	xQueueGiveFromISR
 1230              	.LVL105:
 1231 0018 0128     		cmp	r0, #1
 1232 001a 19D1     		bne	.L110
 871:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 872:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 873:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 1233              		.loc 1 873 0
 1234 001c 019B     		ldr	r3, [sp, #4]
 1235 001e 9BB1     		cbz	r3, .L111
 1236              		.loc 1 873 0 is_stmt 0 discriminator 1
 1237 0020 4FF08052 		mov	r2, #268435456
 1238 0024 0C4B     		ldr	r3, .L114
 1239 0026 1A60     		str	r2, [r3]
 1240              	@ 873 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1241 0028 BFF34F8F 		dsb
 1242              	@ 0 "" 2
 1243              	@ 873 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1244 002c BFF36F8F 		isb
 1245              	@ 0 "" 2
 865:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1246              		.loc 1 865 0 is_stmt 1 discriminator 1
 1247              		.thumb
 1248 0030 0020     		movs	r0, #0
 1249 0032 0EE0     		b	.L108
 1250              	.L107:
 874:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 875:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 876:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGive(semaphore_id) != pdTRUE) {
 1251              		.loc 1 876 0
 1252 0034 2046     		mov	r0, r4
 1253 0036 0021     		movs	r1, #0
 1254 0038 0A46     		mov	r2, r1
 1255 003a 0B46     		mov	r3, r1
 1256 003c FFF7FEFF 		bl	xQueueGenericSend
 1257              	.LVL106:
 1258 0040 0128     		cmp	r0, #1
 1259 0042 03D1     		bne	.L112
 865:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1260              		.loc 1 865 0
 1261 0044 0020     		movs	r0, #0
 1262 0046 04E0     		b	.L108
 1263              	.L111:
 1264 0048 0020     		movs	r0, #0
 1265 004a 02E0     		b	.L108
 1266              	.L112:
 877:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 1267              		.loc 1 877 0
ARM GAS  /tmp/ccUoPQL6.s 			page 40


 1268 004c FF20     		movs	r0, #255
 1269              	.LVL107:
 878:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 879:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 880:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 881:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 1270              		.loc 1 881 0
 1271 004e 00E0     		b	.L108
 1272              	.LVL108:
 1273              	.L110:
 871:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 1274              		.loc 1 871 0
 1275 0050 FF20     		movs	r0, #255
 1276              	.LVL109:
 1277              	.L108:
 882:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1278              		.loc 1 882 0
 1279 0052 02B0     		add	sp, sp, #8
 1280              	.LCFI32:
 1281              		.cfi_def_cfa_offset 8
 1282              		@ sp needed
 1283 0054 10BD     		pop	{r4, pc}
 1284              	.LVL110:
 1285              	.L115:
 1286 0056 00BF     		.align	2
 1287              	.L114:
 1288 0058 04ED00E0 		.word	-536810236
 1289              		.cfi_endproc
 1290              	.LFE165:
 1292              		.section	.text.osSemaphoreDelete,"ax",%progbits
 1293              		.align	2
 1294              		.global	osSemaphoreDelete
 1295              		.thumb
 1296              		.thumb_func
 1298              	osSemaphoreDelete:
 1299              	.LFB166:
 883:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 884:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 885:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Semaphore
 886:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 887:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 888:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreDelete shall be consistent in every CMSIS-RTOS.
 889:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 890:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osSemaphoreDelete (osSemaphoreId semaphore_id)
 891:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1300              		.loc 1 891 0
 1301              		.cfi_startproc
 1302              		@ args = 0, pretend = 0, frame = 0
 1303              		@ frame_needed = 0, uses_anonymous_args = 0
 1304              	.LVL111:
 1305 0000 10B5     		push	{r4, lr}
 1306              	.LCFI33:
 1307              		.cfi_def_cfa_offset 8
 1308              		.cfi_offset 4, -8
 1309              		.cfi_offset 14, -4
 1310 0002 0446     		mov	r4, r0
 892:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
ARM GAS  /tmp/ccUoPQL6.s 			page 41


 1311              		.loc 1 892 0
 1312 0004 FFF7FEFF 		bl	inHandlerMode
 1313              	.LVL112:
 1314 0008 20B9     		cbnz	r0, .L118
 893:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 894:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 895:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 896:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vSemaphoreDelete(semaphore_id);
 1315              		.loc 1 896 0
 1316 000a 2046     		mov	r0, r4
 1317 000c FFF7FEFF 		bl	vQueueDelete
 1318              	.LVL113:
 897:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 898:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK; 
 1319              		.loc 1 898 0
 1320 0010 0020     		movs	r0, #0
 1321 0012 10BD     		pop	{r4, pc}
 1322              	.LVL114:
 1323              	.L118:
 893:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 1324              		.loc 1 893 0
 1325 0014 8220     		movs	r0, #130
 899:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1326              		.loc 1 899 0
 1327 0016 10BD     		pop	{r4, pc}
 1328              		.cfi_endproc
 1329              	.LFE166:
 1331              		.section	.text.osPoolCreate,"ax",%progbits
 1332              		.align	2
 1333              		.global	osPoolCreate
 1334              		.thumb
 1335              		.thumb_func
 1337              	osPoolCreate:
 1338              	.LFB167:
 900:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 901:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    /* Use Semaphores */
 902:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 903:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*******************   Memory Pool Management Functions  ***********************/
 904:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 905:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Pool)  &&  (osFeature_Pool != 0)) 
 906:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 907:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //TODO
 908:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //This is a primitive and inefficient wrapper around the existing FreeRTOS memory management.
 909:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //A better implementation will have to modify heap_x.c!
 910:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 911:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 912:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** typedef struct os_pool_cb {
 913:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *pool;
 914:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint8_t *markers;
 915:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t pool_sz;
 916:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t item_sz;
 917:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t currentIndex;
 918:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** } os_pool_cb_t;
 919:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 920:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 921:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 922:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a memory pool
ARM GAS  /tmp/ccUoPQL6.s 			page 42


 923:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_def      memory pool definition referenced with \ref osPool.
 924:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  memory pool ID for reference by other functions or NULL in case of error.
 925:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolCreate shall be consistent in every CMSIS-RTOS.
 926:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 927:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osPoolId osPoolCreate (const osPoolDef_t *pool_def)
 928:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1339              		.loc 1 928 0
 1340              		.cfi_startproc
 1341              		@ args = 0, pretend = 0, frame = 0
 1342              		@ frame_needed = 0, uses_anonymous_args = 0
 1343              	.LVL115:
 1344 0000 70B5     		push	{r4, r5, r6, lr}
 1345              	.LCFI34:
 1346              		.cfi_def_cfa_offset 16
 1347              		.cfi_offset 4, -16
 1348              		.cfi_offset 5, -12
 1349              		.cfi_offset 6, -8
 1350              		.cfi_offset 14, -4
 1351 0002 0546     		mov	r5, r0
 929:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configSUPPORT_DYNAMIC_ALLOCATION == 1)
 930:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolId thePool;
 931:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   int itemSize = 4 * ((pool_def->item_sz + 3) / 4);
 1352              		.loc 1 931 0
 1353 0004 4668     		ldr	r6, [r0, #4]
 1354 0006 0336     		adds	r6, r6, #3
 1355 0008 26F00306 		bic	r6, r6, #3
 1356              	.LVL116:
 932:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
 933:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 934:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* First have to allocate memory for the pool control block. */
 935:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  thePool = pvPortMalloc(sizeof(os_pool_cb_t));
 1357              		.loc 1 935 0
 1358 000c 1420     		movs	r0, #20
 1359              	.LVL117:
 1360 000e FFF7FEFF 		bl	pvPortMalloc
 1361              	.LVL118:
 936:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 937:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 938:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (thePool) {
 1362              		.loc 1 938 0
 1363 0012 0446     		mov	r4, r0
 1364 0014 38B3     		cbz	r0, .L121
 939:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->pool_sz = pool_def->pool_sz;
 1365              		.loc 1 939 0
 1366 0016 2B68     		ldr	r3, [r5]
 1367 0018 8360     		str	r3, [r0, #8]
 940:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->item_sz = itemSize;
 1368              		.loc 1 940 0
 1369 001a C660     		str	r6, [r0, #12]
 941:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->currentIndex = 0;
 1370              		.loc 1 941 0
 1371 001c 0023     		movs	r3, #0
 1372 001e 0361     		str	r3, [r0, #16]
 942:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 943:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     /* Memory for markers */
 944:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->markers = pvPortMalloc(pool_def->pool_sz);
 1373              		.loc 1 944 0
ARM GAS  /tmp/ccUoPQL6.s 			page 43


 1374 0020 2868     		ldr	r0, [r5]
 1375              	.LVL119:
 1376 0022 FFF7FEFF 		bl	pvPortMalloc
 1377              	.LVL120:
 1378 0026 6060     		str	r0, [r4, #4]
 945:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****    
 946:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (thePool->markers) {
 1379              		.loc 1 946 0
 1380 0028 C8B1     		cbz	r0, .L122
 947:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* Now allocate the pool itself. */
 948:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      thePool->pool = pvPortMalloc(pool_def->pool_sz * itemSize);
 1381              		.loc 1 948 0
 1382 002a 2868     		ldr	r0, [r5]
 1383 002c 00FB06F0 		mul	r0, r0, r6
 1384 0030 FFF7FEFF 		bl	pvPortMalloc
 1385              	.LVL121:
 1386 0034 2060     		str	r0, [r4]
 949:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       
 950:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       if (thePool->pool) {
 1387              		.loc 1 950 0
 1388 0036 28B9     		cbnz	r0, .L126
 1389 0038 09E0     		b	.L127
 1390              	.LVL122:
 1391              	.L125:
 951:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 952:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****           thePool->markers[i] = 0;
 1392              		.loc 1 952 0 discriminator 3
 1393 003a 6268     		ldr	r2, [r4, #4]
 1394 003c 0021     		movs	r1, #0
 1395 003e D154     		strb	r1, [r2, r3]
 951:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 1396              		.loc 1 951 0 discriminator 3
 1397 0040 0133     		adds	r3, r3, #1
 1398              	.LVL123:
 1399 0042 00E0     		b	.L123
 1400              	.LVL124:
 1401              	.L126:
 1402 0044 0023     		movs	r3, #0
 1403              	.L123:
 1404              	.LVL125:
 951:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 1405              		.loc 1 951 0 is_stmt 0 discriminator 1
 1406 0046 2A68     		ldr	r2, [r5]
 1407 0048 9A42     		cmp	r2, r3
 1408 004a F6D8     		bhi	.L125
 1409 004c 0BE0     		b	.L121
 1410              	.LVL126:
 1411              	.L127:
 953:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         }
 954:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       }
 955:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       else {
 956:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         vPortFree(thePool->markers);
 1412              		.loc 1 956 0 is_stmt 1
 1413 004e 6068     		ldr	r0, [r4, #4]
 1414 0050 FFF7FEFF 		bl	vPortFree
 1415              	.LVL127:
 957:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         vPortFree(thePool);
ARM GAS  /tmp/ccUoPQL6.s 			page 44


 1416              		.loc 1 957 0
 1417 0054 2046     		mov	r0, r4
 1418 0056 FFF7FEFF 		bl	vPortFree
 1419              	.LVL128:
 958:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         thePool = NULL;
 1420              		.loc 1 958 0
 1421 005a 0024     		movs	r4, #0
 1422 005c 03E0     		b	.L121
 1423              	.LVL129:
 1424              	.L122:
 959:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       }
 960:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 961:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 962:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       vPortFree(thePool);
 1425              		.loc 1 962 0
 1426 005e 2046     		mov	r0, r4
 1427 0060 FFF7FEFF 		bl	vPortFree
 1428              	.LVL130:
 963:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       thePool = NULL;
 1429              		.loc 1 963 0
 1430 0064 0024     		movs	r4, #0
 1431              	.LVL131:
 1432              	.L121:
 964:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 965:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 966:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 967:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return thePool;
 968:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 969:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 970:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
 971:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 972:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1433              		.loc 1 972 0
 1434 0066 2046     		mov	r0, r4
 1435 0068 70BD     		pop	{r4, r5, r6, pc}
 1436              		.cfi_endproc
 1437              	.LFE167:
 1439 006a 00BF     		.section	.text.osPoolAlloc,"ax",%progbits
 1440              		.align	2
 1441              		.global	osPoolAlloc
 1442              		.thumb
 1443              		.thumb_func
 1445              	osPoolAlloc:
 1446              	.LFB168:
 973:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 974:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 975:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a memory pool
 976:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
 977:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  address of the allocated memory block or NULL in case of no memory available.
 978:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolAlloc shall be consistent in every CMSIS-RTOS.
 979:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 980:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osPoolAlloc (osPoolId pool_id)
 981:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1447              		.loc 1 981 0
 1448              		.cfi_startproc
 1449              		@ args = 0, pretend = 0, frame = 0
 1450              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccUoPQL6.s 			page 45


 1451              	.LVL132:
 1452 0000 70B5     		push	{r4, r5, r6, lr}
 1453              	.LCFI35:
 1454              		.cfi_def_cfa_offset 16
 1455              		.cfi_offset 4, -16
 1456              		.cfi_offset 5, -12
 1457              		.cfi_offset 6, -8
 1458              		.cfi_offset 14, -4
 1459 0002 0446     		mov	r4, r0
 1460              	.LVL133:
 982:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   int dummy = 0;
 983:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = NULL;
 984:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
 985:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t index;
 986:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 987:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1461              		.loc 1 987 0
 1462 0004 FFF7FEFF 		bl	inHandlerMode
 1463              	.LVL134:
 1464 0008 60B1     		cbz	r0, .L130
 1465              	.LVL135:
 988:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     dummy = portSET_INTERRUPT_MASK_FROM_ISR();
 1466              		.loc 1 988 0
 1467              	@ 255 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h" 1
 1468 000a EFF31185 			mrs r5, basepri											
 1469 000e 4FF05003 		mov r3, #80												
 1470 0012 72B6     		cpsid i													
 1471 0014 83F31188 		msr basepri, r3											
 1472 0018 BFF36F8F 		isb														
 1473 001c BFF34F8F 		dsb														
 1474 0020 62B6     		cpsie i													
 1475              	
 1476              	@ 0 "" 2
 1477              	.LVL136:
 1478              		.thumb
 1479 0022 02E0     		b	.L131
 1480              	.LVL137:
 1481              	.L130:
 989:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 990:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 991:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortEnterCritical();
 1482              		.loc 1 991 0
 1483 0024 FFF7FEFF 		bl	vPortEnterCritical
 1484              	.LVL138:
 982:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = NULL;
 1485              		.loc 1 982 0
 1486 0028 0025     		movs	r5, #0
 1487              	.LVL139:
 1488              	.L131:
 992:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 993:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 994:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   for (i = 0; i < pool_id->pool_sz; i++) {
 1489              		.loc 1 994 0
 1490 002a 0022     		movs	r2, #0
 1491 002c 11E0     		b	.L132
 1492              	.LVL140:
 1493              	.L136:
ARM GAS  /tmp/ccUoPQL6.s 			page 46


 995:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = pool_id->currentIndex + i;
 1494              		.loc 1 995 0
 1495 002e 2369     		ldr	r3, [r4, #16]
 1496 0030 1344     		add	r3, r3, r2
 1497              	.LVL141:
 996:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (index >= pool_id->pool_sz) {
 1498              		.loc 1 996 0
 1499 0032 9942     		cmp	r1, r3
 1500 0034 00D8     		bhi	.L133
 997:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       index = 0;
 1501              		.loc 1 997 0
 1502 0036 0023     		movs	r3, #0
 1503              	.LVL142:
 1504              	.L133:
 998:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 999:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
1000:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (pool_id->markers[index] == 0) {
 1505              		.loc 1 1000 0
 1506 0038 6168     		ldr	r1, [r4, #4]
 1507 003a C818     		adds	r0, r1, r3
 1508 003c C95C     		ldrb	r1, [r1, r3]	@ zero_extendqisi2
 1509 003e 39B9     		cbnz	r1, .L134
1001:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       pool_id->markers[index] = 1;
 1510              		.loc 1 1001 0
 1511 0040 0122     		movs	r2, #1
 1512              	.LVL143:
 1513 0042 0270     		strb	r2, [r0]
1002:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       p = (void *)((uint32_t)(pool_id->pool) + (index * pool_id->item_sz));
 1514              		.loc 1 1002 0
 1515 0044 2668     		ldr	r6, [r4]
 1516 0046 E268     		ldr	r2, [r4, #12]
 1517 0048 03FB0266 		mla	r6, r3, r2, r6
 1518              	.LVL144:
1003:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       pool_id->currentIndex = index;
 1519              		.loc 1 1003 0
 1520 004c 2361     		str	r3, [r4, #16]
1004:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       break;
 1521              		.loc 1 1004 0
 1522 004e 04E0     		b	.L135
 1523              	.LVL145:
 1524              	.L134:
 994:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = pool_id->currentIndex + i;
 1525              		.loc 1 994 0 discriminator 2
 1526 0050 0132     		adds	r2, r2, #1
 1527              	.LVL146:
 1528              	.L132:
 994:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = pool_id->currentIndex + i;
 1529              		.loc 1 994 0 is_stmt 0 discriminator 1
 1530 0052 A168     		ldr	r1, [r4, #8]
 1531 0054 9142     		cmp	r1, r2
 1532 0056 EAD8     		bhi	.L136
 983:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
 1533              		.loc 1 983 0 is_stmt 1
 1534 0058 0026     		movs	r6, #0
 1535              	.LVL147:
 1536              	.L135:
1005:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
ARM GAS  /tmp/ccUoPQL6.s 			page 47


1006:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1007:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1008:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1537              		.loc 1 1008 0
 1538 005a FFF7FEFF 		bl	inHandlerMode
 1539              	.LVL148:
 1540 005e 10B1     		cbz	r0, .L137
 1541              	.LVL149:
 1542              	.LBB10:
 1543              	.LBB11:
 1544              		.file 3 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h"
   1:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*
   2:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     FreeRTOS V9.0.0 - Copyright (C) 2016 Real Time Engineers Ltd.
   3:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     All rights reserved
   4:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
   5:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     VISIT http://www.FreeRTOS.org TO ENSURE YOU ARE USING THE LATEST VERSION.
   6:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
   7:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     This file is part of the FreeRTOS distribution.
   8:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
   9:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     FreeRTOS is free software; you can redistribute it and/or modify it under
  10:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     the terms of the GNU General Public License (version 2) as published by the
  11:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     Free Software Foundation >>>> AND MODIFIED BY <<<< the FreeRTOS exception.
  12:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  13:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     ***************************************************************************
  14:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     >>!   NOTE: The modification to the GPL is included to allow you to     !<<
  15:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     >>!   distribute a combined work that includes FreeRTOS without being   !<<
  16:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     >>!   obliged to provide the source code for proprietary components     !<<
  17:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     >>!   outside of the FreeRTOS kernel.                                   !<<
  18:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     ***************************************************************************
  19:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  20:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     FreeRTOS is distributed in the hope that it will be useful, but WITHOUT ANY
  21:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
  22:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     FOR A PARTICULAR PURPOSE.  Full license text is available on the following
  23:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     link: http://www.freertos.org/a00114.html
  24:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  25:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     ***************************************************************************
  26:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *                                                                       *
  27:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *    FreeRTOS provides completely free yet professionally developed,    *
  28:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *    robust, strictly quality controlled, supported, and cross          *
  29:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *    platform software that is more than just the market leader, it     *
  30:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *    is the industry's de facto standard.                               *
  31:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *                                                                       *
  32:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *    Help yourself get started quickly while simultaneously helping     *
  33:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *    to support the FreeRTOS project by purchasing a FreeRTOS           *
  34:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *    tutorial book, reference manual, or both:                          *
  35:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *    http://www.FreeRTOS.org/Documentation                              *
  36:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****      *                                                                       *
  37:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     ***************************************************************************
  38:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  39:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     http://www.FreeRTOS.org/FAQHelp.html - Having a problem?  Start by reading
  40:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     the FAQ page "My application does not run, what could be wrong?".  Have you
  41:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     defined configASSERT()?
  42:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  43:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     http://www.FreeRTOS.org/support - In return for receiving this top quality
  44:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     embedded software for free we request you assist our global community by
  45:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     participating in the support forum.
  46:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
ARM GAS  /tmp/ccUoPQL6.s 			page 48


  47:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     http://www.FreeRTOS.org/training - Investing in training allows your team to
  48:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     be as productive as possible as early as possible.  Now you can receive
  49:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     FreeRTOS training directly from Richard Barry, CEO of Real Time Engineers
  50:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     Ltd, and the world's leading authority on the world's leading RTOS.
  51:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  52:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     http://www.FreeRTOS.org/plus - A selection of FreeRTOS ecosystem products,
  53:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     including FreeRTOS+Trace - an indispensable productivity tool, a DOS
  54:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     compatible FAT file system, and our tiny thread aware UDP/IP stack.
  55:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  56:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     http://www.FreeRTOS.org/labs - Where new FreeRTOS products go to incubate.
  57:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     Come and try FreeRTOS+TCP, our new open source TCP/IP stack for FreeRTOS.
  58:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  59:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     http://www.OpenRTOS.com - Real Time Engineers ltd. license FreeRTOS to High
  60:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     Integrity Systems ltd. to sell under the OpenRTOS brand.  Low cost OpenRTOS
  61:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     licenses offer ticketed support, indemnification and commercial middleware.
  62:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  63:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     http://www.SafeRTOS.com - High Integrity Systems also provide a safety
  64:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     engineered and independently SIL3 certified version for use in safety and
  65:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     mission critical applications that require provable dependability.
  66:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  67:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****     1 tab == 4 spaces!
  68:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** */
  69:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  70:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  71:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #ifndef PORTMACRO_H
  72:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define PORTMACRO_H
  73:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  74:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #ifdef __cplusplus
  75:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** extern "C" {
  76:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #endif
  77:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  78:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------
  79:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****  * Port specific definitions.
  80:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****  *
  81:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****  * The settings in this file configure FreeRTOS correctly for the
  82:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****  * given hardware and compiler.
  83:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****  *
  84:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****  * These settings should not be altered.
  85:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****  *-----------------------------------------------------------
  86:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h ****  */
  87:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  88:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /* Type definitions. */
  89:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portCHAR		char
  90:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portFLOAT		float
  91:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portDOUBLE		double
  92:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portLONG		long
  93:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portSHORT		short
  94:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portSTACK_TYPE	uint32_t
  95:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portBASE_TYPE	long
  96:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
  97:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** typedef portSTACK_TYPE StackType_t;
  98:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** typedef long BaseType_t;
  99:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** typedef unsigned long UBaseType_t;
 100:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 101:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #if( configUSE_16_BIT_TICKS == 1 )
 102:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	typedef uint16_t TickType_t;
 103:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffff
ARM GAS  /tmp/ccUoPQL6.s 			page 49


 104:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #else
 105:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	typedef uint32_t TickType_t;
 106:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffffffffUL
 107:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 108:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	/* 32-bit tick type on a 32-bit architecture, so reads of the tick count do
 109:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	not need to be guarded with a critical section. */
 110:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#define portTICK_TYPE_IS_ATOMIC 1
 111:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #endif
 112:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------*/
 113:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 114:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /* Architecture specifics. */
 115:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portSTACK_GROWTH			( -1 )
 116:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portTICK_PERIOD_MS			( ( TickType_t ) 1000 / configTICK_RATE_HZ )
 117:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portBYTE_ALIGNMENT			8
 118:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------*/
 119:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 120:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /* Scheduler utilities. */
 121:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portYIELD() 															\
 122:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** {																				\
 123:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	/* Set a PendSV to request a context switch. */								\
 124:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	portNVIC_INT_CTRL_REG = portNVIC_PENDSVSET_BIT;								\
 125:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 																				\
 126:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	/* Barriers are normally not required but do ensure the code is completely	\
 127:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	within the specified behaviour for the architecture. */						\
 128:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	__asm volatile( "dsb" );													\
 129:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	__asm volatile( "isb" );													\
 130:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** }
 131:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 132:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portNVIC_INT_CTRL_REG		( * ( ( volatile uint32_t * ) 0xe000ed04 ) )
 133:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portNVIC_PENDSVSET_BIT		( 1UL << 28UL )
 134:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portEND_SWITCHING_ISR( xSwitchRequired ) if( xSwitchRequired != pdFALSE ) portYIELD()
 135:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portYIELD_FROM_ISR( x ) portEND_SWITCHING_ISR( x )
 136:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------*/
 137:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 138:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /* Critical section management. */
 139:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** extern void vPortEnterCritical( void );
 140:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** extern void vPortExitCritical( void );
 141:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portSET_INTERRUPT_MASK_FROM_ISR()		ulPortRaiseBASEPRI()
 142:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portCLEAR_INTERRUPT_MASK_FROM_ISR(x)	vPortSetBASEPRI(x)
 143:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portDISABLE_INTERRUPTS()				vPortRaiseBASEPRI()
 144:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portENABLE_INTERRUPTS()					vPortSetBASEPRI(0)
 145:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portENTER_CRITICAL()					vPortEnterCritical()
 146:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portEXIT_CRITICAL()						vPortExitCritical()
 147:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 148:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------*/
 149:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 150:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /* Task function macros as described on the FreeRTOS.org WEB site.  These are
 151:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** not necessary for to use this port.  They are defined so the common demo files
 152:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** (which build with all the ports) will build. */
 153:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portTASK_FUNCTION_PROTO( vFunction, pvParameters ) void vFunction( void *pvParameters )
 154:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portTASK_FUNCTION( vFunction, pvParameters ) void vFunction( void *pvParameters )
 155:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------*/
 156:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 157:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /* Tickless idle/low power functionality. */
 158:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #ifndef portSUPPRESS_TICKS_AND_SLEEP
 159:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	extern void vPortSuppressTicksAndSleep( TickType_t xExpectedIdleTime );
 160:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#define portSUPPRESS_TICKS_AND_SLEEP( xExpectedIdleTime ) vPortSuppressTicksAndSleep( xExpectedIdl
ARM GAS  /tmp/ccUoPQL6.s 			page 50


 161:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #endif
 162:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------*/
 163:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 164:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /* Architecture specific optimisations. */
 165:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #ifndef configUSE_PORT_OPTIMISED_TASK_SELECTION
 166:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#define configUSE_PORT_OPTIMISED_TASK_SELECTION 1
 167:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #endif
 168:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 169:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #if configUSE_PORT_OPTIMISED_TASK_SELECTION == 1
 170:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 171:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	/* Generic helper function. */
 172:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	__attribute__( ( always_inline ) ) static inline uint8_t ucPortCountLeadingZeros( uint32_t ulBitma
 173:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	{
 174:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	uint8_t ucReturn;
 175:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 176:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		__asm volatile ( "clz %0, %1" : "=r" ( ucReturn ) : "r" ( ulBitmap ) );
 177:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		return ucReturn;
 178:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	}
 179:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 180:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	/* Check the configuration. */
 181:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#if( configMAX_PRIORITIES > 32 )
 182:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		#error configUSE_PORT_OPTIMISED_TASK_SELECTION can only be set to 1 when configMAX_PRIORITIES is 
 183:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#endif
 184:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 185:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	/* Store/clear the ready priorities in a bit map. */
 186:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#define portRECORD_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) |= ( 1UL 
 187:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#define portRESET_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) &= ~( 1UL 
 188:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 189:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	/*-----------------------------------------------------------*/
 190:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 191:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#define portGET_HIGHEST_PRIORITY( uxTopPriority, uxReadyPriorities ) uxTopPriority = ( 31UL - ( ui
 192:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 193:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #endif /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 194:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------*/
 196:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 197:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #ifdef configASSERT
 198:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	void vPortValidateInterruptPriority( void );
 199:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#define portASSERT_IF_INTERRUPT_PRIORITY_INVALID() 	vPortValidateInterruptPriority()
 200:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #endif
 201:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 202:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /* portNOP() is not required by this port. */
 203:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portNOP()
 204:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 205:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #define portINLINE	__inline
 206:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 207:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #ifndef portFORCE_INLINE
 208:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	#define portFORCE_INLINE inline __attribute__(( always_inline))
 209:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** #endif
 210:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 211:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** portFORCE_INLINE static BaseType_t xPortIsInsideInterrupt( void )
 212:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** {
 213:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** uint32_t ulCurrentInterrupt;
 214:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** BaseType_t xReturn;
 215:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 216:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	/* Obtain the number of the currently executing interrupt. */
 217:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	__asm volatile( "mrs %0, ipsr" : "=r"( ulCurrentInterrupt ) );
ARM GAS  /tmp/ccUoPQL6.s 			page 51


 218:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 219:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	if( ulCurrentInterrupt == 0 )
 220:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	{
 221:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		xReturn = pdFALSE;
 222:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	}
 223:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	else
 224:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	{
 225:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		xReturn = pdTRUE;
 226:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	}
 227:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 228:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	return xReturn;
 229:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** }
 230:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 231:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------*/
 232:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 233:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** portFORCE_INLINE static void vPortRaiseBASEPRI( void )
 234:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** {
 235:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** uint32_t ulNewBASEPRI;
 236:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 237:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	__asm volatile
 238:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	(
 239:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	mov %0, %1												\n"	\
 240:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	cpsid i													\n" \
 241:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	msr basepri, %0											\n" \
 242:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	isb														\n" \
 243:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	dsb														\n" \
 244:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	cpsie i													\n" \
 245:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		:"=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY )
 246:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	);
 247:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** }
 248:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 249:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------*/
 250:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 251:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** portFORCE_INLINE static uint32_t ulPortRaiseBASEPRI( void )
 252:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** {
 253:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** uint32_t ulOriginalBASEPRI, ulNewBASEPRI;
 254:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 255:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	__asm volatile
 256:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	(
 257:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	mrs %0, basepri											\n" \
 258:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	mov %1, %2												\n"	\
 259:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	cpsid i													\n" \
 260:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	msr basepri, %1											\n" \
 261:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	isb														\n" \
 262:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	dsb														\n" \
 263:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		"	cpsie i													\n" \
 264:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 		:"=r" (ulOriginalBASEPRI), "=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY )
 265:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	);
 266:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 267:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	/* This return will not be reached but is necessary to prevent compiler
 268:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	warnings. */
 269:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	return ulOriginalBASEPRI;
 270:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** }
 271:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** /*-----------------------------------------------------------*/
 272:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 
 273:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** portFORCE_INLINE static void vPortSetBASEPRI( uint32_t ulNewMaskValue )
 274:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** {
ARM GAS  /tmp/ccUoPQL6.s 			page 52


 275:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h **** 	__asm volatile
 1545              		.loc 3 275 0
 1546              	@ 275 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM7/r0p1/portmacro.h" 1
 1547 0060 85F31188 			msr basepri, r5	
 1548              	@ 0 "" 2
 1549              		.thumb
 1550 0064 01E0     		b	.L138
 1551              	.LVL150:
 1552              	.L137:
 1553              	.LBE11:
 1554              	.LBE10:
1009:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portCLEAR_INTERRUPT_MASK_FROM_ISR(dummy);
1010:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1011:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1012:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortExitCritical();
 1555              		.loc 1 1012 0
 1556 0066 FFF7FEFF 		bl	vPortExitCritical
 1557              	.LVL151:
 1558              	.L138:
1013:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1014:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1015:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
1016:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1559              		.loc 1 1016 0
 1560 006a 3046     		mov	r0, r6
 1561 006c 70BD     		pop	{r4, r5, r6, pc}
 1562              		.cfi_endproc
 1563              	.LFE168:
 1565 006e 00BF     		.section	.text.osPoolCAlloc,"ax",%progbits
 1566              		.align	2
 1567              		.global	osPoolCAlloc
 1568              		.thumb
 1569              		.thumb_func
 1571              	osPoolCAlloc:
 1572              	.LFB169:
1017:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1018:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1019:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a memory pool and set memory block to zero
1020:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
1021:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  address of the allocated memory block or NULL in case of no memory available.
1022:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolCAlloc shall be consistent in every CMSIS-RTOS.
1023:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1024:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osPoolCAlloc (osPoolId pool_id)
1025:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1573              		.loc 1 1025 0
 1574              		.cfi_startproc
 1575              		@ args = 0, pretend = 0, frame = 0
 1576              		@ frame_needed = 0, uses_anonymous_args = 0
 1577              	.LVL152:
 1578 0000 08B5     		push	{r3, lr}
 1579              	.LCFI36:
 1580              		.cfi_def_cfa_offset 8
 1581              		.cfi_offset 3, -8
 1582              		.cfi_offset 14, -4
1026:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = osPoolAlloc(pool_id);
 1583              		.loc 1 1026 0
 1584 0002 FFF7FEFF 		bl	osPoolAlloc
ARM GAS  /tmp/ccUoPQL6.s 			page 53


 1585              	.LVL153:
1027:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1028:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (p != NULL)
 1586              		.loc 1 1028 0
 1587 0006 0246     		mov	r2, r0
 1588 0008 40B1     		cbz	r0, .L142
1029:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1030:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     memset(p, 0, sizeof(pool_id->pool_sz));
 1589              		.loc 1 1030 0
 1590 000a 0346     		mov	r3, r0
 1591 000c 0021     		movs	r1, #0
 1592 000e 03F8011B 		strb	r1, [r3], #1
 1593 0012 4170     		strb	r1, [r0, #1]
 1594 0014 0133     		adds	r3, r3, #1
 1595 0016 03F8011B 		strb	r1, [r3], #1
 1596 001a 1970     		strb	r1, [r3]
 1597              	.L142:
1031:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1032:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1033:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
1034:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1598              		.loc 1 1034 0
 1599 001c 1046     		mov	r0, r2
 1600              	.LVL154:
 1601 001e 08BD     		pop	{r3, pc}
 1602              		.cfi_endproc
 1603              	.LFE169:
 1605              		.section	.text.osPoolFree,"ax",%progbits
 1606              		.align	2
 1607              		.global	osPoolFree
 1608              		.thumb
 1609              		.thumb_func
 1611              	osPoolFree:
 1612              	.LFB170:
1035:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1036:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1037:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Return an allocated memory block back to a specific memory pool
1038:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
1039:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  block         address of the allocated memory block that is returned to the memory pool.
1040:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1041:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolFree shall be consistent in every CMSIS-RTOS.
1042:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1043:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osPoolFree (osPoolId pool_id, void *block)
1044:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1613              		.loc 1 1044 0
 1614              		.cfi_startproc
 1615              		@ args = 0, pretend = 0, frame = 0
 1616              		@ frame_needed = 0, uses_anonymous_args = 0
 1617              		@ link register save eliminated.
 1618              	.LVL155:
1045:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t index;
1046:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1047:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (pool_id == NULL) {
 1619              		.loc 1 1047 0
 1620 0000 0346     		mov	r3, r0
 1621 0002 98B1     		cbz	r0, .L146
1048:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
ARM GAS  /tmp/ccUoPQL6.s 			page 54


1049:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1050:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1051:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (block == NULL) {
 1622              		.loc 1 1051 0
 1623 0004 A1B1     		cbz	r1, .L147
1052:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1053:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1054:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1055:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (block < pool_id->pool) {
 1624              		.loc 1 1055 0
 1625 0006 0268     		ldr	r2, [r0]
 1626 0008 8A42     		cmp	r2, r1
 1627 000a 13D8     		bhi	.L148
1056:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1057:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1058:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1059:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   index = (uint32_t)block - (uint32_t)(pool_id->pool);
 1628              		.loc 1 1059 0
 1629 000c 891A     		subs	r1, r1, r2
 1630              	.LVL156:
1060:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (index % pool_id->item_sz) {
 1631              		.loc 1 1060 0
 1632 000e C068     		ldr	r0, [r0, #12]
 1633              	.LVL157:
 1634 0010 B1FBF0F2 		udiv	r2, r1, r0
 1635 0014 00FB1212 		mls	r2, r0, r2, r1
 1636 0018 72B9     		cbnz	r2, .L149
1061:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1062:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1063:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   index = index / pool_id->item_sz;
 1637              		.loc 1 1063 0
 1638 001a B1FBF0F1 		udiv	r1, r1, r0
 1639              	.LVL158:
1064:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (index >= pool_id->pool_sz) {
 1640              		.loc 1 1064 0
 1641 001e 9A68     		ldr	r2, [r3, #8]
 1642 0020 8A42     		cmp	r2, r1
 1643 0022 0BD9     		bls	.L150
1065:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1066:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1067:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1068:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   pool_id->markers[index] = 0;
 1644              		.loc 1 1068 0
 1645 0024 5B68     		ldr	r3, [r3, #4]
 1646              	.LVL159:
 1647 0026 0020     		movs	r0, #0
 1648 0028 5854     		strb	r0, [r3, r1]
1069:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1070:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1649              		.loc 1 1070 0
 1650 002a 7047     		bx	lr
 1651              	.LVL160:
 1652              	.L146:
1048:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1653              		.loc 1 1048 0
 1654 002c 8020     		movs	r0, #128
 1655              	.LVL161:
ARM GAS  /tmp/ccUoPQL6.s 			page 55


 1656 002e 7047     		bx	lr
 1657              	.LVL162:
 1658              	.L147:
1052:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1659              		.loc 1 1052 0
 1660 0030 8020     		movs	r0, #128
 1661              	.LVL163:
 1662 0032 7047     		bx	lr
 1663              	.LVL164:
 1664              	.L148:
1056:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1665              		.loc 1 1056 0
 1666 0034 8020     		movs	r0, #128
 1667              	.LVL165:
 1668 0036 7047     		bx	lr
 1669              	.LVL166:
 1670              	.L149:
1061:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1671              		.loc 1 1061 0
 1672 0038 8020     		movs	r0, #128
 1673 003a 7047     		bx	lr
 1674              	.L150:
1065:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1675              		.loc 1 1065 0
 1676 003c 8020     		movs	r0, #128
1071:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1677              		.loc 1 1071 0
 1678 003e 7047     		bx	lr
 1679              		.cfi_endproc
 1680              	.LFE170:
 1682              		.section	.text.osMessageCreate,"ax",%progbits
 1683              		.align	2
 1684              		.global	osMessageCreate
 1685              		.thumb
 1686              		.thumb_func
 1688              	osMessageCreate:
 1689              	.LFB171:
1072:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1073:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1074:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif   /* Use Memory Pool Management */
1075:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1076:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*******************   Message Queue Management Functions  *********************/
1077:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1078:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_MessageQ)  &&  (osFeature_MessageQ != 0)) /* Use Message Queues */
1079:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1080:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1081:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a Message Queue
1082:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param queue_def     queue definition referenced with \ref osMessageQ.
1083:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id     thread ID (obtained by \ref osThreadCreate or \ref osThreadGetId) or NULL.
1084:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  message queue ID for reference by other functions or NULL in case of error.
1085:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessageCreate shall be consistent in every CMSIS-RTOS.
1086:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1087:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMessageQId osMessageCreate (const osMessageQDef_t *queue_def, osThreadId thread_id)
1088:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1690              		.loc 1 1088 0
 1691              		.cfi_startproc
 1692              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccUoPQL6.s 			page 56


 1693              		@ frame_needed = 0, uses_anonymous_args = 0
 1694              	.LVL167:
 1695 0000 08B5     		push	{r3, lr}
 1696              	.LCFI37:
 1697              		.cfi_def_cfa_offset 8
 1698              		.cfi_offset 3, -8
 1699              		.cfi_offset 14, -4
 1700 0002 0346     		mov	r3, r0
1089:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1090:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1091:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
1092:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1093:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((queue_def->buffer != NULL) && (queue_def->controlblock != NULL)) {
1094:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xQueueCreateStatic(queue_def->queue_sz, queue_def->item_sz, queue_def->buffer, queue_def
1095:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1096:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1097:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xQueueCreate(queue_def->queue_sz, queue_def->item_sz);
1098:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1099:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
1100:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xQueueCreateStatic(queue_def->queue_sz, queue_def->item_sz, queue_def->buffer, queue_def->
1101:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  
1102:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xQueueCreate(queue_def->queue_sz, queue_def->item_sz);
 1701              		.loc 1 1102 0
 1702 0004 0068     		ldr	r0, [r0]
 1703              	.LVL168:
 1704 0006 5968     		ldr	r1, [r3, #4]
 1705              	.LVL169:
 1706 0008 0022     		movs	r2, #0
 1707 000a FFF7FEFF 		bl	xQueueGenericCreate
 1708              	.LVL170:
1103:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1104:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1709              		.loc 1 1104 0
 1710 000e 08BD     		pop	{r3, pc}
 1711              		.cfi_endproc
 1712              	.LFE171:
 1714              		.section	.text.osMessagePut,"ax",%progbits
 1715              		.align	2
 1716              		.global	osMessagePut
 1717              		.thumb
 1718              		.thumb_func
 1720              	osMessagePut:
 1721              	.LFB172:
1105:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1106:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1107:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Put a Message to a Queue.
1108:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1109:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  info      message information.
1110:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1111:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1112:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessagePut shall be consistent in every CMSIS-RTOS.
1113:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1114:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMessagePut (osMessageQId queue_id, uint32_t info, uint32_t millisec)
1115:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1722              		.loc 1 1115 0
 1723              		.cfi_startproc
 1724              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/ccUoPQL6.s 			page 57


 1725              		@ frame_needed = 0, uses_anonymous_args = 0
 1726              	.LVL171:
 1727 0000 30B5     		push	{r4, r5, lr}
 1728              	.LCFI38:
 1729              		.cfi_def_cfa_offset 12
 1730              		.cfi_offset 4, -12
 1731              		.cfi_offset 5, -8
 1732              		.cfi_offset 14, -4
 1733 0002 85B0     		sub	sp, sp, #20
 1734              	.LCFI39:
 1735              		.cfi_def_cfa_offset 32
 1736 0004 0546     		mov	r5, r0
 1737 0006 0191     		str	r1, [sp, #4]
1116:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1738              		.loc 1 1116 0
 1739 0008 0023     		movs	r3, #0
 1740 000a 0393     		str	r3, [sp, #12]
 1741              	.LVL172:
1117:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1118:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1119:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = millisec / portTICK_PERIOD_MS;
1120:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (ticks == 0) {
 1742              		.loc 1 1120 0
 1743 000c 1446     		mov	r4, r2
 1744 000e 02B9     		cbnz	r2, .L154
1121:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = 1;
 1745              		.loc 1 1121 0
 1746 0010 0124     		movs	r4, #1
 1747              	.L154:
 1748              	.LVL173:
1122:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1123:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1124:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1749              		.loc 1 1124 0
 1750 0012 FFF7FEFF 		bl	inHandlerMode
 1751              	.LVL174:
 1752 0016 98B1     		cbz	r0, .L155
1125:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSendFromISR(queue_id, &info, &taskWoken) != pdTRUE) {
 1753              		.loc 1 1125 0
 1754 0018 2846     		mov	r0, r5
 1755 001a 01A9     		add	r1, sp, #4
 1756              	.LVL175:
 1757 001c 03AA     		add	r2, sp, #12
 1758 001e 0023     		movs	r3, #0
 1759 0020 FFF7FEFF 		bl	xQueueGenericSendFromISR
 1760              	.LVL176:
 1761 0024 0128     		cmp	r0, #1
 1762 0026 15D1     		bne	.L158
1126:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
1127:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1128:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 1763              		.loc 1 1128 0
 1764 0028 039B     		ldr	r3, [sp, #12]
 1765 002a ABB1     		cbz	r3, .L159
 1766              		.loc 1 1128 0 is_stmt 0 discriminator 1
 1767 002c 4FF08052 		mov	r2, #268435456
 1768 0030 0C4B     		ldr	r3, .L162
ARM GAS  /tmp/ccUoPQL6.s 			page 58


 1769 0032 1A60     		str	r2, [r3]
 1770              	@ 1128 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1771 0034 BFF34F8F 		dsb
 1772              	@ 0 "" 2
 1773              	@ 1128 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1774 0038 BFF36F8F 		isb
 1775              	@ 0 "" 2
1129:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1130:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1131:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSend(queue_id, &info, ticks) != pdTRUE) {
1132:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
1133:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1134:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1135:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1136:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1776              		.loc 1 1136 0 is_stmt 1 discriminator 1
 1777              		.thumb
 1778 003c 0020     		movs	r0, #0
 1779 003e 0EE0     		b	.L156
 1780              	.L155:
1131:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1781              		.loc 1 1131 0
 1782 0040 2846     		mov	r0, r5
 1783 0042 01A9     		add	r1, sp, #4
 1784              	.LVL177:
 1785 0044 2246     		mov	r2, r4
 1786 0046 0023     		movs	r3, #0
 1787 0048 FFF7FEFF 		bl	xQueueGenericSend
 1788              	.LVL178:
 1789 004c 0128     		cmp	r0, #1
 1790 004e 05D0     		beq	.L160
1132:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 1791              		.loc 1 1132 0
 1792 0050 FF20     		movs	r0, #255
 1793 0052 04E0     		b	.L156
 1794              	.L158:
1126:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 1795              		.loc 1 1126 0
 1796 0054 FF20     		movs	r0, #255
 1797 0056 02E0     		b	.L156
 1798              	.L159:
 1799              		.loc 1 1136 0
 1800 0058 0020     		movs	r0, #0
 1801 005a 00E0     		b	.L156
 1802              	.L160:
 1803 005c 0020     		movs	r0, #0
 1804              	.L156:
1137:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1805              		.loc 1 1137 0
 1806 005e 05B0     		add	sp, sp, #20
 1807              	.LCFI40:
 1808              		.cfi_def_cfa_offset 12
 1809              		@ sp needed
 1810 0060 30BD     		pop	{r4, r5, pc}
 1811              	.LVL179:
 1812              	.L163:
 1813 0062 00BF     		.align	2
ARM GAS  /tmp/ccUoPQL6.s 			page 59


 1814              	.L162:
 1815 0064 04ED00E0 		.word	-536810236
 1816              		.cfi_endproc
 1817              	.LFE172:
 1819              		.section	.text.osMessageGet,"ax",%progbits
 1820              		.align	2
 1821              		.global	osMessageGet
 1822              		.thumb
 1823              		.thumb_func
 1825              	osMessageGet:
 1826              	.LFB173:
1138:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1139:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1140:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Get a Message or Wait for a Message from a Queue.
1141:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1142:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1143:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event information that includes status code.
1144:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessageGet shall be consistent in every CMSIS-RTOS.
1145:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1146:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMessageGet (osMessageQId queue_id, uint32_t millisec)
1147:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1827              		.loc 1 1147 0
 1828              		.cfi_startproc
 1829              		@ args = 0, pretend = 0, frame = 16
 1830              		@ frame_needed = 0, uses_anonymous_args = 0
 1831              	.LVL180:
 1832 0000 70B5     		push	{r4, r5, r6, lr}
 1833              	.LCFI41:
 1834              		.cfi_def_cfa_offset 16
 1835              		.cfi_offset 4, -16
 1836              		.cfi_offset 5, -12
 1837              		.cfi_offset 6, -8
 1838              		.cfi_offset 14, -4
 1839 0002 84B0     		sub	sp, sp, #16
 1840              	.LCFI42:
 1841              		.cfi_def_cfa_offset 32
 1842 0004 0446     		mov	r4, r0
 1843 0006 0D46     		mov	r5, r1
1148:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1149:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1150:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1151:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1152:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.message_id = queue_id;
 1844              		.loc 1 1152 0
 1845 0008 0291     		str	r1, [sp, #8]
1153:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.value.v = 0;
 1846              		.loc 1 1153 0
 1847 000a 0023     		movs	r3, #0
 1848 000c 0193     		str	r3, [sp, #4]
1154:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1155:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 1849              		.loc 1 1155 0
 1850 000e 41B9     		cbnz	r1, .L165
1156:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
 1851              		.loc 1 1156 0
 1852 0010 04AB     		add	r3, sp, #16
 1853 0012 8022     		movs	r2, #128
ARM GAS  /tmp/ccUoPQL6.s 			page 60


 1854              	.LVL181:
 1855 0014 43F8102D 		str	r2, [r3, #-16]!
1157:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 1856              		.loc 1 1157 0
 1857 0018 93E80700 		ldmia	r3, {r0, r1, r2}
 1858              	.LVL182:
 1859 001c 84E80700 		stmia	r4, {r0, r1, r2}
 1860 0020 36E0     		b	.L164
 1861              	.LVL183:
 1862              	.L165:
 1863 0022 1646     		mov	r6, r2
1158:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1159:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1160:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 1864              		.loc 1 1160 0
 1865 0024 0023     		movs	r3, #0
 1866 0026 0393     		str	r3, [sp, #12]
 1867              	.LVL184:
1161:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1162:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
1163:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 1868              		.loc 1 1163 0
 1869 0028 B2F1FF3F 		cmp	r2, #-1
 1870 002c 02D0     		beq	.L167
1164:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
1165:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1166:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 1871              		.loc 1 1166 0
 1872 002e 0AB1     		cbz	r2, .L167
 1873              	.LVL185:
1167:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
1168:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 1874              		.loc 1 1168 0
 1875 0030 02B9     		cbnz	r2, .L167
1169:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 1876              		.loc 1 1169 0
 1877 0032 0126     		movs	r6, #1
 1878              	.LVL186:
 1879              	.L167:
1170:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1171:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1172:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1173:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1880              		.loc 1 1173 0
 1881 0034 FFF7FEFF 		bl	inHandlerMode
 1882              	.LVL187:
 1883 0038 B0B1     		cbz	r0, .L168
1174:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceiveFromISR(queue_id, &event.value.v, &taskWoken) == pdTRUE) {
 1884              		.loc 1 1174 0
 1885 003a 2846     		mov	r0, r5
 1886 003c 01A9     		add	r1, sp, #4
 1887 003e 03AA     		add	r2, sp, #12
 1888 0040 FFF7FEFF 		bl	xQueueReceiveFromISR
 1889              	.LVL188:
 1890 0044 0128     		cmp	r0, #1
 1891 0046 02D1     		bne	.L169
1175:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
ARM GAS  /tmp/ccUoPQL6.s 			page 61


1176:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMessage;
 1892              		.loc 1 1176 0
 1893 0048 1023     		movs	r3, #16
 1894 004a 0093     		str	r3, [sp]
 1895 004c 01E0     		b	.L170
 1896              	.L169:
1177:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1178:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1179:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osOK;
 1897              		.loc 1 1179 0
 1898 004e 0023     		movs	r3, #0
 1899 0050 0093     		str	r3, [sp]
 1900              	.L170:
1180:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1181:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 1901              		.loc 1 1181 0
 1902 0052 039B     		ldr	r3, [sp, #12]
 1903 0054 C3B1     		cbz	r3, .L171
 1904              		.loc 1 1181 0 is_stmt 0 discriminator 1
 1905 0056 4FF08052 		mov	r2, #268435456
 1906 005a 0F4B     		ldr	r3, .L177
 1907 005c 1A60     		str	r2, [r3]
 1908              	@ 1181 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1909 005e BFF34F8F 		dsb
 1910              	@ 0 "" 2
 1911              	@ 1181 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1912 0062 BFF36F8F 		isb
 1913              	@ 0 "" 2
 1914              		.thumb
 1915 0066 0FE0     		b	.L171
 1916              	.L168:
1182:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1183:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1184:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceive(queue_id, &event.value.v, ticks) == pdTRUE) {
 1917              		.loc 1 1184 0 is_stmt 1
 1918 0068 2846     		mov	r0, r5
 1919 006a 01A9     		add	r1, sp, #4
 1920 006c 3246     		mov	r2, r6
 1921 006e 0023     		movs	r3, #0
 1922 0070 FFF7FEFF 		bl	xQueueGenericReceive
 1923              	.LVL189:
 1924 0074 0128     		cmp	r0, #1
 1925 0076 02D1     		bne	.L172
1185:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1186:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMessage;
 1926              		.loc 1 1186 0
 1927 0078 1023     		movs	r3, #16
 1928 007a 0093     		str	r3, [sp]
 1929 007c 04E0     		b	.L171
 1930              	.L172:
1187:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1188:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1189:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = (ticks == 0) ? osOK : osEventTimeout;
 1931              		.loc 1 1189 0
 1932 007e 0EB9     		cbnz	r6, .L175
 1933 0080 0023     		movs	r3, #0
 1934 0082 00E0     		b	.L173
ARM GAS  /tmp/ccUoPQL6.s 			page 62


 1935              	.L175:
 1936 0084 4023     		movs	r3, #64
 1937              	.L173:
 1938              		.loc 1 1189 0 is_stmt 0 discriminator 4
 1939 0086 0093     		str	r3, [sp]
 1940              	.L171:
1190:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1191:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1192:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1193:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 1941              		.loc 1 1193 0 is_stmt 1
 1942 0088 9DE80700 		ldmia	sp, {r0, r1, r2}
 1943 008c 84E80700 		stmia	r4, {r0, r1, r2}
 1944              	.LVL190:
 1945              	.L164:
1194:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1946              		.loc 1 1194 0
 1947 0090 2046     		mov	r0, r4
 1948 0092 04B0     		add	sp, sp, #16
 1949              	.LCFI43:
 1950              		.cfi_def_cfa_offset 16
 1951              		@ sp needed
 1952 0094 70BD     		pop	{r4, r5, r6, pc}
 1953              	.LVL191:
 1954              	.L178:
 1955 0096 00BF     		.align	2
 1956              	.L177:
 1957 0098 04ED00E0 		.word	-536810236
 1958              		.cfi_endproc
 1959              	.LFE173:
 1961              		.section	.text.osMailCreate,"ax",%progbits
 1962              		.align	2
 1963              		.global	osMailCreate
 1964              		.thumb
 1965              		.thumb_func
 1967              	osMailCreate:
 1968              	.LFB174:
1195:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1196:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif     /* Use Message Queues */
1197:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1198:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /********************   Mail Queue Management Functions  ***********************/
1199:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_MailQ)  &&  (osFeature_MailQ != 0))  /* Use Mail Queues */
1200:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1201:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1202:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** typedef struct os_mailQ_cb {
1203:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   const osMailQDef_t *queue_def;
1204:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   QueueHandle_t handle;
1205:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolId pool;
1206:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** } os_mailQ_cb_t;
1207:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1208:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1209:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize mail queue
1210:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_def     reference to the mail queue definition obtain with \ref osMailQ
1211:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID (obtained by \ref osThreadCreate or \ref osThreadGetId) or NULL.
1212:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval mail queue ID for reference by other functions or NULL in case of error.
1213:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailCreate shall be consistent in every CMSIS-RTOS.
1214:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
ARM GAS  /tmp/ccUoPQL6.s 			page 63


1215:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMailQId osMailCreate (const osMailQDef_t *queue_def, osThreadId thread_id)
1216:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1969              		.loc 1 1216 0
 1970              		.cfi_startproc
 1971              		@ args = 0, pretend = 0, frame = 16
 1972              		@ frame_needed = 0, uses_anonymous_args = 0
 1973              	.LVL192:
 1974 0000 30B5     		push	{r4, r5, lr}
 1975              	.LCFI44:
 1976              		.cfi_def_cfa_offset 12
 1977              		.cfi_offset 4, -12
 1978              		.cfi_offset 5, -8
 1979              		.cfi_offset 14, -4
 1980 0002 85B0     		sub	sp, sp, #20
 1981              	.LCFI45:
 1982              		.cfi_def_cfa_offset 32
 1983 0004 0446     		mov	r4, r0
1217:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configSUPPORT_DYNAMIC_ALLOCATION == 1)
1218:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1219:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1220:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolDef_t pool_def = {queue_def->queue_sz, queue_def->item_sz, NULL};
 1984              		.loc 1 1220 0
 1985 0006 0368     		ldr	r3, [r0]
 1986 0008 0193     		str	r3, [sp, #4]
 1987 000a 4368     		ldr	r3, [r0, #4]
 1988 000c 0293     		str	r3, [sp, #8]
 1989 000e 0023     		movs	r3, #0
 1990 0010 0393     		str	r3, [sp, #12]
1221:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1222:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a mail queue control block */
1223:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1224:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *(queue_def->cb) = pvPortMalloc(sizeof(struct os_mailQ_cb));
 1991              		.loc 1 1224 0
 1992 0012 8568     		ldr	r5, [r0, #8]
 1993 0014 0C20     		movs	r0, #12
 1994              	.LVL193:
 1995 0016 FFF7FEFF 		bl	pvPortMalloc
 1996              	.LVL194:
 1997 001a 2860     		str	r0, [r5]
1225:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1226:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (*(queue_def->cb) == NULL) {
 1998              		.loc 1 1226 0
 1999 001c A368     		ldr	r3, [r4, #8]
 2000 001e 1868     		ldr	r0, [r3]
 2001 0020 E0B1     		cbz	r0, .L180
1227:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
1228:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1229:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->queue_def = queue_def;
 2002              		.loc 1 1229 0
 2003 0022 0460     		str	r4, [r0]
1230:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1231:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a queue in FreeRTOS */
1232:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->handle = xQueueCreate(queue_def->queue_sz, sizeof(void *));
 2004              		.loc 1 1232 0
 2005 0024 A368     		ldr	r3, [r4, #8]
 2006 0026 1D68     		ldr	r5, [r3]
 2007 0028 2068     		ldr	r0, [r4]
ARM GAS  /tmp/ccUoPQL6.s 			page 64


 2008 002a 0421     		movs	r1, #4
 2009 002c 0022     		movs	r2, #0
 2010 002e FFF7FEFF 		bl	xQueueGenericCreate
 2011              	.LVL195:
 2012 0032 6860     		str	r0, [r5, #4]
1233:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1234:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1235:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((*(queue_def->cb))->handle == NULL) {
 2013              		.loc 1 1235 0
 2014 0034 A368     		ldr	r3, [r4, #8]
 2015 0036 1D68     		ldr	r5, [r3]
 2016 0038 6B68     		ldr	r3, [r5, #4]
 2017 003a 23B9     		cbnz	r3, .L181
1236:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortFree(*(queue_def->cb));
 2018              		.loc 1 1236 0
 2019 003c 2846     		mov	r0, r5
 2020 003e FFF7FEFF 		bl	vPortFree
 2021              	.LVL196:
1237:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2022              		.loc 1 1237 0
 2023 0042 0020     		movs	r0, #0
 2024 0044 0AE0     		b	.L180
 2025              	.L181:
1238:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1239:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1240:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a mail pool */
1241:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->pool = osPoolCreate(&pool_def);
 2026              		.loc 1 1241 0
 2027 0046 01A8     		add	r0, sp, #4
 2028 0048 FFF7FEFF 		bl	osPoolCreate
 2029              	.LVL197:
 2030 004c A860     		str	r0, [r5, #8]
1242:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((*(queue_def->cb))->pool == NULL) {
 2031              		.loc 1 1242 0
 2032 004e A368     		ldr	r3, [r4, #8]
 2033 0050 1868     		ldr	r0, [r3]
 2034 0052 8368     		ldr	r3, [r0, #8]
 2035 0054 13B9     		cbnz	r3, .L180
1243:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     //TODO: Delete queue. How to do it in FreeRTOS?
1244:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortFree(*(queue_def->cb));
 2036              		.loc 1 1244 0
 2037 0056 FFF7FEFF 		bl	vPortFree
 2038              	.LVL198:
1245:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2039              		.loc 1 1245 0
 2040 005a 0020     		movs	r0, #0
 2041              	.L180:
1246:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1247:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1248:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return *(queue_def->cb);
1249:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1250:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
1251:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1252:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2042              		.loc 1 1252 0
 2043 005c 05B0     		add	sp, sp, #20
 2044              	.LCFI46:
ARM GAS  /tmp/ccUoPQL6.s 			page 65


 2045              		.cfi_def_cfa_offset 12
 2046              		@ sp needed
 2047 005e 30BD     		pop	{r4, r5, pc}
 2048              		.cfi_endproc
 2049              	.LFE174:
 2051              		.section	.text.osMailAlloc,"ax",%progbits
 2052              		.align	2
 2053              		.global	osMailAlloc
 2054              		.thumb
 2055              		.thumb_func
 2057              	osMailAlloc:
 2058              	.LFB175:
1253:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1254:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1255:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a mail
1256:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1257:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
1258:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval pointer to memory block that can be filled with mail or NULL in case error.
1259:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailAlloc shall be consistent in every CMSIS-RTOS.
1260:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1261:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osMailAlloc (osMailQId queue_id, uint32_t millisec)
1262:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2059              		.loc 1 1262 0
 2060              		.cfi_startproc
 2061              		@ args = 0, pretend = 0, frame = 0
 2062              		@ frame_needed = 0, uses_anonymous_args = 0
 2063              	.LVL199:
1263:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
1264:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p;
1265:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1266:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1267:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2064              		.loc 1 1267 0
 2065 0000 20B1     		cbz	r0, .L185
1262:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
 2066              		.loc 1 1262 0
 2067 0002 08B5     		push	{r3, lr}
 2068              	.LCFI47:
 2069              		.cfi_def_cfa_offset 8
 2070              		.cfi_offset 3, -8
 2071              		.cfi_offset 14, -4
1268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
1269:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1270:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1271:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   p = osPoolAlloc(queue_id->pool);
 2072              		.loc 1 1271 0
 2073 0004 8068     		ldr	r0, [r0, #8]
 2074              	.LVL200:
 2075 0006 FFF7FEFF 		bl	osPoolAlloc
 2076              	.LVL201:
1272:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1273:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 2077              		.loc 1 1273 0
 2078 000a 08BD     		pop	{r3, pc}
 2079              	.LVL202:
 2080              	.L185:
 2081              	.LCFI48:
ARM GAS  /tmp/ccUoPQL6.s 			page 66


 2082              		.cfi_def_cfa_offset 0
 2083              		.cfi_restore 3
 2084              		.cfi_restore 14
1268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2085              		.loc 1 1268 0
 2086 000c 0020     		movs	r0, #0
 2087              	.LVL203:
 2088 000e 7047     		bx	lr
 2089              		.cfi_endproc
 2090              	.LFE175:
 2092              		.section	.text.osMailCAlloc,"ax",%progbits
 2093              		.align	2
 2094              		.global	osMailCAlloc
 2095              		.thumb
 2096              		.thumb_func
 2098              	osMailCAlloc:
 2099              	.LFB176:
1274:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1275:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1276:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1277:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a mail and set memory block to zero
1278:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1279:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
1280:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval pointer to memory block that can be filled with mail or NULL in case error.
1281:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailCAlloc shall be consistent in every CMSIS-RTOS.
1282:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1283:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osMailCAlloc (osMailQId queue_id, uint32_t millisec)
1284:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2100              		.loc 1 1284 0
 2101              		.cfi_startproc
 2102              		@ args = 0, pretend = 0, frame = 0
 2103              		@ frame_needed = 0, uses_anonymous_args = 0
 2104              	.LVL204:
 2105 0000 10B5     		push	{r4, lr}
 2106              	.LCFI49:
 2107              		.cfi_def_cfa_offset 8
 2108              		.cfi_offset 4, -8
 2109              		.cfi_offset 14, -4
 2110 0002 0446     		mov	r4, r0
1285:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
1286:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = osMailAlloc(queue_id, millisec);
 2111              		.loc 1 1286 0
 2112 0004 FFF7FEFF 		bl	osMailAlloc
 2113              	.LVL205:
1287:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (p) {
 2114              		.loc 1 1288 0
 2115 0008 0146     		mov	r1, r0
 2116 000a 20B9     		cbnz	r0, .L192
 2117 000c 08E0     		b	.L190
 2118              	.LVL206:
 2119              	.L191:
1289:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
1290:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ((uint8_t *)p)[i] = 0;
 2120              		.loc 1 1290 0 discriminator 3
 2121 000e 0022     		movs	r2, #0
 2122 0010 CA54     		strb	r2, [r1, r3]
ARM GAS  /tmp/ccUoPQL6.s 			page 67


1289:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
 2123              		.loc 1 1289 0 discriminator 3
 2124 0012 0133     		adds	r3, r3, #1
 2125              	.LVL207:
 2126 0014 00E0     		b	.L189
 2127              	.LVL208:
 2128              	.L192:
 2129 0016 0023     		movs	r3, #0
 2130              	.L189:
 2131              	.LVL209:
1289:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
 2132              		.loc 1 1289 0 is_stmt 0 discriminator 1
 2133 0018 2268     		ldr	r2, [r4]
 2134 001a 5268     		ldr	r2, [r2, #4]
 2135 001c 9A42     		cmp	r2, r3
 2136 001e F6D8     		bhi	.L191
 2137              	.LVL210:
 2138              	.L190:
1291:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1292:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1293:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1294:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
1295:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2139              		.loc 1 1295 0 is_stmt 1
 2140 0020 0846     		mov	r0, r1
 2141              	.LVL211:
 2142 0022 10BD     		pop	{r4, pc}
 2143              		.cfi_endproc
 2144              	.LFE176:
 2146              		.section	.text.osMailPut,"ax",%progbits
 2147              		.align	2
 2148              		.global	osMailPut
 2149              		.thumb
 2150              		.thumb_func
 2152              	osMailPut:
 2153              	.LFB177:
1296:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1297:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1298:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Put a mail to a queue
1299:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1300:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mail          memory block previously allocated with \ref osMailAlloc or \ref osMailCAllo
1301:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1302:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailPut shall be consistent in every CMSIS-RTOS.
1303:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1304:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMailPut (osMailQId queue_id, void *mail)
1305:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2154              		.loc 1 1305 0
 2155              		.cfi_startproc
 2156              		@ args = 0, pretend = 0, frame = 16
 2157              		@ frame_needed = 0, uses_anonymous_args = 0
 2158              	.LVL212:
 2159 0000 10B5     		push	{r4, lr}
 2160              	.LCFI50:
 2161              		.cfi_def_cfa_offset 8
 2162              		.cfi_offset 4, -8
 2163              		.cfi_offset 14, -4
 2164 0002 84B0     		sub	sp, sp, #16
ARM GAS  /tmp/ccUoPQL6.s 			page 68


 2165              	.LCFI51:
 2166              		.cfi_def_cfa_offset 24
 2167 0004 0191     		str	r1, [sp, #4]
1306:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1307:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1308:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1309:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2168              		.loc 1 1309 0
 2169 0006 18B3     		cbz	r0, .L197
 2170 0008 0446     		mov	r4, r0
1310:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1311:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1312:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1313:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 2171              		.loc 1 1313 0
 2172 000a 0023     		movs	r3, #0
 2173 000c 0393     		str	r3, [sp, #12]
1314:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1315:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2174              		.loc 1 1315 0
 2175 000e FFF7FEFF 		bl	inHandlerMode
 2176              	.LVL213:
 2177 0012 98B1     		cbz	r0, .L196
1316:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSendFromISR(queue_id->handle, &mail, &taskWoken) != pdTRUE) {
 2178              		.loc 1 1316 0
 2179 0014 6068     		ldr	r0, [r4, #4]
 2180 0016 01A9     		add	r1, sp, #4
 2181              	.LVL214:
 2182 0018 03AA     		add	r2, sp, #12
 2183 001a 0023     		movs	r3, #0
 2184 001c FFF7FEFF 		bl	xQueueGenericSendFromISR
 2185              	.LVL215:
 2186 0020 0128     		cmp	r0, #1
 2187 0022 17D1     		bne	.L198
1317:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
1318:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1319:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2188              		.loc 1 1319 0
 2189 0024 039B     		ldr	r3, [sp, #12]
 2190 0026 BBB1     		cbz	r3, .L199
 2191              		.loc 1 1319 0 is_stmt 0 discriminator 1
 2192 0028 4FF08052 		mov	r2, #268435456
 2193 002c 0D4B     		ldr	r3, .L202
 2194 002e 1A60     		str	r2, [r3]
 2195              	@ 1319 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2196 0030 BFF34F8F 		dsb
 2197              	@ 0 "" 2
 2198              	@ 1319 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2199 0034 BFF36F8F 		isb
 2200              	@ 0 "" 2
1320:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1321:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1322:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSend(queue_id->handle, &mail, 0) != pdTRUE) { 
1323:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
1324:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1325:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1326:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
ARM GAS  /tmp/ccUoPQL6.s 			page 69


1327:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 2201              		.loc 1 1327 0 is_stmt 1 discriminator 1
 2202              		.thumb
 2203 0038 0020     		movs	r0, #0
 2204 003a 10E0     		b	.L195
 2205              	.L196:
1322:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2206              		.loc 1 1322 0
 2207 003c 6068     		ldr	r0, [r4, #4]
 2208 003e 01A9     		add	r1, sp, #4
 2209              	.LVL216:
 2210 0040 0022     		movs	r2, #0
 2211 0042 1346     		mov	r3, r2
 2212 0044 FFF7FEFF 		bl	xQueueGenericSend
 2213              	.LVL217:
 2214 0048 0128     		cmp	r0, #1
 2215 004a 07D0     		beq	.L200
1323:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 2216              		.loc 1 1323 0
 2217 004c FF20     		movs	r0, #255
 2218 004e 06E0     		b	.L195
 2219              	.LVL218:
 2220              	.L197:
1310:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2221              		.loc 1 1310 0
 2222 0050 8020     		movs	r0, #128
 2223              	.LVL219:
 2224 0052 04E0     		b	.L195
 2225              	.LVL220:
 2226              	.L198:
1317:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 2227              		.loc 1 1317 0
 2228 0054 FF20     		movs	r0, #255
 2229 0056 02E0     		b	.L195
 2230              	.L199:
 2231              		.loc 1 1327 0
 2232 0058 0020     		movs	r0, #0
 2233 005a 00E0     		b	.L195
 2234              	.L200:
 2235 005c 0020     		movs	r0, #0
 2236              	.LVL221:
 2237              	.L195:
1328:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2238              		.loc 1 1328 0
 2239 005e 04B0     		add	sp, sp, #16
 2240              	.LCFI52:
 2241              		.cfi_def_cfa_offset 8
 2242              		@ sp needed
 2243 0060 10BD     		pop	{r4, pc}
 2244              	.LVL222:
 2245              	.L203:
 2246 0062 00BF     		.align	2
 2247              	.L202:
 2248 0064 04ED00E0 		.word	-536810236
 2249              		.cfi_endproc
 2250              	.LFE177:
 2252              		.section	.text.osMailGet,"ax",%progbits
ARM GAS  /tmp/ccUoPQL6.s 			page 70


 2253              		.align	2
 2254              		.global	osMailGet
 2255              		.thumb
 2256              		.thumb_func
 2258              	osMailGet:
 2259              	.LFB178:
1329:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1330:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1331:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Get a mail from a queue
1332:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id   mail queue ID obtained with \ref osMailCreate.
1333:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec    timeout value or 0 in case of no time-out
1334:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event that contains mail information or error code.
1335:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailGet shall be consistent in every CMSIS-RTOS.
1336:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1337:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMailGet (osMailQId queue_id, uint32_t millisec)
1338:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2260              		.loc 1 1338 0
 2261              		.cfi_startproc
 2262              		@ args = 0, pretend = 0, frame = 16
 2263              		@ frame_needed = 0, uses_anonymous_args = 0
 2264              	.LVL223:
 2265 0000 70B5     		push	{r4, r5, r6, lr}
 2266              	.LCFI53:
 2267              		.cfi_def_cfa_offset 16
 2268              		.cfi_offset 4, -16
 2269              		.cfi_offset 5, -12
 2270              		.cfi_offset 6, -8
 2271              		.cfi_offset 14, -4
 2272 0002 84B0     		sub	sp, sp, #16
 2273              	.LCFI54:
 2274              		.cfi_def_cfa_offset 32
 2275 0004 0446     		mov	r4, r0
 2276 0006 0D46     		mov	r5, r1
1339:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1340:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1341:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1342:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1343:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.mail_id = queue_id;
 2277              		.loc 1 1343 0
 2278 0008 0291     		str	r1, [sp, #8]
1344:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1345:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2279              		.loc 1 1345 0
 2280 000a 41B9     		cbnz	r1, .L205
1346:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
 2281              		.loc 1 1346 0
 2282 000c 04AB     		add	r3, sp, #16
 2283 000e 8022     		movs	r2, #128
 2284              	.LVL224:
 2285 0010 43F8102D 		str	r2, [r3, #-16]!
1347:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 2286              		.loc 1 1347 0
 2287 0014 93E80700 		ldmia	r3, {r0, r1, r2}
 2288              	.LVL225:
 2289 0018 84E80700 		stmia	r4, {r0, r1, r2}
 2290 001c 36E0     		b	.L204
 2291              	.LVL226:
ARM GAS  /tmp/ccUoPQL6.s 			page 71


 2292              	.L205:
 2293 001e 1646     		mov	r6, r2
1348:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1349:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1350:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 2294              		.loc 1 1350 0
 2295 0020 0023     		movs	r3, #0
 2296 0022 0393     		str	r3, [sp, #12]
 2297              	.LVL227:
1351:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1352:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
1353:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 2298              		.loc 1 1353 0
 2299 0024 B2F1FF3F 		cmp	r2, #-1
 2300 0028 02D0     		beq	.L207
1354:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
1355:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1356:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 2301              		.loc 1 1356 0
 2302 002a 0AB1     		cbz	r2, .L207
 2303              	.LVL228:
1357:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
1358:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 2304              		.loc 1 1358 0
 2305 002c 02B9     		cbnz	r2, .L207
1359:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 2306              		.loc 1 1359 0
 2307 002e 0126     		movs	r6, #1
 2308              	.LVL229:
 2309              	.L207:
1360:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1361:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1362:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1363:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2310              		.loc 1 1363 0
 2311 0030 FFF7FEFF 		bl	inHandlerMode
 2312              	.LVL230:
 2313 0034 B0B1     		cbz	r0, .L208
1364:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceiveFromISR(queue_id->handle, &event.value.p, &taskWoken) == pdTRUE) {
 2314              		.loc 1 1364 0
 2315 0036 6868     		ldr	r0, [r5, #4]
 2316 0038 01A9     		add	r1, sp, #4
 2317 003a 03AA     		add	r2, sp, #12
 2318 003c FFF7FEFF 		bl	xQueueReceiveFromISR
 2319              	.LVL231:
 2320 0040 0128     		cmp	r0, #1
 2321 0042 02D1     		bne	.L209
1365:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1366:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMail;
 2322              		.loc 1 1366 0
 2323 0044 2023     		movs	r3, #32
 2324 0046 0093     		str	r3, [sp]
 2325 0048 01E0     		b	.L210
 2326              	.L209:
1367:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1368:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1369:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osOK;
ARM GAS  /tmp/ccUoPQL6.s 			page 72


 2327              		.loc 1 1369 0
 2328 004a 0023     		movs	r3, #0
 2329 004c 0093     		str	r3, [sp]
 2330              	.L210:
1370:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1371:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2331              		.loc 1 1371 0
 2332 004e 039B     		ldr	r3, [sp, #12]
 2333 0050 C3B1     		cbz	r3, .L211
 2334              		.loc 1 1371 0 is_stmt 0 discriminator 1
 2335 0052 4FF08052 		mov	r2, #268435456
 2336 0056 0F4B     		ldr	r3, .L217
 2337 0058 1A60     		str	r2, [r3]
 2338              	@ 1371 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2339 005a BFF34F8F 		dsb
 2340              	@ 0 "" 2
 2341              	@ 1371 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2342 005e BFF36F8F 		isb
 2343              	@ 0 "" 2
 2344              		.thumb
 2345 0062 0FE0     		b	.L211
 2346              	.L208:
1372:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1373:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1374:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceive(queue_id->handle, &event.value.p, ticks) == pdTRUE) {
 2347              		.loc 1 1374 0 is_stmt 1
 2348 0064 6868     		ldr	r0, [r5, #4]
 2349 0066 01A9     		add	r1, sp, #4
 2350 0068 3246     		mov	r2, r6
 2351 006a 0023     		movs	r3, #0
 2352 006c FFF7FEFF 		bl	xQueueGenericReceive
 2353              	.LVL232:
 2354 0070 0128     		cmp	r0, #1
 2355 0072 02D1     		bne	.L212
1375:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1376:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMail;
 2356              		.loc 1 1376 0
 2357 0074 2023     		movs	r3, #32
 2358 0076 0093     		str	r3, [sp]
 2359 0078 04E0     		b	.L211
 2360              	.L212:
1377:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1378:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1379:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = (ticks == 0) ? osOK : osEventTimeout;
 2361              		.loc 1 1379 0
 2362 007a 0EB9     		cbnz	r6, .L215
 2363 007c 0023     		movs	r3, #0
 2364 007e 00E0     		b	.L213
 2365              	.L215:
 2366 0080 4023     		movs	r3, #64
 2367              	.L213:
 2368              		.loc 1 1379 0 is_stmt 0 discriminator 4
 2369 0082 0093     		str	r3, [sp]
 2370              	.L211:
1380:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1381:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1382:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
ARM GAS  /tmp/ccUoPQL6.s 			page 73


1383:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 2371              		.loc 1 1383 0 is_stmt 1
 2372 0084 9DE80700 		ldmia	sp, {r0, r1, r2}
 2373 0088 84E80700 		stmia	r4, {r0, r1, r2}
 2374              	.LVL233:
 2375              	.L204:
1384:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2376              		.loc 1 1384 0
 2377 008c 2046     		mov	r0, r4
 2378 008e 04B0     		add	sp, sp, #16
 2379              	.LCFI55:
 2380              		.cfi_def_cfa_offset 16
 2381              		@ sp needed
 2382 0090 70BD     		pop	{r4, r5, r6, pc}
 2383              	.LVL234:
 2384              	.L218:
 2385 0092 00BF     		.align	2
 2386              	.L217:
 2387 0094 04ED00E0 		.word	-536810236
 2388              		.cfi_endproc
 2389              	.LFE178:
 2391              		.section	.text.osMailFree,"ax",%progbits
 2392              		.align	2
 2393              		.global	osMailFree
 2394              		.thumb
 2395              		.thumb_func
 2397              	osMailFree:
 2398              	.LFB179:
1385:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1386:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1387:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Free a memory block from a mail
1388:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id mail queue ID obtained with \ref osMailCreate.
1389:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mail     pointer to the memory block that was obtained with \ref osMailGet.
1390:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1391:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailFree shall be consistent in every CMSIS-RTOS.
1392:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1393:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMailFree (osMailQId queue_id, void *mail)
1394:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2399              		.loc 1 1394 0
 2400              		.cfi_startproc
 2401              		@ args = 0, pretend = 0, frame = 0
 2402              		@ frame_needed = 0, uses_anonymous_args = 0
 2403              	.LVL235:
1395:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2404              		.loc 1 1395 0
 2405 0000 20B1     		cbz	r0, .L221
1394:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2406              		.loc 1 1394 0
 2407 0002 08B5     		push	{r3, lr}
 2408              	.LCFI56:
 2409              		.cfi_def_cfa_offset 8
 2410              		.cfi_offset 3, -8
 2411              		.cfi_offset 14, -4
1396:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1397:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1398:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1399:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osPoolFree(queue_id->pool, mail);
ARM GAS  /tmp/ccUoPQL6.s 			page 74


 2412              		.loc 1 1399 0
 2413 0004 8068     		ldr	r0, [r0, #8]
 2414              	.LVL236:
 2415 0006 FFF7FEFF 		bl	osPoolFree
 2416              	.LVL237:
 2417 000a 08BD     		pop	{r3, pc}
 2418              	.LVL238:
 2419              	.L221:
 2420              	.LCFI57:
 2421              		.cfi_def_cfa_offset 0
 2422              		.cfi_restore 3
 2423              		.cfi_restore 14
1396:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2424              		.loc 1 1396 0
 2425 000c 8020     		movs	r0, #128
 2426              	.LVL239:
 2427 000e 7047     		bx	lr
 2428              		.cfi_endproc
 2429              	.LFE179:
 2431              		.section	.text.osSystickHandler,"ax",%progbits
 2432              		.align	2
 2433              		.global	osSystickHandler
 2434              		.thumb
 2435              		.thumb_func
 2437              	osSystickHandler:
 2438              	.LFB180:
1400:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1401:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* Use Mail Queues */
1402:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1403:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*************************** Additional specific APIs to Free RTOS ************/
1404:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1405:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Handles the tick increment
1406:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  none.
1407:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval none.
1408:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1409:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void osSystickHandler(void)
1410:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2439              		.loc 1 1410 0
 2440              		.cfi_startproc
 2441              		@ args = 0, pretend = 0, frame = 0
 2442              		@ frame_needed = 0, uses_anonymous_args = 0
 2443 0000 08B5     		push	{r3, lr}
 2444              	.LCFI58:
 2445              		.cfi_def_cfa_offset 8
 2446              		.cfi_offset 3, -8
 2447              		.cfi_offset 14, -4
1411:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1412:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_xTaskGetSchedulerState  == 1 )
1413:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskGetSchedulerState() != taskSCHEDULER_NOT_STARTED)
 2448              		.loc 1 1413 0
 2449 0002 FFF7FEFF 		bl	xTaskGetSchedulerState
 2450              	.LVL240:
 2451 0006 0128     		cmp	r0, #1
 2452 0008 01D0     		beq	.L224
1414:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1415:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* INCLUDE_xTaskGetSchedulerState */  
1416:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     xPortSysTickHandler();
ARM GAS  /tmp/ccUoPQL6.s 			page 75


 2453              		.loc 1 1416 0
 2454 000a FFF7FEFF 		bl	xPortSysTickHandler
 2455              	.LVL241:
 2456              	.L224:
 2457 000e 08BD     		pop	{r3, pc}
 2458              		.cfi_endproc
 2459              	.LFE180:
 2461              		.section	.text.osThreadSuspend,"ax",%progbits
 2462              		.align	2
 2463              		.global	osThreadSuspend
 2464              		.thumb
 2465              		.thumb_func
 2467              	osThreadSuspend:
 2468              	.LFB181:
1417:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_xTaskGetSchedulerState  == 1 )
1418:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1419:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* INCLUDE_xTaskGetSchedulerState */  
1420:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1421:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1422:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( INCLUDE_eTaskGetState == 1 )
1423:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1424:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Obtain the state of any thread.
1425:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1426:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  the stae of the thread, states are encoded by the osThreadState enumerated type.
1427:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1428:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadState osThreadGetState(osThreadId thread_id)
1429:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
1430:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   eTaskState ThreadState;
1431:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osThreadState result;
1432:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1433:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ThreadState = eTaskGetState(thread_id);
1434:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1435:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   switch (ThreadState)
1436:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1437:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eRunning :
1438:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadRunning;
1439:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1440:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eReady :
1441:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadReady;
1442:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1443:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eBlocked :
1444:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadBlocked;
1445:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1446:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eSuspended :
1447:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadSuspended;
1448:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1449:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eDeleted :
1450:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadDeleted;
1451:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1452:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   default:
1453:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadError;
1454:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
1455:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1456:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
1457:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1458:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif /* INCLUDE_eTaskGetState */
1459:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
ARM GAS  /tmp/ccUoPQL6.s 			page 76


1460:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_eTaskGetState == 1)
1461:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1462:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Check if a thread is already suspended or not.
1463:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param thread_id thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1464:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1465:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1466:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadIsSuspended(osThreadId thread_id)
1467:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
1468:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (eTaskGetState(thread_id) == eSuspended)
1469:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osOK;
1470:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1471:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
1472:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1473:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif /* INCLUDE_eTaskGetState */
1474:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1475:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Suspend execution of a thread.
1476:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1477:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1478:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1479:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSuspend (osThreadId thread_id)
1480:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2469              		.loc 1 1480 0
 2470              		.cfi_startproc
 2471              		@ args = 0, pretend = 0, frame = 0
 2472              		@ frame_needed = 0, uses_anonymous_args = 0
 2473              	.LVL242:
 2474 0000 08B5     		push	{r3, lr}
 2475              	.LCFI59:
 2476              		.cfi_def_cfa_offset 8
 2477              		.cfi_offset 3, -8
 2478              		.cfi_offset 14, -4
1481:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskSuspend == 1)
1482:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vTaskSuspend(thread_id);
 2479              		.loc 1 1482 0
 2480 0002 FFF7FEFF 		bl	vTaskSuspend
 2481              	.LVL243:
1483:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1484:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1485:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1486:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1487:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1488:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2482              		.loc 1 1488 0
 2483 0006 0020     		movs	r0, #0
 2484 0008 08BD     		pop	{r3, pc}
 2485              		.cfi_endproc
 2486              	.LFE181:
 2488 000a 00BF     		.section	.text.osThreadResume,"ax",%progbits
 2489              		.align	2
 2490              		.global	osThreadResume
 2491              		.thumb
 2492              		.thumb_func
 2494              	osThreadResume:
 2495              	.LFB182:
1489:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1490:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1491:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Resume execution of a suspended thread.
ARM GAS  /tmp/ccUoPQL6.s 			page 77


1492:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1493:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1494:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1495:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadResume (osThreadId thread_id)
1496:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2496              		.loc 1 1496 0
 2497              		.cfi_startproc
 2498              		@ args = 0, pretend = 0, frame = 0
 2499              		@ frame_needed = 0, uses_anonymous_args = 0
 2500              	.LVL244:
 2501 0000 10B5     		push	{r4, lr}
 2502              	.LCFI60:
 2503              		.cfi_def_cfa_offset 8
 2504              		.cfi_offset 4, -8
 2505              		.cfi_offset 14, -4
 2506 0002 0446     		mov	r4, r0
1497:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskSuspend == 1)  
1498:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(inHandlerMode())
 2507              		.loc 1 1498 0
 2508 0004 FFF7FEFF 		bl	inHandlerMode
 2509              	.LVL245:
 2510 0008 68B1     		cbz	r0, .L230
1499:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1500:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTaskResumeFromISR(thread_id) == pdTRUE)
 2511              		.loc 1 1500 0
 2512 000a 2046     		mov	r0, r4
 2513 000c FFF7FEFF 		bl	xTaskResumeFromISR
 2514              	.LVL246:
 2515 0010 0128     		cmp	r0, #1
 2516 0012 0BD1     		bne	.L231
1501:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
1502:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       portYIELD_FROM_ISR(pdTRUE);
 2517              		.loc 1 1502 0 discriminator 1
 2518 0014 4FF08052 		mov	r2, #268435456
 2519 0018 054B     		ldr	r3, .L233
 2520 001a 1A60     		str	r2, [r3]
 2521              	@ 1502 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2522 001c BFF34F8F 		dsb
 2523              	@ 0 "" 2
 2524              	@ 1502 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2525 0020 BFF36F8F 		isb
 2526              	@ 0 "" 2
 2527              		.thumb
 2528 0024 02E0     		b	.L231
 2529              	.L230:
1503:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1504:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1505:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1506:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1507:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vTaskResume(thread_id);
 2530              		.loc 1 1507 0
 2531 0026 2046     		mov	r0, r4
 2532 0028 FFF7FEFF 		bl	vTaskResume
 2533              	.LVL247:
 2534              	.L231:
1508:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1509:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
ARM GAS  /tmp/ccUoPQL6.s 			page 78


1510:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1511:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1512:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1513:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2535              		.loc 1 1513 0
 2536 002c 0020     		movs	r0, #0
 2537 002e 10BD     		pop	{r4, pc}
 2538              	.LVL248:
 2539              	.L234:
 2540              		.align	2
 2541              	.L233:
 2542 0030 04ED00E0 		.word	-536810236
 2543              		.cfi_endproc
 2544              	.LFE182:
 2546              		.section	.text.osThreadSuspendAll,"ax",%progbits
 2547              		.align	2
 2548              		.global	osThreadSuspendAll
 2549              		.thumb
 2550              		.thumb_func
 2552              	osThreadSuspendAll:
 2553              	.LFB183:
1514:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1515:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1516:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Suspend execution of a all active threads.
1517:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1518:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1519:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSuspendAll (void)
1520:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2554              		.loc 1 1520 0
 2555              		.cfi_startproc
 2556              		@ args = 0, pretend = 0, frame = 0
 2557              		@ frame_needed = 0, uses_anonymous_args = 0
 2558 0000 08B5     		push	{r3, lr}
 2559              	.LCFI61:
 2560              		.cfi_def_cfa_offset 8
 2561              		.cfi_offset 3, -8
 2562              		.cfi_offset 14, -4
1521:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskSuspendAll();
 2563              		.loc 1 1521 0
 2564 0002 FFF7FEFF 		bl	vTaskSuspendAll
 2565              	.LVL249:
1522:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1523:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1524:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2566              		.loc 1 1524 0
 2567 0006 0020     		movs	r0, #0
 2568 0008 08BD     		pop	{r3, pc}
 2569              		.cfi_endproc
 2570              	.LFE183:
 2572 000a 00BF     		.section	.text.osThreadResumeAll,"ax",%progbits
 2573              		.align	2
 2574              		.global	osThreadResumeAll
 2575              		.thumb
 2576              		.thumb_func
 2578              	osThreadResumeAll:
 2579              	.LFB184:
1525:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
ARM GAS  /tmp/ccUoPQL6.s 			page 79


1526:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1527:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Resume execution of a all suspended threads.
1528:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1529:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1530:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadResumeAll (void)
1531:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2580              		.loc 1 1531 0
 2581              		.cfi_startproc
 2582              		@ args = 0, pretend = 0, frame = 0
 2583              		@ frame_needed = 0, uses_anonymous_args = 0
 2584 0000 08B5     		push	{r3, lr}
 2585              	.LCFI62:
 2586              		.cfi_def_cfa_offset 8
 2587              		.cfi_offset 3, -8
 2588              		.cfi_offset 14, -4
1532:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskResumeAll() == pdTRUE)
 2589              		.loc 1 1532 0
 2590 0002 FFF7FEFF 		bl	xTaskResumeAll
 2591              	.LVL250:
 2592 0006 0128     		cmp	r0, #1
 2593 0008 01D1     		bne	.L239
1533:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osOK;
 2594              		.loc 1 1533 0
 2595 000a 0020     		movs	r0, #0
 2596 000c 08BD     		pop	{r3, pc}
 2597              	.L239:
1534:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1535:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 2598              		.loc 1 1535 0
 2599 000e FF20     		movs	r0, #255
1536:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1537:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2600              		.loc 1 1537 0
 2601 0010 08BD     		pop	{r3, pc}
 2602              		.cfi_endproc
 2603              	.LFE184:
 2605 0012 00BF     		.section	.text.osDelayUntil,"ax",%progbits
 2606              		.align	2
 2607              		.global	osDelayUntil
 2608              		.thumb
 2609              		.thumb_func
 2611              	osDelayUntil:
 2612              	.LFB185:
1538:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1539:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1540:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Delay a task until a specified time
1541:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   PreviousWakeTime   Pointer to a variable that holds the time at which the 
1542:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          task was last unblocked. PreviousWakeTime must be initialised with the current time
1543:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          prior to its first use (PreviousWakeTime = osKernelSysTick() )
1544:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec    time delay value
1545:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1546:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1547:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osDelayUntil (uint32_t *PreviousWakeTime, uint32_t millisec)
1548:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2613              		.loc 1 1548 0
 2614              		.cfi_startproc
 2615              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccUoPQL6.s 			page 80


 2616              		@ frame_needed = 0, uses_anonymous_args = 0
 2617              		@ link register save eliminated.
 2618              	.LVL251:
1549:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_vTaskDelayUntil
1550:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = (millisec / portTICK_PERIOD_MS);
1551:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelayUntil((TickType_t *) PreviousWakeTime, ticks ? ticks : 1);
1552:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1553:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1554:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1555:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
1556:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) PreviousWakeTime;
1557:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1558:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1559:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1560:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2619              		.loc 1 1560 0
 2620 0000 8120     		movs	r0, #129
 2621              	.LVL252:
 2622 0002 7047     		bx	lr
 2623              		.cfi_endproc
 2624              	.LFE185:
 2626              		.section	.text.osAbortDelay,"ax",%progbits
 2627              		.align	2
 2628              		.global	osAbortDelay
 2629              		.thumb
 2630              		.thumb_func
 2632              	osAbortDelay:
 2633              	.LFB186:
1561:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1562:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1563:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Abort the delay for a specific thread
1564:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId   
1565:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1566:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1567:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osAbortDelay(osThreadId thread_id)
1568:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2634              		.loc 1 1568 0
 2635              		.cfi_startproc
 2636              		@ args = 0, pretend = 0, frame = 0
 2637              		@ frame_needed = 0, uses_anonymous_args = 0
 2638              		@ link register save eliminated.
 2639              	.LVL253:
1569:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_xTaskAbortDelay
1570:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1571:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   xTaskAbortDelay(thread_id);
1572:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1573:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1574:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1575:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1576:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1577:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1578:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1579:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2640              		.loc 1 1579 0
 2641 0000 8120     		movs	r0, #129
 2642              	.LVL254:
 2643 0002 7047     		bx	lr
ARM GAS  /tmp/ccUoPQL6.s 			page 81


 2644              		.cfi_endproc
 2645              	.LFE186:
 2647              		.section	.text.osThreadList,"ax",%progbits
 2648              		.align	2
 2649              		.global	osThreadList
 2650              		.thumb
 2651              		.thumb_func
 2653              	osThreadList:
 2654              	.LFB187:
1580:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1581:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1582:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Lists all the current threads, along with their current state 
1583:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          and stack usage high water mark.
1584:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   buffer   A buffer into which the above mentioned details
1585:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          will be written
1586:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1587:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1588:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadList (uint8_t *buffer)
1589:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2655              		.loc 1 1589 0
 2656              		.cfi_startproc
 2657              		@ args = 0, pretend = 0, frame = 0
 2658              		@ frame_needed = 0, uses_anonymous_args = 0
 2659              		@ link register save eliminated.
 2660              	.LVL255:
1590:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS == 1 ) )
1591:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskList((char *)buffer);
1592:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1593:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1594:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2661              		.loc 1 1594 0
 2662 0000 0020     		movs	r0, #0
 2663              	.LVL256:
 2664 0002 7047     		bx	lr
 2665              		.cfi_endproc
 2666              	.LFE187:
 2668              		.section	.text.osMessagePeek,"ax",%progbits
 2669              		.align	2
 2670              		.global	osMessagePeek
 2671              		.thumb
 2672              		.thumb_func
 2674              	osMessagePeek:
 2675              	.LFB188:
1595:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1596:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1597:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Receive an item from a queue without removing the item from the queue.
1598:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1599:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1600:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event information that includes status code.
1601:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1602:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMessagePeek (osMessageQId queue_id, uint32_t millisec)
1603:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2676              		.loc 1 1603 0
 2677              		.cfi_startproc
 2678              		@ args = 0, pretend = 0, frame = 16
 2679              		@ frame_needed = 0, uses_anonymous_args = 0
 2680              	.LVL257:
ARM GAS  /tmp/ccUoPQL6.s 			page 82


 2681 0000 30B5     		push	{r4, r5, lr}
 2682              	.LCFI63:
 2683              		.cfi_def_cfa_offset 12
 2684              		.cfi_offset 4, -12
 2685              		.cfi_offset 5, -8
 2686              		.cfi_offset 14, -4
 2687 0002 85B0     		sub	sp, sp, #20
 2688              	.LCFI64:
 2689              		.cfi_def_cfa_offset 32
 2690 0004 0446     		mov	r4, r0
1604:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1605:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1606:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1607:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.message_id = queue_id;
 2691              		.loc 1 1607 0
 2692 0006 0391     		str	r1, [sp, #12]
1608:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1609:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2693              		.loc 1 1609 0
 2694 0008 41B9     		cbnz	r1, .L245
1610:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
 2695              		.loc 1 1610 0
 2696 000a 04AB     		add	r3, sp, #16
 2697 000c 8022     		movs	r2, #128
 2698              	.LVL258:
 2699 000e 43F80C2D 		str	r2, [r3, #-12]!
1611:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 2700              		.loc 1 1611 0
 2701 0012 93E80700 		ldmia	r3, {r0, r1, r2}
 2702              	.LVL259:
 2703 0016 84E80700 		stmia	r4, {r0, r1, r2}
 2704 001a 1BE0     		b	.L244
 2705              	.LVL260:
 2706              	.L245:
 2707 001c 1546     		mov	r5, r2
 2708              	.LVL261:
1612:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1613:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1614:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
1615:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 2709              		.loc 1 1615 0
 2710 001e B2F1FF3F 		cmp	r2, #-1
 2711 0022 02D0     		beq	.L247
1616:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
1617:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1618:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 2712              		.loc 1 1618 0
 2713 0024 0AB1     		cbz	r2, .L247
 2714              	.LVL262:
1619:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
1620:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 2715              		.loc 1 1620 0
 2716 0026 02B9     		cbnz	r2, .L247
1621:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 2717              		.loc 1 1621 0
 2718 0028 0125     		movs	r5, #1
 2719              	.LVL263:
ARM GAS  /tmp/ccUoPQL6.s 			page 83


 2720              	.L247:
1622:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1623:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1624:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1625:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xQueuePeek(queue_id, &event.value.v, ticks) == pdTRUE) 
 2721              		.loc 1 1625 0
 2722 002a 0846     		mov	r0, r1
 2723              	.LVL264:
 2724 002c 02A9     		add	r1, sp, #8
 2725              	.LVL265:
 2726 002e 2A46     		mov	r2, r5
 2727              	.LVL266:
 2728 0030 0123     		movs	r3, #1
 2729 0032 FFF7FEFF 		bl	xQueueGenericReceive
 2730              	.LVL267:
 2731 0036 0128     		cmp	r0, #1
 2732 0038 02D1     		bne	.L248
1626:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1627:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     /* We have mail */
1628:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osEventMessage;
 2733              		.loc 1 1628 0
 2734 003a 1023     		movs	r3, #16
 2735 003c 0193     		str	r3, [sp, #4]
 2736 003e 04E0     		b	.L249
 2737              	.L248:
1629:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1630:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else 
1631:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1632:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = (ticks == 0) ? osOK : osEventTimeout;
 2738              		.loc 1 1632 0
 2739 0040 0DB9     		cbnz	r5, .L252
 2740 0042 0023     		movs	r3, #0
 2741 0044 00E0     		b	.L250
 2742              	.L252:
 2743 0046 4023     		movs	r3, #64
 2744              	.L250:
 2745              		.loc 1 1632 0 is_stmt 0 discriminator 4
 2746 0048 0193     		str	r3, [sp, #4]
 2747              	.L249:
1633:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1634:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1635:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 2748              		.loc 1 1635 0 is_stmt 1
 2749 004a 04AB     		add	r3, sp, #16
 2750 004c 13E90700 		ldmdb	r3, {r0, r1, r2}
 2751 0050 84E80700 		stmia	r4, {r0, r1, r2}
 2752              	.LVL268:
 2753              	.L244:
1636:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2754              		.loc 1 1636 0
 2755 0054 2046     		mov	r0, r4
 2756 0056 05B0     		add	sp, sp, #20
 2757              	.LCFI65:
 2758              		.cfi_def_cfa_offset 12
 2759              		@ sp needed
 2760 0058 30BD     		pop	{r4, r5, pc}
 2761              		.cfi_endproc
ARM GAS  /tmp/ccUoPQL6.s 			page 84


 2762              	.LFE188:
 2764 005a 00BF     		.section	.text.osMessageWaiting,"ax",%progbits
 2765              		.align	2
 2766              		.global	osMessageWaiting
 2767              		.thumb
 2768              		.thumb_func
 2770              	osMessageWaiting:
 2771              	.LFB189:
1637:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1638:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1639:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the number of messaged stored in a queue.
1640:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1641:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval number of messages stored in a queue.
1642:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1643:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osMessageWaiting(osMessageQId queue_id)
1644:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2772              		.loc 1 1644 0
 2773              		.cfi_startproc
 2774              		@ args = 0, pretend = 0, frame = 0
 2775              		@ frame_needed = 0, uses_anonymous_args = 0
 2776              	.LVL269:
 2777 0000 10B5     		push	{r4, lr}
 2778              	.LCFI66:
 2779              		.cfi_def_cfa_offset 8
 2780              		.cfi_offset 4, -8
 2781              		.cfi_offset 14, -4
 2782 0002 0446     		mov	r4, r0
1645:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2783              		.loc 1 1645 0
 2784 0004 FFF7FEFF 		bl	inHandlerMode
 2785              	.LVL270:
 2786 0008 18B1     		cbz	r0, .L255
1646:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return uxQueueMessagesWaitingFromISR(queue_id);
 2787              		.loc 1 1646 0
 2788 000a 2046     		mov	r0, r4
 2789 000c FFF7FEFF 		bl	uxQueueMessagesWaitingFromISR
 2790              	.LVL271:
 2791 0010 10BD     		pop	{r4, pc}
 2792              	.LVL272:
 2793              	.L255:
1647:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1648:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1649:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1650:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return uxQueueMessagesWaiting(queue_id);
 2794              		.loc 1 1650 0
 2795 0012 2046     		mov	r0, r4
 2796 0014 FFF7FEFF 		bl	uxQueueMessagesWaiting
 2797              	.LVL273:
1651:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1652:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2798              		.loc 1 1652 0
 2799 0018 10BD     		pop	{r4, pc}
 2800              		.cfi_endproc
 2801              	.LFE189:
 2803 001a 00BF     		.section	.text.osMessageAvailableSpace,"ax",%progbits
 2804              		.align	2
 2805              		.global	osMessageAvailableSpace
ARM GAS  /tmp/ccUoPQL6.s 			page 85


 2806              		.thumb
 2807              		.thumb_func
 2809              	osMessageAvailableSpace:
 2810              	.LFB190:
1653:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1654:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1655:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the available space in a message queue.
1656:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1657:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval available space in a message queue.
1658:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1659:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osMessageAvailableSpace(osMessageQId queue_id)  
1660:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2811              		.loc 1 1660 0
 2812              		.cfi_startproc
 2813              		@ args = 0, pretend = 0, frame = 0
 2814              		@ frame_needed = 0, uses_anonymous_args = 0
 2815              	.LVL274:
 2816 0000 08B5     		push	{r3, lr}
 2817              	.LCFI67:
 2818              		.cfi_def_cfa_offset 8
 2819              		.cfi_offset 3, -8
 2820              		.cfi_offset 14, -4
1661:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return uxQueueSpacesAvailable(queue_id);
 2821              		.loc 1 1661 0
 2822 0002 FFF7FEFF 		bl	uxQueueSpacesAvailable
 2823              	.LVL275:
1662:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2824              		.loc 1 1662 0
 2825 0006 08BD     		pop	{r3, pc}
 2826              		.cfi_endproc
 2827              	.LFE190:
 2829              		.section	.text.osMessageDelete,"ax",%progbits
 2830              		.align	2
 2831              		.global	osMessageDelete
 2832              		.thumb
 2833              		.thumb_func
 2835              	osMessageDelete:
 2836              	.LFB191:
1663:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1664:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1665:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Message Queue
1666:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1667:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1668:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1669:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMessageDelete (osMessageQId queue_id)
1670:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2837              		.loc 1 1670 0
 2838              		.cfi_startproc
 2839              		@ args = 0, pretend = 0, frame = 0
 2840              		@ frame_needed = 0, uses_anonymous_args = 0
 2841              	.LVL276:
 2842 0000 10B5     		push	{r4, lr}
 2843              	.LCFI68:
 2844              		.cfi_def_cfa_offset 8
 2845              		.cfi_offset 4, -8
 2846              		.cfi_offset 14, -4
 2847 0002 0446     		mov	r4, r0
ARM GAS  /tmp/ccUoPQL6.s 			page 86


1671:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2848              		.loc 1 1671 0
 2849 0004 FFF7FEFF 		bl	inHandlerMode
 2850              	.LVL277:
 2851 0008 20B9     		cbnz	r0, .L262
1672:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
1673:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1674:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1675:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vQueueDelete(queue_id);
 2852              		.loc 1 1675 0
 2853 000a 2046     		mov	r0, r4
 2854 000c FFF7FEFF 		bl	vQueueDelete
 2855              	.LVL278:
1676:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1677:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK; 
 2856              		.loc 1 1677 0
 2857 0010 0020     		movs	r0, #0
 2858 0012 10BD     		pop	{r4, pc}
 2859              	.LVL279:
 2860              	.L262:
1672:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 2861              		.loc 1 1672 0
 2862 0014 8220     		movs	r0, #130
1678:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2863              		.loc 1 1678 0
 2864 0016 10BD     		pop	{r4, pc}
 2865              		.cfi_endproc
 2866              	.LFE191:
 2868              		.section	.text.osRecursiveMutexCreate,"ax",%progbits
 2869              		.align	2
 2870              		.global	osRecursiveMutexCreate
 2871              		.thumb
 2872              		.thumb_func
 2874              	osRecursiveMutexCreate:
 2875              	.LFB192:
1679:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1680:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1681:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create and Initialize a Recursive Mutex
1682:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mutex_def     mutex definition referenced with \ref osMutex.
1683:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  mutex ID for reference by other functions or NULL in case of error..
1684:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1685:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMutexId osRecursiveMutexCreate (const osMutexDef_t *mutex_def)
1686:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2876              		.loc 1 1686 0
 2877              		.cfi_startproc
 2878              		@ args = 0, pretend = 0, frame = 0
 2879              		@ frame_needed = 0, uses_anonymous_args = 0
 2880              		@ link register save eliminated.
 2881              	.LVL280:
1687:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1688:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
1689:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1690:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_def->controlblock != NULL){
1691:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateRecursiveMutexStatic( mutex_def->controlblock );
1692:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1693:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1694:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateRecursiveMutex();
ARM GAS  /tmp/ccUoPQL6.s 			page 87


1695:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1696:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
1697:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateRecursiveMutexStatic( mutex_def->controlblock );
1698:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
1699:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateRecursiveMutex();
1700:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1701:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1702:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
1703:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif	
1704:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2882              		.loc 1 1704 0
 2883 0000 0020     		movs	r0, #0
 2884              	.LVL281:
 2885 0002 7047     		bx	lr
 2886              		.cfi_endproc
 2887              	.LFE192:
 2889              		.section	.text.osRecursiveMutexRelease,"ax",%progbits
 2890              		.align	2
 2891              		.global	osRecursiveMutexRelease
 2892              		.thumb
 2893              		.thumb_func
 2895              	osRecursiveMutexRelease:
 2896              	.LFB193:
1705:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1706:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1707:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Release a Recursive Mutex
1708:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   mutex_id      mutex ID obtained by \ref osRecursiveMutexCreate.
1709:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1710:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1711:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osRecursiveMutexRelease (osMutexId mutex_id)
1712:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2897              		.loc 1 1712 0
 2898              		.cfi_startproc
 2899              		@ args = 0, pretend = 0, frame = 0
 2900              		@ frame_needed = 0, uses_anonymous_args = 0
 2901              		@ link register save eliminated.
 2902              	.LVL282:
1713:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1714:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
1715:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
1716:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xSemaphoreGiveRecursive(mutex_id) != pdTRUE) 
1717:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1718:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osErrorOS;
1719:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1720:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
1721:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1722:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return osErrorResource;
1723:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1724:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2903              		.loc 1 1724 0
 2904 0000 8120     		movs	r0, #129
 2905              	.LVL283:
 2906 0002 7047     		bx	lr
 2907              		.cfi_endproc
 2908              	.LFE193:
 2910              		.section	.text.osRecursiveMutexWait,"ax",%progbits
 2911              		.align	2
ARM GAS  /tmp/ccUoPQL6.s 			page 88


 2912              		.global	osRecursiveMutexWait
 2913              		.thumb
 2914              		.thumb_func
 2916              	osRecursiveMutexWait:
 2917              	.LFB194:
1725:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1726:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1727:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Release a Recursive Mutex
1728:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   mutex_id    mutex ID obtained by \ref osRecursiveMutexCreate.
1729:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec      timeout value or 0 in case of no time-out.
1730:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1731:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1732:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osRecursiveMutexWait (osMutexId mutex_id, uint32_t millisec)
1733:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2918              		.loc 1 1733 0
 2919              		.cfi_startproc
 2920              		@ args = 0, pretend = 0, frame = 0
 2921              		@ frame_needed = 0, uses_anonymous_args = 0
 2922              		@ link register save eliminated.
 2923              	.LVL284:
1734:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1735:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1736:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1737:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_id == NULL)
1738:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1739:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1740:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1741:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1742:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
1743:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) 
1744:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1745:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
1746:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1747:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) 
1748:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1749:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
1750:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) 
1751:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
1752:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
1753:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1754:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1755:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1756:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xSemaphoreTakeRecursive(mutex_id, ticks) != pdTRUE) 
1757:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1758:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
1759:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1760:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1761:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1762:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return osErrorResource;
1763:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1764:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2924              		.loc 1 1764 0
 2925 0000 8120     		movs	r0, #129
 2926              	.LVL285:
 2927 0002 7047     		bx	lr
 2928              		.cfi_endproc
 2929              	.LFE194:
ARM GAS  /tmp/ccUoPQL6.s 			page 89


 2931              		.section	.text.osSemaphoreGetCount,"ax",%progbits
 2932              		.align	2
 2933              		.global	osSemaphoreGetCount
 2934              		.thumb
 2935              		.thumb_func
 2937              	osSemaphoreGetCount:
 2938              	.LFB195:
1765:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1766:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1767:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Returns the current count value of a counting semaphore
1768:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore_id ID obtained by \ref osSemaphoreCreate.
1769:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  count value
1770:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1771:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osSemaphoreGetCount(osSemaphoreId semaphore_id)
1772:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2939              		.loc 1 1772 0
 2940              		.cfi_startproc
 2941              		@ args = 0, pretend = 0, frame = 0
 2942              		@ frame_needed = 0, uses_anonymous_args = 0
 2943              	.LVL286:
 2944 0000 08B5     		push	{r3, lr}
 2945              	.LCFI69:
 2946              		.cfi_def_cfa_offset 8
 2947              		.cfi_offset 3, -8
 2948              		.cfi_offset 14, -4
1773:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return uxSemaphoreGetCount(semaphore_id);
 2949              		.loc 1 1773 0
 2950 0002 FFF7FEFF 		bl	uxQueueMessagesWaiting
 2951              	.LVL287:
1774:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2952              		.loc 1 1774 0
 2953 0006 08BD     		pop	{r3, pc}
 2954              		.cfi_endproc
 2955              	.LFE195:
 2957              		.text
 2958              	.Letext0:
 2959              		.file 4 "/home/reglisse/opt/gcc-arm-none-eabi-4_9-2015q3/lib/gcc/arm-none-eabi/4.9.3/include/stdde
 2960              		.file 5 "/home/reglisse/opt/gcc-arm-none-eabi-4_9-2015q3/arm-none-eabi/include/machine/_default_ty
 2961              		.file 6 "/home/reglisse/opt/gcc-arm-none-eabi-4_9-2015q3/arm-none-eabi/include/sys/_stdint.h"
 2962              		.file 7 "Middlewares/Third_Party/FreeRTOS/Source/include/projdefs.h"
 2963              		.file 8 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 2964              		.file 9 "Middlewares/Third_Party/FreeRTOS/Source/include/timers.h"
 2965              		.file 10 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 2966              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 2967              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 2968              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/include/portable.h"
 2969              		.file 14 "Drivers/CMSIS/Include/core_cm7.h"
ARM GAS  /tmp/ccUoPQL6.s 			page 90


DEFINED SYMBOLS
                            *ABS*:00000000 cmsis_os.c
     /tmp/ccUoPQL6.s:20     .text.makeFreeRtosPriority:00000000 $t
     /tmp/ccUoPQL6.s:24     .text.makeFreeRtosPriority:00000000 makeFreeRtosPriority
     /tmp/ccUoPQL6.s:51     .text.makeCmsisPriority:00000000 $t
     /tmp/ccUoPQL6.s:55     .text.makeCmsisPriority:00000000 makeCmsisPriority
     /tmp/ccUoPQL6.s:85     .text.inHandlerMode:00000000 $t
     /tmp/ccUoPQL6.s:89     .text.inHandlerMode:00000000 inHandlerMode
     /tmp/ccUoPQL6.s:117    .text.osKernelStart:00000000 $t
     /tmp/ccUoPQL6.s:122    .text.osKernelStart:00000000 osKernelStart
     /tmp/ccUoPQL6.s:143    .text.osKernelRunning:00000000 $t
     /tmp/ccUoPQL6.s:148    .text.osKernelRunning:00000000 osKernelRunning
     /tmp/ccUoPQL6.s:176    .text.osKernelSysTick:00000000 $t
     /tmp/ccUoPQL6.s:181    .text.osKernelSysTick:00000000 osKernelSysTick
     /tmp/ccUoPQL6.s:210    .text.osThreadCreate:00000000 $t
     /tmp/ccUoPQL6.s:215    .text.osThreadCreate:00000000 osThreadCreate
     /tmp/ccUoPQL6.s:272    .text.osThreadGetId:00000000 $t
     /tmp/ccUoPQL6.s:277    .text.osThreadGetId:00000000 osThreadGetId
     /tmp/ccUoPQL6.s:297    .text.osThreadTerminate:00000000 $t
     /tmp/ccUoPQL6.s:302    .text.osThreadTerminate:00000000 osThreadTerminate
     /tmp/ccUoPQL6.s:324    .text.osThreadYield:00000000 $t
     /tmp/ccUoPQL6.s:329    .text.osThreadYield:00000000 osThreadYield
     /tmp/ccUoPQL6.s:353    .text.osThreadYield:00000014 $d
     /tmp/ccUoPQL6.s:358    .text.osThreadSetPriority:00000000 $t
     /tmp/ccUoPQL6.s:363    .text.osThreadSetPriority:00000000 osThreadSetPriority
     /tmp/ccUoPQL6.s:392    .text.osThreadGetPriority:00000000 $t
     /tmp/ccUoPQL6.s:397    .text.osThreadGetPriority:00000000 osThreadGetPriority
     /tmp/ccUoPQL6.s:436    .text.osDelay:00000000 $t
     /tmp/ccUoPQL6.s:441    .text.osDelay:00000000 osDelay
     /tmp/ccUoPQL6.s:472    .text.osTimerCreate:00000000 $t
     /tmp/ccUoPQL6.s:477    .text.osTimerCreate:00000000 osTimerCreate
     /tmp/ccUoPQL6.s:493    .text.osTimerStart:00000000 $t
     /tmp/ccUoPQL6.s:498    .text.osTimerStart:00000000 osTimerStart
     /tmp/ccUoPQL6.s:514    .text.osTimerStop:00000000 $t
     /tmp/ccUoPQL6.s:519    .text.osTimerStop:00000000 osTimerStop
     /tmp/ccUoPQL6.s:535    .text.osTimerDelete:00000000 $t
     /tmp/ccUoPQL6.s:540    .text.osTimerDelete:00000000 osTimerDelete
     /tmp/ccUoPQL6.s:556    .text.osSignalSet:00000000 $t
     /tmp/ccUoPQL6.s:561    .text.osSignalSet:00000000 osSignalSet
     /tmp/ccUoPQL6.s:646    .text.osSignalSet:00000060 $d
     /tmp/ccUoPQL6.s:651    .text.osSignalWait:00000000 $t
     /tmp/ccUoPQL6.s:656    .text.osSignalWait:00000000 osSignalWait
     /tmp/ccUoPQL6.s:750    .text.osMutexCreate:00000000 $t
     /tmp/ccUoPQL6.s:755    .text.osMutexCreate:00000000 osMutexCreate
     /tmp/ccUoPQL6.s:778    .text.osMutexWait:00000000 $t
     /tmp/ccUoPQL6.s:783    .text.osMutexWait:00000000 osMutexWait
     /tmp/ccUoPQL6.s:889    .text.osMutexWait:0000006c $d
     /tmp/ccUoPQL6.s:894    .text.osMutexRelease:00000000 $t
     /tmp/ccUoPQL6.s:899    .text.osMutexRelease:00000000 osMutexRelease
     /tmp/ccUoPQL6.s:985    .text.osMutexRelease:00000058 $d
     /tmp/ccUoPQL6.s:990    .text.osMutexDelete:00000000 $t
     /tmp/ccUoPQL6.s:995    .text.osMutexDelete:00000000 osMutexDelete
     /tmp/ccUoPQL6.s:1029   .text.osSemaphoreCreate:00000000 $t
     /tmp/ccUoPQL6.s:1034   .text.osSemaphoreCreate:00000000 osSemaphoreCreate
     /tmp/ccUoPQL6.s:1084   .text.osSemaphoreWait:00000000 $t
     /tmp/ccUoPQL6.s:1089   .text.osSemaphoreWait:00000000 osSemaphoreWait
     /tmp/ccUoPQL6.s:1192   .text.osSemaphoreWait:00000068 $d
ARM GAS  /tmp/ccUoPQL6.s 			page 91


     /tmp/ccUoPQL6.s:1197   .text.osSemaphoreRelease:00000000 $t
     /tmp/ccUoPQL6.s:1202   .text.osSemaphoreRelease:00000000 osSemaphoreRelease
     /tmp/ccUoPQL6.s:1288   .text.osSemaphoreRelease:00000058 $d
     /tmp/ccUoPQL6.s:1293   .text.osSemaphoreDelete:00000000 $t
     /tmp/ccUoPQL6.s:1298   .text.osSemaphoreDelete:00000000 osSemaphoreDelete
     /tmp/ccUoPQL6.s:1332   .text.osPoolCreate:00000000 $t
     /tmp/ccUoPQL6.s:1337   .text.osPoolCreate:00000000 osPoolCreate
     /tmp/ccUoPQL6.s:1440   .text.osPoolAlloc:00000000 $t
     /tmp/ccUoPQL6.s:1445   .text.osPoolAlloc:00000000 osPoolAlloc
     /tmp/ccUoPQL6.s:1566   .text.osPoolCAlloc:00000000 $t
     /tmp/ccUoPQL6.s:1571   .text.osPoolCAlloc:00000000 osPoolCAlloc
     /tmp/ccUoPQL6.s:1606   .text.osPoolFree:00000000 $t
     /tmp/ccUoPQL6.s:1611   .text.osPoolFree:00000000 osPoolFree
     /tmp/ccUoPQL6.s:1683   .text.osMessageCreate:00000000 $t
     /tmp/ccUoPQL6.s:1688   .text.osMessageCreate:00000000 osMessageCreate
     /tmp/ccUoPQL6.s:1715   .text.osMessagePut:00000000 $t
     /tmp/ccUoPQL6.s:1720   .text.osMessagePut:00000000 osMessagePut
     /tmp/ccUoPQL6.s:1815   .text.osMessagePut:00000064 $d
     /tmp/ccUoPQL6.s:1820   .text.osMessageGet:00000000 $t
     /tmp/ccUoPQL6.s:1825   .text.osMessageGet:00000000 osMessageGet
     /tmp/ccUoPQL6.s:1957   .text.osMessageGet:00000098 $d
     /tmp/ccUoPQL6.s:1962   .text.osMailCreate:00000000 $t
     /tmp/ccUoPQL6.s:1967   .text.osMailCreate:00000000 osMailCreate
     /tmp/ccUoPQL6.s:2052   .text.osMailAlloc:00000000 $t
     /tmp/ccUoPQL6.s:2057   .text.osMailAlloc:00000000 osMailAlloc
     /tmp/ccUoPQL6.s:2093   .text.osMailCAlloc:00000000 $t
     /tmp/ccUoPQL6.s:2098   .text.osMailCAlloc:00000000 osMailCAlloc
     /tmp/ccUoPQL6.s:2147   .text.osMailPut:00000000 $t
     /tmp/ccUoPQL6.s:2152   .text.osMailPut:00000000 osMailPut
     /tmp/ccUoPQL6.s:2248   .text.osMailPut:00000064 $d
     /tmp/ccUoPQL6.s:2253   .text.osMailGet:00000000 $t
     /tmp/ccUoPQL6.s:2258   .text.osMailGet:00000000 osMailGet
     /tmp/ccUoPQL6.s:2387   .text.osMailGet:00000094 $d
     /tmp/ccUoPQL6.s:2392   .text.osMailFree:00000000 $t
     /tmp/ccUoPQL6.s:2397   .text.osMailFree:00000000 osMailFree
     /tmp/ccUoPQL6.s:2432   .text.osSystickHandler:00000000 $t
     /tmp/ccUoPQL6.s:2437   .text.osSystickHandler:00000000 osSystickHandler
     /tmp/ccUoPQL6.s:2462   .text.osThreadSuspend:00000000 $t
     /tmp/ccUoPQL6.s:2467   .text.osThreadSuspend:00000000 osThreadSuspend
     /tmp/ccUoPQL6.s:2489   .text.osThreadResume:00000000 $t
     /tmp/ccUoPQL6.s:2494   .text.osThreadResume:00000000 osThreadResume
     /tmp/ccUoPQL6.s:2542   .text.osThreadResume:00000030 $d
     /tmp/ccUoPQL6.s:2547   .text.osThreadSuspendAll:00000000 $t
     /tmp/ccUoPQL6.s:2552   .text.osThreadSuspendAll:00000000 osThreadSuspendAll
     /tmp/ccUoPQL6.s:2573   .text.osThreadResumeAll:00000000 $t
     /tmp/ccUoPQL6.s:2578   .text.osThreadResumeAll:00000000 osThreadResumeAll
     /tmp/ccUoPQL6.s:2606   .text.osDelayUntil:00000000 $t
     /tmp/ccUoPQL6.s:2611   .text.osDelayUntil:00000000 osDelayUntil
     /tmp/ccUoPQL6.s:2627   .text.osAbortDelay:00000000 $t
     /tmp/ccUoPQL6.s:2632   .text.osAbortDelay:00000000 osAbortDelay
     /tmp/ccUoPQL6.s:2648   .text.osThreadList:00000000 $t
     /tmp/ccUoPQL6.s:2653   .text.osThreadList:00000000 osThreadList
     /tmp/ccUoPQL6.s:2669   .text.osMessagePeek:00000000 $t
     /tmp/ccUoPQL6.s:2674   .text.osMessagePeek:00000000 osMessagePeek
     /tmp/ccUoPQL6.s:2765   .text.osMessageWaiting:00000000 $t
     /tmp/ccUoPQL6.s:2770   .text.osMessageWaiting:00000000 osMessageWaiting
     /tmp/ccUoPQL6.s:2804   .text.osMessageAvailableSpace:00000000 $t
ARM GAS  /tmp/ccUoPQL6.s 			page 92


     /tmp/ccUoPQL6.s:2809   .text.osMessageAvailableSpace:00000000 osMessageAvailableSpace
     /tmp/ccUoPQL6.s:2830   .text.osMessageDelete:00000000 $t
     /tmp/ccUoPQL6.s:2835   .text.osMessageDelete:00000000 osMessageDelete
     /tmp/ccUoPQL6.s:2869   .text.osRecursiveMutexCreate:00000000 $t
     /tmp/ccUoPQL6.s:2874   .text.osRecursiveMutexCreate:00000000 osRecursiveMutexCreate
     /tmp/ccUoPQL6.s:2890   .text.osRecursiveMutexRelease:00000000 $t
     /tmp/ccUoPQL6.s:2895   .text.osRecursiveMutexRelease:00000000 osRecursiveMutexRelease
     /tmp/ccUoPQL6.s:2911   .text.osRecursiveMutexWait:00000000 $t
     /tmp/ccUoPQL6.s:2916   .text.osRecursiveMutexWait:00000000 osRecursiveMutexWait
     /tmp/ccUoPQL6.s:2932   .text.osSemaphoreGetCount:00000000 $t
     /tmp/ccUoPQL6.s:2937   .text.osSemaphoreGetCount:00000000 osSemaphoreGetCount
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
vTaskStartScheduler
xTaskGetSchedulerState
xTaskGetTickCountFromISR
xTaskGetTickCount
xTaskCreate
xTaskGetCurrentTaskHandle
vTaskDelete
vTaskPrioritySet
uxTaskPriorityGetFromISR
uxTaskPriorityGet
vTaskDelay
xTaskGenericNotifyFromISR
xTaskGenericNotify
xTaskNotifyWait
xQueueCreateMutex
xQueueReceiveFromISR
xQueueGenericReceive
xQueueGiveFromISR
xQueueGenericSend
vQueueDelete
xQueueGenericCreate
pvPortMalloc
vPortFree
vPortEnterCritical
vPortExitCritical
xQueueGenericSendFromISR
xPortSysTickHandler
vTaskSuspend
xTaskResumeFromISR
vTaskResume
vTaskSuspendAll
xTaskResumeAll
uxQueueMessagesWaitingFromISR
uxQueueMessagesWaiting
uxQueueSpacesAvailable
